var aw=Object.defineProperty;var Dd=e=>{throw TypeError(e)};var uw=(e,t,r)=>t in e?aw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ze=(e,t,r)=>uw(e,typeof t!="symbol"?t+"":t,r),ja=(e,t,r)=>t.has(e)||Dd("Cannot "+r);var L=(e,t,r)=>(ja(e,t,"read from private field"),r?r.call(e):t.get(e)),je=(e,t,r)=>t.has(e)?Dd("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ie=(e,t,r,n)=>(ja(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ae=(e,t,r)=>(ja(e,t,"access private method"),r);var Rs=(e,t,r,n)=>({set _(o){Ie(e,t,o,r)},get _(){return L(e,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();function cw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ng={exports:{}},ha={},ig={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bs=Symbol.for("react.element"),hw=Symbol.for("react.portal"),fw=Symbol.for("react.fragment"),dw=Symbol.for("react.strict_mode"),pw=Symbol.for("react.profiler"),mw=Symbol.for("react.provider"),gw=Symbol.for("react.context"),yw=Symbol.for("react.forward_ref"),vw=Symbol.for("react.suspense"),ww=Symbol.for("react.memo"),_w=Symbol.for("react.lazy"),Wd=Symbol.iterator;function bw(e){return e===null||typeof e!="object"?null:(e=Wd&&e[Wd]||e["@@iterator"],typeof e=="function"?e:null)}var og={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sg=Object.assign,lg={};function ao(e,t,r){this.props=e,this.context=t,this.refs=lg,this.updater=r||og}ao.prototype.isReactComponent={};ao.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ao.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ag(){}ag.prototype=ao.prototype;function cf(e,t,r){this.props=e,this.context=t,this.refs=lg,this.updater=r||og}var hf=cf.prototype=new ag;hf.constructor=cf;sg(hf,ao.prototype);hf.isPureReactComponent=!0;var zd=Array.isArray,ug=Object.prototype.hasOwnProperty,ff={current:null},cg={key:!0,ref:!0,__self:!0,__source:!0};function hg(e,t,r){var n,o={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)ug.call(t,n)&&!cg.hasOwnProperty(n)&&(o[n]=t[n]);var l=arguments.length-2;if(l===1)o.children=r;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)o[n]===void 0&&(o[n]=l[n]);return{$$typeof:bs,type:e,key:i,ref:s,props:o,_owner:ff.current}}function Sw(e,t){return{$$typeof:bs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function df(e){return typeof e=="object"&&e!==null&&e.$$typeof===bs}function Ew(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Hd=/\/+/g;function Ua(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ew(""+e.key):t.toString(36)}function sl(e,t,r,n,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case bs:case hw:s=!0}}if(s)return s=e,o=o(s),e=n===""?"."+Ua(s,0):n,zd(o)?(r="",e!=null&&(r=e.replace(Hd,"$&/")+"/"),sl(o,t,r,"",function(u){return u})):o!=null&&(df(o)&&(o=Sw(o,r+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Hd,"$&/")+"/")+e)),t.push(o)),1;if(s=0,n=n===""?".":n+":",zd(e))for(var l=0;l<e.length;l++){i=e[l];var a=n+Ua(i,l);s+=sl(i,t,r,a,o)}else if(a=bw(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=n+Ua(i,l++),s+=sl(i,t,r,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Os(e,t,r){if(e==null)return e;var n=[],o=0;return sl(e,n,"","",function(i){return t.call(r,i,o++)}),n}function kw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $t={current:null},ll={transition:null},Aw={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:ll,ReactCurrentOwner:ff};function fg(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:Os,forEach:function(e,t,r){Os(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Os(e,function(){t++}),t},toArray:function(e){return Os(e,function(t){return t})||[]},only:function(e){if(!df(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Component=ao;Ne.Fragment=fw;Ne.Profiler=pw;Ne.PureComponent=cf;Ne.StrictMode=dw;Ne.Suspense=vw;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Aw;Ne.act=fg;Ne.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=sg({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=ff.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)ug.call(t,a)&&!cg.hasOwnProperty(a)&&(n[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:bs,type:e.type,key:o,ref:i,props:n,_owner:s}};Ne.createContext=function(e){return e={$$typeof:gw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mw,_context:e},e.Consumer=e};Ne.createElement=hg;Ne.createFactory=function(e){var t=hg.bind(null,e);return t.type=e,t};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:yw,render:e}};Ne.isValidElement=df;Ne.lazy=function(e){return{$$typeof:_w,_payload:{_status:-1,_result:e},_init:kw}};Ne.memo=function(e,t){return{$$typeof:ww,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=ll.transition;ll.transition={};try{e()}finally{ll.transition=t}};Ne.unstable_act=fg;Ne.useCallback=function(e,t){return $t.current.useCallback(e,t)};Ne.useContext=function(e){return $t.current.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e){return $t.current.useDeferredValue(e)};Ne.useEffect=function(e,t){return $t.current.useEffect(e,t)};Ne.useId=function(){return $t.current.useId()};Ne.useImperativeHandle=function(e,t,r){return $t.current.useImperativeHandle(e,t,r)};Ne.useInsertionEffect=function(e,t){return $t.current.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return $t.current.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return $t.current.useMemo(e,t)};Ne.useReducer=function(e,t,r){return $t.current.useReducer(e,t,r)};Ne.useRef=function(e){return $t.current.useRef(e)};Ne.useState=function(e){return $t.current.useState(e)};Ne.useSyncExternalStore=function(e,t,r){return $t.current.useSyncExternalStore(e,t,r)};Ne.useTransition=function(){return $t.current.useTransition()};Ne.version="18.3.1";ig.exports=Ne;var Ut=ig.exports;const Cw=cw(Ut);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw=Ut,xw=Symbol.for("react.element"),Pw=Symbol.for("react.fragment"),Tw=Object.prototype.hasOwnProperty,Rw=Iw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ow={key:!0,ref:!0,__self:!0,__source:!0};function dg(e,t,r){var n,o={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)Tw.call(t,n)&&!Ow.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:xw,type:e,key:i,ref:s,props:o,_owner:Rw.current}}ha.Fragment=Pw;ha.jsx=dg;ha.jsxs=dg;ng.exports=ha;var Ee=ng.exports,Bu={},pg={exports:{}},or={},mg={exports:{}},gg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,Z){var G=j.length;j.push(Z);e:for(;0<G;){var pe=G-1>>>1,S=j[pe];if(0<o(S,Z))j[pe]=Z,j[G]=S,G=pe;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var Z=j[0],G=j.pop();if(G!==Z){j[0]=G;e:for(var pe=0,S=j.length,X=S>>>1;pe<X;){var ae=2*(pe+1)-1,be=j[ae],se=ae+1,B=j[se];if(0>o(be,G))se<S&&0>o(B,be)?(j[pe]=B,j[se]=G,pe=se):(j[pe]=be,j[ae]=G,pe=ae);else if(se<S&&0>o(B,G))j[pe]=B,j[se]=G,pe=se;else break e}}return Z}function o(j,Z){var G=j.sortIndex-Z.sortIndex;return G!==0?G:j.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,f=null,p=3,g=!1,y=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(j){for(var Z=r(u);Z!==null;){if(Z.callback===null)n(u);else if(Z.startTime<=j)n(u),Z.sortIndex=Z.expirationTime,t(a,Z);else break;Z=r(u)}}function A(j){if(_=!1,w(j),!y)if(r(a)!==null)y=!0,ye(T);else{var Z=r(u);Z!==null&&oe(A,Z.startTime-j)}}function T(j,Z){y=!1,_&&(_=!1,b(x),x=-1),g=!0;var G=p;try{for(w(Z),f=r(a);f!==null&&(!(f.expirationTime>Z)||j&&!Q());){var pe=f.callback;if(typeof pe=="function"){f.callback=null,p=f.priorityLevel;var S=pe(f.expirationTime<=Z);Z=e.unstable_now(),typeof S=="function"?f.callback=S:f===r(a)&&n(a),w(Z)}else n(a);f=r(a)}if(f!==null)var X=!0;else{var ae=r(u);ae!==null&&oe(A,ae.startTime-Z),X=!1}return X}finally{f=null,p=G,g=!1}}var k=!1,E=null,x=-1,U=5,H=-1;function Q(){return!(e.unstable_now()-H<U)}function P(){if(E!==null){var j=e.unstable_now();H=j;var Z=!0;try{Z=E(!0,j)}finally{Z?V():(k=!1,E=null)}}else k=!1}var V;if(typeof v=="function")V=function(){v(P)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,J=te.port2;te.port1.onmessage=P,V=function(){J.postMessage(null)}}else V=function(){C(P,0)};function ye(j){E=j,k||(k=!0,V())}function oe(j,Z){x=C(function(){j(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){y||g||(y=!0,ye(T))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(a)},e.unstable_next=function(j){switch(p){case 1:case 2:case 3:var Z=3;break;default:Z=p}var G=p;p=Z;try{return j()}finally{p=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,Z){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var G=p;p=j;try{return Z()}finally{p=G}},e.unstable_scheduleCallback=function(j,Z,G){var pe=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?pe+G:pe):G=pe,j){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=G+S,j={id:c++,callback:Z,priorityLevel:j,startTime:G,expirationTime:S,sortIndex:-1},G>pe?(j.sortIndex=G,t(u,j),r(a)===null&&j===r(u)&&(_?(b(x),x=-1):_=!0,oe(A,G-pe))):(j.sortIndex=S,t(a,j),y||g||(y=!0,ye(T))),j},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(j){var Z=p;return function(){var G=p;p=Z;try{return j.apply(this,arguments)}finally{p=G}}}})(gg);mg.exports=gg;var Nw=mg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw=Ut,ir=Nw;function _e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yg=new Set,rs={};function gi(e,t){eo(e,t),eo(e+"Capture",t)}function eo(e,t){for(rs[e]=t,e=0;e<t.length;e++)yg.add(t[e])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lu=Object.prototype.hasOwnProperty,Bw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vd={},qd={};function Lw(e){return Lu.call(qd,e)?!0:Lu.call(Vd,e)?!1:Bw.test(e)?qd[e]=!0:(Vd[e]=!0,!1)}function jw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Uw(e,t,r,n){if(t===null||typeof t>"u"||jw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dt(e,t,r,n,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){At[e]=new Dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];At[t]=new Dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){At[e]=new Dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){At[e]=new Dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){At[e]=new Dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){At[e]=new Dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){At[e]=new Dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){At[e]=new Dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){At[e]=new Dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var pf=/[\-:]([a-z])/g;function mf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pf,mf);At[t]=new Dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pf,mf);At[t]=new Dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pf,mf);At[t]=new Dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){At[e]=new Dt(e,1,!1,e.toLowerCase(),null,!1,!1)});At.xlinkHref=new Dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){At[e]=new Dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function gf(e,t,r,n){var o=At.hasOwnProperty(t)?At[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Uw(t,r,o,n)&&(r=null),n||o===null?Lw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var fn=Mw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ns=Symbol.for("react.element"),Ti=Symbol.for("react.portal"),Ri=Symbol.for("react.fragment"),yf=Symbol.for("react.strict_mode"),ju=Symbol.for("react.profiler"),vg=Symbol.for("react.provider"),wg=Symbol.for("react.context"),vf=Symbol.for("react.forward_ref"),Uu=Symbol.for("react.suspense"),Fu=Symbol.for("react.suspense_list"),wf=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),_g=Symbol.for("react.offscreen"),Kd=Symbol.iterator;function vo(e){return e===null||typeof e!="object"?null:(e=Kd&&e[Kd]||e["@@iterator"],typeof e=="function"?e:null)}var it=Object.assign,Fa;function To(e){if(Fa===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Fa=t&&t[1]||""}return`
`+Fa+e}var $a=!1;function Da(e,t){if(!e||$a)return"";$a=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=n.stack.split(`
`),s=o.length-1,l=i.length-1;1<=s&&0<=l&&o[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(o[s]!==i[l]){if(s!==1||l!==1)do if(s--,l--,0>l||o[s]!==i[l]){var a=`
`+o[s].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=s&&0<=l);break}}}finally{$a=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?To(e):""}function Fw(e){switch(e.tag){case 5:return To(e.type);case 16:return To("Lazy");case 13:return To("Suspense");case 19:return To("SuspenseList");case 0:case 2:case 15:return e=Da(e.type,!1),e;case 11:return e=Da(e.type.render,!1),e;case 1:return e=Da(e.type,!0),e;default:return""}}function $u(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ri:return"Fragment";case Ti:return"Portal";case ju:return"Profiler";case yf:return"StrictMode";case Uu:return"Suspense";case Fu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wg:return(e.displayName||"Context")+".Consumer";case vg:return(e._context.displayName||"Context")+".Provider";case vf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wf:return t=e.displayName||null,t!==null?t:$u(e.type)||"Memo";case Sn:t=e._payload,e=e._init;try{return $u(e(t))}catch{}}return null}function $w(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $u(t);case 8:return t===yf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ln(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Dw(e){var t=bg(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ms(e){e._valueTracker||(e._valueTracker=Dw(e))}function Sg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=bg(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Du(e,t){var r=t.checked;return it({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Qd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ln(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Eg(e,t){t=t.checked,t!=null&&gf(e,"checked",t,!1)}function Wu(e,t){Eg(e,t);var r=Ln(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zu(e,t.type,r):t.hasOwnProperty("defaultValue")&&zu(e,t.type,Ln(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function zu(e,t,r){(t!=="number"||Ol(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ro=Array.isArray;function Hi(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ln(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Hu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_e(91));return it({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Gd(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(_e(92));if(Ro(r)){if(1<r.length)throw Error(_e(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ln(r)}}function kg(e,t){var r=Ln(t.value),n=Ln(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Jd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ag(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ag(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bs,Cg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bs=Bs||document.createElement("div"),Bs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ns(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var zo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ww=["Webkit","ms","Moz","O"];Object.keys(zo).forEach(function(e){Ww.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zo[t]=zo[e]})});function Ig(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||zo.hasOwnProperty(e)&&zo[e]?(""+t).trim():t+"px"}function xg(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=Ig(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var zw=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qu(e,t){if(t){if(zw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_e(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_e(62))}}function Ku(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qu=null;function _f(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yu=null,Vi=null,qi=null;function Xd(e){if(e=ks(e)){if(typeof Yu!="function")throw Error(_e(280));var t=e.stateNode;t&&(t=ga(t),Yu(e.stateNode,e.type,t))}}function Pg(e){Vi?qi?qi.push(e):qi=[e]:Vi=e}function Tg(){if(Vi){var e=Vi,t=qi;if(qi=Vi=null,Xd(e),t)for(e=0;e<t.length;e++)Xd(t[e])}}function Rg(e,t){return e(t)}function Og(){}var Wa=!1;function Ng(e,t,r){if(Wa)return e(t,r);Wa=!0;try{return Rg(e,t,r)}finally{Wa=!1,(Vi!==null||qi!==null)&&(Og(),Tg())}}function is(e,t){var r=e.stateNode;if(r===null)return null;var n=ga(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(_e(231,t,typeof r));return r}var Gu=!1;if(on)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{Gu=!1}function Hw(e,t,r,n,o,i,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Ho=!1,Nl=null,Ml=!1,Ju=null,Vw={onError:function(e){Ho=!0,Nl=e}};function qw(e,t,r,n,o,i,s,l,a){Ho=!1,Nl=null,Hw.apply(Vw,arguments)}function Kw(e,t,r,n,o,i,s,l,a){if(qw.apply(this,arguments),Ho){if(Ho){var u=Nl;Ho=!1,Nl=null}else throw Error(_e(198));Ml||(Ml=!0,Ju=u)}}function yi(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Mg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zd(e){if(yi(e)!==e)throw Error(_e(188))}function Qw(e){var t=e.alternate;if(!t){if(t=yi(e),t===null)throw Error(_e(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var i=o.alternate;if(i===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===r)return Zd(o),e;if(i===n)return Zd(o),t;i=i.sibling}throw Error(_e(188))}if(r.return!==n.return)r=o,n=i;else{for(var s=!1,l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s)throw Error(_e(189))}}if(r.alternate!==n)throw Error(_e(190))}if(r.tag!==3)throw Error(_e(188));return r.stateNode.current===r?e:t}function Bg(e){return e=Qw(e),e!==null?Lg(e):null}function Lg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Lg(e);if(t!==null)return t;e=e.sibling}return null}var jg=ir.unstable_scheduleCallback,ep=ir.unstable_cancelCallback,Yw=ir.unstable_shouldYield,Gw=ir.unstable_requestPaint,at=ir.unstable_now,Jw=ir.unstable_getCurrentPriorityLevel,bf=ir.unstable_ImmediatePriority,Ug=ir.unstable_UserBlockingPriority,Bl=ir.unstable_NormalPriority,Xw=ir.unstable_LowPriority,Fg=ir.unstable_IdlePriority,fa=null,Dr=null;function Zw(e){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(fa,e,void 0,(e.current.flags&128)===128)}catch{}}var Cr=Math.clz32?Math.clz32:r_,e_=Math.log,t_=Math.LN2;function r_(e){return e>>>=0,e===0?32:31-(e_(e)/t_|0)|0}var Ls=64,js=4194304;function Oo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ll(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var l=s&~o;l!==0?n=Oo(l):(i&=s,i!==0&&(n=Oo(i)))}else s=r&~o,s!==0?n=Oo(s):i!==0&&(n=Oo(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Cr(t),o=1<<r,n|=e[r],t&=~o;return n}function n_(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i_(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Cr(i),l=1<<s,a=o[s];a===-1?(!(l&r)||l&n)&&(o[s]=n_(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function Xu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function $g(){var e=Ls;return Ls<<=1,!(Ls&4194240)&&(Ls=64),e}function za(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ss(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Cr(t),e[t]=r}function o_(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-Cr(r),i=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~i}}function Sf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Cr(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var Fe=0;function Dg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Wg,Ef,zg,Hg,Vg,Zu=!1,Us=[],xn=null,Pn=null,Tn=null,os=new Map,ss=new Map,kn=[],s_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tp(e,t){switch(e){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":os.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(t.pointerId)}}function _o(e,t,r,n,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[o]},t!==null&&(t=ks(t),t!==null&&Ef(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function l_(e,t,r,n,o){switch(t){case"focusin":return xn=_o(xn,e,t,r,n,o),!0;case"dragenter":return Pn=_o(Pn,e,t,r,n,o),!0;case"mouseover":return Tn=_o(Tn,e,t,r,n,o),!0;case"pointerover":var i=o.pointerId;return os.set(i,_o(os.get(i)||null,e,t,r,n,o)),!0;case"gotpointercapture":return i=o.pointerId,ss.set(i,_o(ss.get(i)||null,e,t,r,n,o)),!0}return!1}function qg(e){var t=Zn(e.target);if(t!==null){var r=yi(t);if(r!==null){if(t=r.tag,t===13){if(t=Mg(r),t!==null){e.blockedOn=t,Vg(e.priority,function(){zg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function al(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ec(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Qu=n,r.target.dispatchEvent(n),Qu=null}else return t=ks(r),t!==null&&Ef(t),e.blockedOn=r,!1;t.shift()}return!0}function rp(e,t,r){al(e)&&r.delete(t)}function a_(){Zu=!1,xn!==null&&al(xn)&&(xn=null),Pn!==null&&al(Pn)&&(Pn=null),Tn!==null&&al(Tn)&&(Tn=null),os.forEach(rp),ss.forEach(rp)}function bo(e,t){e.blockedOn===t&&(e.blockedOn=null,Zu||(Zu=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,a_)))}function ls(e){function t(o){return bo(o,e)}if(0<Us.length){bo(Us[0],e);for(var r=1;r<Us.length;r++){var n=Us[r];n.blockedOn===e&&(n.blockedOn=null)}}for(xn!==null&&bo(xn,e),Pn!==null&&bo(Pn,e),Tn!==null&&bo(Tn,e),os.forEach(t),ss.forEach(t),r=0;r<kn.length;r++)n=kn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<kn.length&&(r=kn[0],r.blockedOn===null);)qg(r),r.blockedOn===null&&kn.shift()}var Ki=fn.ReactCurrentBatchConfig,jl=!0;function u_(e,t,r,n){var o=Fe,i=Ki.transition;Ki.transition=null;try{Fe=1,kf(e,t,r,n)}finally{Fe=o,Ki.transition=i}}function c_(e,t,r,n){var o=Fe,i=Ki.transition;Ki.transition=null;try{Fe=4,kf(e,t,r,n)}finally{Fe=o,Ki.transition=i}}function kf(e,t,r,n){if(jl){var o=ec(e,t,r,n);if(o===null)Za(e,t,n,Ul,r),tp(e,n);else if(l_(o,e,t,r,n))n.stopPropagation();else if(tp(e,n),t&4&&-1<s_.indexOf(e)){for(;o!==null;){var i=ks(o);if(i!==null&&Wg(i),i=ec(e,t,r,n),i===null&&Za(e,t,n,Ul,r),i===o)break;o=i}o!==null&&n.stopPropagation()}else Za(e,t,n,null,r)}}var Ul=null;function ec(e,t,r,n){if(Ul=null,e=_f(n),e=Zn(e),e!==null)if(t=yi(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Mg(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ul=e,null}function Kg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jw()){case bf:return 1;case Ug:return 4;case Bl:case Xw:return 16;case Fg:return 536870912;default:return 16}default:return 16}}var Cn=null,Af=null,ul=null;function Qg(){if(ul)return ul;var e,t=Af,r=t.length,n,o="value"in Cn?Cn.value:Cn.textContent,i=o.length;for(e=0;e<r&&t[e]===o[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===o[i-n];n++);return ul=o.slice(e,1<n?1-n:void 0)}function cl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fs(){return!0}function np(){return!1}function sr(e){function t(r,n,o,i,s){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fs:np,this.isPropagationStopped=np,this}return it(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fs)},persist:function(){},isPersistent:Fs}),t}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cf=sr(uo),Es=it({},uo,{view:0,detail:0}),h_=sr(Es),Ha,Va,So,da=it({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:If,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==So&&(So&&e.type==="mousemove"?(Ha=e.screenX-So.screenX,Va=e.screenY-So.screenY):Va=Ha=0,So=e),Ha)},movementY:function(e){return"movementY"in e?e.movementY:Va}}),ip=sr(da),f_=it({},da,{dataTransfer:0}),d_=sr(f_),p_=it({},Es,{relatedTarget:0}),qa=sr(p_),m_=it({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),g_=sr(m_),y_=it({},uo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),v_=sr(y_),w_=it({},uo,{data:0}),op=sr(w_),__={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=S_[e])?!!t[e]:!1}function If(){return E_}var k_=it({},Es,{key:function(e){if(e.key){var t=__[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:If,charCode:function(e){return e.type==="keypress"?cl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),A_=sr(k_),C_=it({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sp=sr(C_),I_=it({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:If}),x_=sr(I_),P_=it({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),T_=sr(P_),R_=it({},da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),O_=sr(R_),N_=[9,13,27,32],xf=on&&"CompositionEvent"in window,Vo=null;on&&"documentMode"in document&&(Vo=document.documentMode);var M_=on&&"TextEvent"in window&&!Vo,Yg=on&&(!xf||Vo&&8<Vo&&11>=Vo),lp=" ",ap=!1;function Gg(e,t){switch(e){case"keyup":return N_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oi=!1;function B_(e,t){switch(e){case"compositionend":return Jg(t);case"keypress":return t.which!==32?null:(ap=!0,lp);case"textInput":return e=t.data,e===lp&&ap?null:e;default:return null}}function L_(e,t){if(Oi)return e==="compositionend"||!xf&&Gg(e,t)?(e=Qg(),ul=Af=Cn=null,Oi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yg&&t.locale!=="ko"?null:t.data;default:return null}}var j_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function up(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!j_[e.type]:t==="textarea"}function Xg(e,t,r,n){Pg(n),t=Fl(t,"onChange"),0<t.length&&(r=new Cf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var qo=null,as=null;function U_(e){uy(e,0)}function pa(e){var t=Bi(e);if(Sg(t))return e}function F_(e,t){if(e==="change")return t}var Zg=!1;if(on){var Ka;if(on){var Qa="oninput"in document;if(!Qa){var cp=document.createElement("div");cp.setAttribute("oninput","return;"),Qa=typeof cp.oninput=="function"}Ka=Qa}else Ka=!1;Zg=Ka&&(!document.documentMode||9<document.documentMode)}function hp(){qo&&(qo.detachEvent("onpropertychange",ey),as=qo=null)}function ey(e){if(e.propertyName==="value"&&pa(as)){var t=[];Xg(t,as,e,_f(e)),Ng(U_,t)}}function $_(e,t,r){e==="focusin"?(hp(),qo=t,as=r,qo.attachEvent("onpropertychange",ey)):e==="focusout"&&hp()}function D_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pa(as)}function W_(e,t){if(e==="click")return pa(t)}function z_(e,t){if(e==="input"||e==="change")return pa(t)}function H_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xr=typeof Object.is=="function"?Object.is:H_;function us(e,t){if(xr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!Lu.call(t,o)||!xr(e[o],t[o]))return!1}return!0}function fp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dp(e,t){var r=fp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fp(r)}}function ty(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ty(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ry(){for(var e=window,t=Ol();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ol(e.document)}return t}function Pf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function V_(e){var t=ry(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ty(r.ownerDocument.documentElement,r)){if(n!==null&&Pf(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,i=Math.min(n.start,o);n=n.end===void 0?i:Math.min(n.end,o),!e.extend&&i>n&&(o=n,n=i,i=o),o=dp(r,i);var s=dp(r,n);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var q_=on&&"documentMode"in document&&11>=document.documentMode,Ni=null,tc=null,Ko=null,rc=!1;function pp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;rc||Ni==null||Ni!==Ol(n)||(n=Ni,"selectionStart"in n&&Pf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ko&&us(Ko,n)||(Ko=n,n=Fl(tc,"onSelect"),0<n.length&&(t=new Cf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ni)))}function $s(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Mi={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionend:$s("Transition","TransitionEnd")},Ya={},ny={};on&&(ny=document.createElement("div").style,"AnimationEvent"in window||(delete Mi.animationend.animation,delete Mi.animationiteration.animation,delete Mi.animationstart.animation),"TransitionEvent"in window||delete Mi.transitionend.transition);function ma(e){if(Ya[e])return Ya[e];if(!Mi[e])return e;var t=Mi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ny)return Ya[e]=t[r];return e}var iy=ma("animationend"),oy=ma("animationiteration"),sy=ma("animationstart"),ly=ma("transitionend"),ay=new Map,mp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(e,t){ay.set(e,t),gi(t,[e])}for(var Ga=0;Ga<mp.length;Ga++){var Ja=mp[Ga],K_=Ja.toLowerCase(),Q_=Ja[0].toUpperCase()+Ja.slice(1);Un(K_,"on"+Q_)}Un(iy,"onAnimationEnd");Un(oy,"onAnimationIteration");Un(sy,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(ly,"onTransitionEnd");eo("onMouseEnter",["mouseout","mouseover"]);eo("onMouseLeave",["mouseout","mouseover"]);eo("onPointerEnter",["pointerout","pointerover"]);eo("onPointerLeave",["pointerout","pointerover"]);gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y_=new Set("cancel close invalid load scroll toggle".split(" ").concat(No));function gp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Kw(n,t,void 0,e),e.currentTarget=null}function uy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var l=n[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&o.isPropagationStopped())break e;gp(o,l,u),i=a}else for(s=0;s<n.length;s++){if(l=n[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&o.isPropagationStopped())break e;gp(o,l,u),i=a}}}if(Ml)throw e=Ju,Ml=!1,Ju=null,e}function Ke(e,t){var r=t[lc];r===void 0&&(r=t[lc]=new Set);var n=e+"__bubble";r.has(n)||(cy(t,e,2,!1),r.add(n))}function Xa(e,t,r){var n=0;t&&(n|=4),cy(r,e,n,t)}var Ds="_reactListening"+Math.random().toString(36).slice(2);function cs(e){if(!e[Ds]){e[Ds]=!0,yg.forEach(function(r){r!=="selectionchange"&&(Y_.has(r)||Xa(r,!1,e),Xa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ds]||(t[Ds]=!0,Xa("selectionchange",!1,t))}}function cy(e,t,r,n){switch(Kg(t)){case 1:var o=u_;break;case 4:o=c_;break;default:o=kf}r=o.bind(null,t,r,e),o=void 0,!Gu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function Za(e,t,r,n,o){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var l=n.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(s===4)for(s=n.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;s=s.return}for(;l!==null;){if(s=Zn(l),s===null)return;if(a=s.tag,a===5||a===6){n=i=s;continue e}l=l.parentNode}}n=n.return}Ng(function(){var u=i,c=_f(r),f=[];e:{var p=ay.get(e);if(p!==void 0){var g=Cf,y=e;switch(e){case"keypress":if(cl(r)===0)break e;case"keydown":case"keyup":g=A_;break;case"focusin":y="focus",g=qa;break;case"focusout":y="blur",g=qa;break;case"beforeblur":case"afterblur":g=qa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ip;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=d_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=x_;break;case iy:case oy:case sy:g=g_;break;case ly:g=T_;break;case"scroll":g=h_;break;case"wheel":g=O_;break;case"copy":case"cut":case"paste":g=v_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=sp}var _=(t&4)!==0,C=!_&&e==="scroll",b=_?p!==null?p+"Capture":null:p;_=[];for(var v=u,w;v!==null;){w=v;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,b!==null&&(A=is(v,b),A!=null&&_.push(hs(v,A,w)))),C)break;v=v.return}0<_.length&&(p=new g(p,y,null,r,c),f.push({event:p,listeners:_}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",p&&r!==Qu&&(y=r.relatedTarget||r.fromElement)&&(Zn(y)||y[sn]))break e;if((g||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,g?(y=r.relatedTarget||r.toElement,g=u,y=y?Zn(y):null,y!==null&&(C=yi(y),y!==C||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(_=ip,A="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(_=sp,A="onPointerLeave",b="onPointerEnter",v="pointer"),C=g==null?p:Bi(g),w=y==null?p:Bi(y),p=new _(A,v+"leave",g,r,c),p.target=C,p.relatedTarget=w,A=null,Zn(c)===u&&(_=new _(b,v+"enter",y,r,c),_.target=w,_.relatedTarget=C,A=_),C=A,g&&y)t:{for(_=g,b=y,v=0,w=_;w;w=Ei(w))v++;for(w=0,A=b;A;A=Ei(A))w++;for(;0<v-w;)_=Ei(_),v--;for(;0<w-v;)b=Ei(b),w--;for(;v--;){if(_===b||b!==null&&_===b.alternate)break t;_=Ei(_),b=Ei(b)}_=null}else _=null;g!==null&&yp(f,p,g,_,!1),y!==null&&C!==null&&yp(f,C,y,_,!0)}}e:{if(p=u?Bi(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var T=F_;else if(up(p))if(Zg)T=z_;else{T=D_;var k=$_}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=W_);if(T&&(T=T(e,u))){Xg(f,T,r,c);break e}k&&k(e,p,u),e==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&zu(p,"number",p.value)}switch(k=u?Bi(u):window,e){case"focusin":(up(k)||k.contentEditable==="true")&&(Ni=k,tc=u,Ko=null);break;case"focusout":Ko=tc=Ni=null;break;case"mousedown":rc=!0;break;case"contextmenu":case"mouseup":case"dragend":rc=!1,pp(f,r,c);break;case"selectionchange":if(q_)break;case"keydown":case"keyup":pp(f,r,c)}var E;if(xf)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Oi?Gg(e,r)&&(x="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(x="onCompositionStart");x&&(Yg&&r.locale!=="ko"&&(Oi||x!=="onCompositionStart"?x==="onCompositionEnd"&&Oi&&(E=Qg()):(Cn=c,Af="value"in Cn?Cn.value:Cn.textContent,Oi=!0)),k=Fl(u,x),0<k.length&&(x=new op(x,e,null,r,c),f.push({event:x,listeners:k}),E?x.data=E:(E=Jg(r),E!==null&&(x.data=E)))),(E=M_?B_(e,r):L_(e,r))&&(u=Fl(u,"onBeforeInput"),0<u.length&&(c=new op("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=E))}uy(f,t)})}function hs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fl(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=is(e,r),i!=null&&n.unshift(hs(e,i,o)),i=is(e,t),i!=null&&n.push(hs(e,i,o))),e=e.return}return n}function Ei(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yp(e,t,r,n,o){for(var i=t._reactName,s=[];r!==null&&r!==n;){var l=r,a=l.alternate,u=l.stateNode;if(a!==null&&a===n)break;l.tag===5&&u!==null&&(l=u,o?(a=is(r,i),a!=null&&s.unshift(hs(r,a,l))):o||(a=is(r,i),a!=null&&s.push(hs(r,a,l)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var G_=/\r\n?/g,J_=/\u0000|\uFFFD/g;function vp(e){return(typeof e=="string"?e:""+e).replace(G_,`
`).replace(J_,"")}function Ws(e,t,r){if(t=vp(t),vp(e)!==t&&r)throw Error(_e(425))}function $l(){}var nc=null,ic=null;function oc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var sc=typeof setTimeout=="function"?setTimeout:void 0,X_=typeof clearTimeout=="function"?clearTimeout:void 0,wp=typeof Promise=="function"?Promise:void 0,Z_=typeof queueMicrotask=="function"?queueMicrotask:typeof wp<"u"?function(e){return wp.resolve(null).then(e).catch(eb)}:sc;function eb(e){setTimeout(function(){throw e})}function eu(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),ls(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);ls(t)}function Rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _p(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var co=Math.random().toString(36).slice(2),jr="__reactFiber$"+co,fs="__reactProps$"+co,sn="__reactContainer$"+co,lc="__reactEvents$"+co,tb="__reactListeners$"+co,rb="__reactHandles$"+co;function Zn(e){var t=e[jr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[sn]||r[jr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_p(e);e!==null;){if(r=e[jr])return r;e=_p(e)}return t}e=r,r=e.parentNode}return null}function ks(e){return e=e[jr]||e[sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_e(33))}function ga(e){return e[fs]||null}var ac=[],Li=-1;function Fn(e){return{current:e}}function Qe(e){0>Li||(e.current=ac[Li],ac[Li]=null,Li--)}function qe(e,t){Li++,ac[Li]=e.current,e.current=t}var jn={},Bt=Fn(jn),qt=Fn(!1),ci=jn;function to(e,t){var r=e.type.contextTypes;if(!r)return jn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in r)o[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Kt(e){return e=e.childContextTypes,e!=null}function Dl(){Qe(qt),Qe(Bt)}function bp(e,t,r){if(Bt.current!==jn)throw Error(_e(168));qe(Bt,t),qe(qt,r)}function hy(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(_e(108,$w(e)||"Unknown",o));return it({},r,n)}function Wl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,ci=Bt.current,qe(Bt,e),qe(qt,qt.current),!0}function Sp(e,t,r){var n=e.stateNode;if(!n)throw Error(_e(169));r?(e=hy(e,t,ci),n.__reactInternalMemoizedMergedChildContext=e,Qe(qt),Qe(Bt),qe(Bt,e)):Qe(qt),qe(qt,r)}var Jr=null,ya=!1,tu=!1;function fy(e){Jr===null?Jr=[e]:Jr.push(e)}function nb(e){ya=!0,fy(e)}function $n(){if(!tu&&Jr!==null){tu=!0;var e=0,t=Fe;try{var r=Jr;for(Fe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Jr=null,ya=!1}catch(o){throw Jr!==null&&(Jr=Jr.slice(e+1)),jg(bf,$n),o}finally{Fe=t,tu=!1}}return null}var ji=[],Ui=0,zl=null,Hl=0,ar=[],ur=0,hi=null,Zr=1,en="";function Qn(e,t){ji[Ui++]=Hl,ji[Ui++]=zl,zl=e,Hl=t}function dy(e,t,r){ar[ur++]=Zr,ar[ur++]=en,ar[ur++]=hi,hi=e;var n=Zr;e=en;var o=32-Cr(n)-1;n&=~(1<<o),r+=1;var i=32-Cr(t)+o;if(30<i){var s=o-o%5;i=(n&(1<<s)-1).toString(32),n>>=s,o-=s,Zr=1<<32-Cr(t)+o|r<<o|n,en=i+e}else Zr=1<<i|r<<o|n,en=e}function Tf(e){e.return!==null&&(Qn(e,1),dy(e,1,0))}function Rf(e){for(;e===zl;)zl=ji[--Ui],ji[Ui]=null,Hl=ji[--Ui],ji[Ui]=null;for(;e===hi;)hi=ar[--ur],ar[ur]=null,en=ar[--ur],ar[ur]=null,Zr=ar[--ur],ar[ur]=null}var nr=null,rr=null,Xe=!1,Er=null;function py(e,t){var r=cr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ep(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,nr=e,rr=Rn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,nr=e,rr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=hi!==null?{id:Zr,overflow:en}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=cr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,nr=e,rr=null,!0):!1;default:return!1}}function uc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function cc(e){if(Xe){var t=rr;if(t){var r=t;if(!Ep(e,t)){if(uc(e))throw Error(_e(418));t=Rn(r.nextSibling);var n=nr;t&&Ep(e,t)?py(n,r):(e.flags=e.flags&-4097|2,Xe=!1,nr=e)}}else{if(uc(e))throw Error(_e(418));e.flags=e.flags&-4097|2,Xe=!1,nr=e}}}function kp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;nr=e}function zs(e){if(e!==nr)return!1;if(!Xe)return kp(e),Xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!oc(e.type,e.memoizedProps)),t&&(t=rr)){if(uc(e))throw my(),Error(_e(418));for(;t;)py(e,t),t=Rn(t.nextSibling)}if(kp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){rr=Rn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}rr=null}}else rr=nr?Rn(e.stateNode.nextSibling):null;return!0}function my(){for(var e=rr;e;)e=Rn(e.nextSibling)}function ro(){rr=nr=null,Xe=!1}function Of(e){Er===null?Er=[e]:Er.push(e)}var ib=fn.ReactCurrentBatchConfig;function Eo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_e(309));var n=r.stateNode}if(!n)throw Error(_e(147,e));var o=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var l=o.refs;s===null?delete l[i]:l[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(_e(284));if(!r._owner)throw Error(_e(290,e))}return e}function Hs(e,t){throw e=Object.prototype.toString.call(t),Error(_e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ap(e){var t=e._init;return t(e._payload)}function gy(e){function t(b,v){if(e){var w=b.deletions;w===null?(b.deletions=[v],b.flags|=16):w.push(v)}}function r(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function n(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function o(b,v){return b=Bn(b,v),b.index=0,b.sibling=null,b}function i(b,v,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<v?(b.flags|=2,v):w):(b.flags|=2,v)):(b.flags|=1048576,v)}function s(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,v,w,A){return v===null||v.tag!==6?(v=au(w,b.mode,A),v.return=b,v):(v=o(v,w),v.return=b,v)}function a(b,v,w,A){var T=w.type;return T===Ri?c(b,v,w.props.children,A,w.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Sn&&Ap(T)===v.type)?(A=o(v,w.props),A.ref=Eo(b,v,w),A.return=b,A):(A=yl(w.type,w.key,w.props,null,b.mode,A),A.ref=Eo(b,v,w),A.return=b,A)}function u(b,v,w,A){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=uu(w,b.mode,A),v.return=b,v):(v=o(v,w.children||[]),v.return=b,v)}function c(b,v,w,A,T){return v===null||v.tag!==7?(v=si(w,b.mode,A,T),v.return=b,v):(v=o(v,w),v.return=b,v)}function f(b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=au(""+v,b.mode,w),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ns:return w=yl(v.type,v.key,v.props,null,b.mode,w),w.ref=Eo(b,null,v),w.return=b,w;case Ti:return v=uu(v,b.mode,w),v.return=b,v;case Sn:var A=v._init;return f(b,A(v._payload),w)}if(Ro(v)||vo(v))return v=si(v,b.mode,w,null),v.return=b,v;Hs(b,v)}return null}function p(b,v,w,A){var T=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:l(b,v,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ns:return w.key===T?a(b,v,w,A):null;case Ti:return w.key===T?u(b,v,w,A):null;case Sn:return T=w._init,p(b,v,T(w._payload),A)}if(Ro(w)||vo(w))return T!==null?null:c(b,v,w,A,null);Hs(b,w)}return null}function g(b,v,w,A,T){if(typeof A=="string"&&A!==""||typeof A=="number")return b=b.get(w)||null,l(v,b,""+A,T);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ns:return b=b.get(A.key===null?w:A.key)||null,a(v,b,A,T);case Ti:return b=b.get(A.key===null?w:A.key)||null,u(v,b,A,T);case Sn:var k=A._init;return g(b,v,w,k(A._payload),T)}if(Ro(A)||vo(A))return b=b.get(w)||null,c(v,b,A,T,null);Hs(v,A)}return null}function y(b,v,w,A){for(var T=null,k=null,E=v,x=v=0,U=null;E!==null&&x<w.length;x++){E.index>x?(U=E,E=null):U=E.sibling;var H=p(b,E,w[x],A);if(H===null){E===null&&(E=U);break}e&&E&&H.alternate===null&&t(b,E),v=i(H,v,x),k===null?T=H:k.sibling=H,k=H,E=U}if(x===w.length)return r(b,E),Xe&&Qn(b,x),T;if(E===null){for(;x<w.length;x++)E=f(b,w[x],A),E!==null&&(v=i(E,v,x),k===null?T=E:k.sibling=E,k=E);return Xe&&Qn(b,x),T}for(E=n(b,E);x<w.length;x++)U=g(E,b,x,w[x],A),U!==null&&(e&&U.alternate!==null&&E.delete(U.key===null?x:U.key),v=i(U,v,x),k===null?T=U:k.sibling=U,k=U);return e&&E.forEach(function(Q){return t(b,Q)}),Xe&&Qn(b,x),T}function _(b,v,w,A){var T=vo(w);if(typeof T!="function")throw Error(_e(150));if(w=T.call(w),w==null)throw Error(_e(151));for(var k=T=null,E=v,x=v=0,U=null,H=w.next();E!==null&&!H.done;x++,H=w.next()){E.index>x?(U=E,E=null):U=E.sibling;var Q=p(b,E,H.value,A);if(Q===null){E===null&&(E=U);break}e&&E&&Q.alternate===null&&t(b,E),v=i(Q,v,x),k===null?T=Q:k.sibling=Q,k=Q,E=U}if(H.done)return r(b,E),Xe&&Qn(b,x),T;if(E===null){for(;!H.done;x++,H=w.next())H=f(b,H.value,A),H!==null&&(v=i(H,v,x),k===null?T=H:k.sibling=H,k=H);return Xe&&Qn(b,x),T}for(E=n(b,E);!H.done;x++,H=w.next())H=g(E,b,x,H.value,A),H!==null&&(e&&H.alternate!==null&&E.delete(H.key===null?x:H.key),v=i(H,v,x),k===null?T=H:k.sibling=H,k=H);return e&&E.forEach(function(P){return t(b,P)}),Xe&&Qn(b,x),T}function C(b,v,w,A){if(typeof w=="object"&&w!==null&&w.type===Ri&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ns:e:{for(var T=w.key,k=v;k!==null;){if(k.key===T){if(T=w.type,T===Ri){if(k.tag===7){r(b,k.sibling),v=o(k,w.props.children),v.return=b,b=v;break e}}else if(k.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Sn&&Ap(T)===k.type){r(b,k.sibling),v=o(k,w.props),v.ref=Eo(b,k,w),v.return=b,b=v;break e}r(b,k);break}else t(b,k);k=k.sibling}w.type===Ri?(v=si(w.props.children,b.mode,A,w.key),v.return=b,b=v):(A=yl(w.type,w.key,w.props,null,b.mode,A),A.ref=Eo(b,v,w),A.return=b,b=A)}return s(b);case Ti:e:{for(k=w.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(b,v.sibling),v=o(v,w.children||[]),v.return=b,b=v;break e}else{r(b,v);break}else t(b,v);v=v.sibling}v=uu(w,b.mode,A),v.return=b,b=v}return s(b);case Sn:return k=w._init,C(b,v,k(w._payload),A)}if(Ro(w))return y(b,v,w,A);if(vo(w))return _(b,v,w,A);Hs(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(b,v.sibling),v=o(v,w),v.return=b,b=v):(r(b,v),v=au(w,b.mode,A),v.return=b,b=v),s(b)):r(b,v)}return C}var no=gy(!0),yy=gy(!1),Vl=Fn(null),ql=null,Fi=null,Nf=null;function Mf(){Nf=Fi=ql=null}function Bf(e){var t=Vl.current;Qe(Vl),e._currentValue=t}function hc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Qi(e,t){ql=e,Nf=Fi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Vt=!0),e.firstContext=null)}function fr(e){var t=e._currentValue;if(Nf!==e)if(e={context:e,memoizedValue:t,next:null},Fi===null){if(ql===null)throw Error(_e(308));Fi=e,ql.dependencies={lanes:0,firstContext:e}}else Fi=Fi.next=e;return t}var ei=null;function Lf(e){ei===null?ei=[e]:ei.push(e)}function vy(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,Lf(t)):(r.next=o.next,o.next=r),t.interleaved=r,ln(e,n)}function ln(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var En=!1;function jf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function On(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Le&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,ln(e,r)}return o=n.interleaved,o===null?(t.next=t,Lf(n)):(t.next=o.next,o.next=t),n.interleaved=t,ln(e,r)}function hl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Sf(e,r)}}function Cp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?o=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?o=i=t:i=i.next=t}else o=i=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Kl(e,t,r,n){var o=e.updateQueue;En=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?i=u:s.next=u,s=a;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var f=o.baseState;s=0,c=u=a=null,l=i;do{var p=l.lane,g=l.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,_=l;switch(p=t,g=r,_.tag){case 1:if(y=_.payload,typeof y=="function"){f=y.call(g,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,p=typeof y=="function"?y.call(g,f,p):y,p==null)break e;f=it({},f,p);break e;case 2:En=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[l]:p.push(l))}else g={eventTime:g,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=g,a=f):c=c.next=g,s|=p;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;p=l,l=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(c===null&&(a=f),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=c,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);di|=s,e.lanes=s,e.memoizedState=f}}function Ip(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(_e(191,o));o.call(n)}}}var As={},Wr=Fn(As),ds=Fn(As),ps=Fn(As);function ti(e){if(e===As)throw Error(_e(174));return e}function Uf(e,t){switch(qe(ps,t),qe(ds,e),qe(Wr,As),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Vu(t,e)}Qe(Wr),qe(Wr,t)}function io(){Qe(Wr),Qe(ds),Qe(ps)}function _y(e){ti(ps.current);var t=ti(Wr.current),r=Vu(t,e.type);t!==r&&(qe(ds,e),qe(Wr,r))}function Ff(e){ds.current===e&&(Qe(Wr),Qe(ds))}var rt=Fn(0);function Ql(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ru=[];function $f(){for(var e=0;e<ru.length;e++)ru[e]._workInProgressVersionPrimary=null;ru.length=0}var fl=fn.ReactCurrentDispatcher,nu=fn.ReactCurrentBatchConfig,fi=0,nt=null,ft=null,wt=null,Yl=!1,Qo=!1,ms=0,ob=0;function Tt(){throw Error(_e(321))}function Df(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!xr(e[r],t[r]))return!1;return!0}function Wf(e,t,r,n,o,i){if(fi=i,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fl.current=e===null||e.memoizedState===null?ub:cb,e=r(n,o),Qo){i=0;do{if(Qo=!1,ms=0,25<=i)throw Error(_e(301));i+=1,wt=ft=null,t.updateQueue=null,fl.current=hb,e=r(n,o)}while(Qo)}if(fl.current=Gl,t=ft!==null&&ft.next!==null,fi=0,wt=ft=nt=null,Yl=!1,t)throw Error(_e(300));return e}function zf(){var e=ms!==0;return ms=0,e}function Mr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?nt.memoizedState=wt=e:wt=wt.next=e,wt}function dr(){if(ft===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=wt===null?nt.memoizedState:wt.next;if(t!==null)wt=t,ft=e;else{if(e===null)throw Error(_e(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},wt===null?nt.memoizedState=wt=e:wt=wt.next=e}return wt}function gs(e,t){return typeof t=="function"?t(e):t}function iu(e){var t=dr(),r=t.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=e;var n=ft,o=n.baseQueue,i=r.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}n.baseQueue=o=i,r.pending=null}if(o!==null){i=o.next,n=n.baseState;var l=s=null,a=null,u=i;do{var c=u.lane;if((fi&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,s=n):a=a.next=f,nt.lanes|=c,di|=c}u=u.next}while(u!==null&&u!==i);a===null?s=n:a.next=l,xr(n,t.memoizedState)||(Vt=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=a,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do i=o.lane,nt.lanes|=i,di|=i,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ou(e){var t=dr(),r=t.queue;if(r===null)throw Error(_e(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,i=t.memoizedState;if(o!==null){r.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);xr(i,t.memoizedState)||(Vt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function by(){}function Sy(e,t){var r=nt,n=dr(),o=t(),i=!xr(n.memoizedState,o);if(i&&(n.memoizedState=o,Vt=!0),n=n.queue,Hf(Ay.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||wt!==null&&wt.memoizedState.tag&1){if(r.flags|=2048,ys(9,ky.bind(null,r,n,o,t),void 0,null),_t===null)throw Error(_e(349));fi&30||Ey(r,t,o)}return o}function Ey(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ky(e,t,r,n){t.value=r,t.getSnapshot=n,Cy(t)&&Iy(e)}function Ay(e,t,r){return r(function(){Cy(t)&&Iy(e)})}function Cy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xr(e,r)}catch{return!0}}function Iy(e){var t=ln(e,1);t!==null&&Ir(t,e,1,-1)}function xp(e){var t=Mr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:e},t.queue=e,e=e.dispatch=ab.bind(null,nt,e),[t.memoizedState,e]}function ys(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function xy(){return dr().memoizedState}function dl(e,t,r,n){var o=Mr();nt.flags|=e,o.memoizedState=ys(1|t,r,void 0,n===void 0?null:n)}function va(e,t,r,n){var o=dr();n=n===void 0?null:n;var i=void 0;if(ft!==null){var s=ft.memoizedState;if(i=s.destroy,n!==null&&Df(n,s.deps)){o.memoizedState=ys(t,r,i,n);return}}nt.flags|=e,o.memoizedState=ys(1|t,r,i,n)}function Pp(e,t){return dl(8390656,8,e,t)}function Hf(e,t){return va(2048,8,e,t)}function Py(e,t){return va(4,2,e,t)}function Ty(e,t){return va(4,4,e,t)}function Ry(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Oy(e,t,r){return r=r!=null?r.concat([e]):null,va(4,4,Ry.bind(null,t,e),r)}function Vf(){}function Ny(e,t){var r=dr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Df(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function My(e,t){var r=dr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Df(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function By(e,t,r){return fi&21?(xr(r,t)||(r=$g(),nt.lanes|=r,di|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Vt=!0),e.memoizedState=r)}function sb(e,t){var r=Fe;Fe=r!==0&&4>r?r:4,e(!0);var n=nu.transition;nu.transition={};try{e(!1),t()}finally{Fe=r,nu.transition=n}}function Ly(){return dr().memoizedState}function lb(e,t,r){var n=Mn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},jy(e))Uy(t,r);else if(r=vy(e,t,r,n),r!==null){var o=Ft();Ir(r,e,n,o),Fy(r,t,n)}}function ab(e,t,r){var n=Mn(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(jy(e))Uy(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,l=i(s,r);if(o.hasEagerState=!0,o.eagerState=l,xr(l,s)){var a=t.interleaved;a===null?(o.next=o,Lf(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}r=vy(e,t,o,n),r!==null&&(o=Ft(),Ir(r,e,n,o),Fy(r,t,n))}}function jy(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function Uy(e,t){Qo=Yl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Fy(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Sf(e,r)}}var Gl={readContext:fr,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},ub={readContext:fr,useCallback:function(e,t){return Mr().memoizedState=[e,t===void 0?null:t],e},useContext:fr,useEffect:Pp,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,dl(4194308,4,Ry.bind(null,t,e),r)},useLayoutEffect:function(e,t){return dl(4194308,4,e,t)},useInsertionEffect:function(e,t){return dl(4,2,e,t)},useMemo:function(e,t){var r=Mr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Mr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=lb.bind(null,nt,e),[n.memoizedState,e]},useRef:function(e){var t=Mr();return e={current:e},t.memoizedState=e},useState:xp,useDebugValue:Vf,useDeferredValue:function(e){return Mr().memoizedState=e},useTransition:function(){var e=xp(!1),t=e[0];return e=sb.bind(null,e[1]),Mr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=nt,o=Mr();if(Xe){if(r===void 0)throw Error(_e(407));r=r()}else{if(r=t(),_t===null)throw Error(_e(349));fi&30||Ey(n,t,r)}o.memoizedState=r;var i={value:r,getSnapshot:t};return o.queue=i,Pp(Ay.bind(null,n,i,e),[e]),n.flags|=2048,ys(9,ky.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Mr(),t=_t.identifierPrefix;if(Xe){var r=en,n=Zr;r=(n&~(1<<32-Cr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ms++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ob++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},cb={readContext:fr,useCallback:Ny,useContext:fr,useEffect:Hf,useImperativeHandle:Oy,useInsertionEffect:Py,useLayoutEffect:Ty,useMemo:My,useReducer:iu,useRef:xy,useState:function(){return iu(gs)},useDebugValue:Vf,useDeferredValue:function(e){var t=dr();return By(t,ft.memoizedState,e)},useTransition:function(){var e=iu(gs)[0],t=dr().memoizedState;return[e,t]},useMutableSource:by,useSyncExternalStore:Sy,useId:Ly,unstable_isNewReconciler:!1},hb={readContext:fr,useCallback:Ny,useContext:fr,useEffect:Hf,useImperativeHandle:Oy,useInsertionEffect:Py,useLayoutEffect:Ty,useMemo:My,useReducer:ou,useRef:xy,useState:function(){return ou(gs)},useDebugValue:Vf,useDeferredValue:function(e){var t=dr();return ft===null?t.memoizedState=e:By(t,ft.memoizedState,e)},useTransition:function(){var e=ou(gs)[0],t=dr().memoizedState;return[e,t]},useMutableSource:by,useSyncExternalStore:Sy,useId:Ly,unstable_isNewReconciler:!1};function wr(e,t){if(e&&e.defaultProps){t=it({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function fc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:it({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wa={isMounted:function(e){return(e=e._reactInternals)?yi(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ft(),o=Mn(e),i=nn(n,o);i.payload=t,r!=null&&(i.callback=r),t=On(e,i,o),t!==null&&(Ir(t,e,o,n),hl(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ft(),o=Mn(e),i=nn(n,o);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=On(e,i,o),t!==null&&(Ir(t,e,o,n),hl(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ft(),n=Mn(e),o=nn(r,n);o.tag=2,t!=null&&(o.callback=t),t=On(e,o,n),t!==null&&(Ir(t,e,n,r),hl(t,e,n))}};function Tp(e,t,r,n,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!us(r,n)||!us(o,i):!0}function $y(e,t,r){var n=!1,o=jn,i=t.contextType;return typeof i=="object"&&i!==null?i=fr(i):(o=Kt(t)?ci:Bt.current,n=t.contextTypes,i=(n=n!=null)?to(e,o):jn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wa,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Rp(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&wa.enqueueReplaceState(t,t.state,null)}function dc(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},jf(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=fr(i):(i=Kt(t)?ci:Bt.current,o.context=to(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(fc(e,t,i,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&wa.enqueueReplaceState(o,o.state,null),Kl(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function oo(e,t){try{var r="",n=t;do r+=Fw(n),n=n.return;while(n);var o=r}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function su(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function pc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var fb=typeof WeakMap=="function"?WeakMap:Map;function Dy(e,t,r){r=nn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Xl||(Xl=!0,kc=n),pc(e,t)},r}function Wy(e,t,r){r=nn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){pc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){pc(e,t),typeof n!="function"&&(Nn===null?Nn=new Set([this]):Nn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function Op(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new fb;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=Cb.bind(null,e,t,r),t.then(e,e))}function Np(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Mp(e,t,r,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=nn(-1,1),t.tag=2,On(r,t,1))),r.lanes|=1),e)}var db=fn.ReactCurrentOwner,Vt=!1;function jt(e,t,r,n){t.child=e===null?yy(t,null,r,n):no(t,e.child,r,n)}function Bp(e,t,r,n,o){r=r.render;var i=t.ref;return Qi(t,o),n=Wf(e,t,r,n,i,o),r=zf(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,an(e,t,o)):(Xe&&r&&Tf(t),t.flags|=1,jt(e,t,n,o),t.child)}function Lp(e,t,r,n,o){if(e===null){var i=r.type;return typeof i=="function"&&!Zf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,zy(e,t,i,n,o)):(e=yl(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:us,r(s,n)&&e.ref===t.ref)return an(e,t,o)}return t.flags|=1,e=Bn(i,n),e.ref=t.ref,e.return=t,t.child=e}function zy(e,t,r,n,o){if(e!==null){var i=e.memoizedProps;if(us(i,n)&&e.ref===t.ref)if(Vt=!1,t.pendingProps=n=i,(e.lanes&o)!==0)e.flags&131072&&(Vt=!0);else return t.lanes=e.lanes,an(e,t,o)}return mc(e,t,r,n,o)}function Hy(e,t,r){var n=t.pendingProps,o=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Di,tr),tr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(Di,tr),tr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,qe(Di,tr),tr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,qe(Di,tr),tr|=n;return jt(e,t,o,r),t.child}function Vy(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function mc(e,t,r,n,o){var i=Kt(r)?ci:Bt.current;return i=to(t,i),Qi(t,o),r=Wf(e,t,r,n,i,o),n=zf(),e!==null&&!Vt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,an(e,t,o)):(Xe&&n&&Tf(t),t.flags|=1,jt(e,t,r,o),t.child)}function jp(e,t,r,n,o){if(Kt(r)){var i=!0;Wl(t)}else i=!1;if(Qi(t,o),t.stateNode===null)pl(e,t),$y(t,r,n),dc(t,r,n,o),n=!0;else if(e===null){var s=t.stateNode,l=t.memoizedProps;s.props=l;var a=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=fr(u):(u=Kt(r)?ci:Bt.current,u=to(t,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==n||a!==u)&&Rp(t,s,n,u),En=!1;var p=t.memoizedState;s.state=p,Kl(t,n,s,o),a=t.memoizedState,l!==n||p!==a||qt.current||En?(typeof c=="function"&&(fc(t,r,c,n),a=t.memoizedState),(l=En||Tp(t,r,l,n,p,a,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=a),s.props=n,s.state=a,s.context=u,n=l):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,wy(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:wr(t.type,l),s.props=u,f=t.pendingProps,p=s.context,a=r.contextType,typeof a=="object"&&a!==null?a=fr(a):(a=Kt(r)?ci:Bt.current,a=to(t,a));var g=r.getDerivedStateFromProps;(c=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||p!==a)&&Rp(t,s,n,a),En=!1,p=t.memoizedState,s.state=p,Kl(t,n,s,o);var y=t.memoizedState;l!==f||p!==y||qt.current||En?(typeof g=="function"&&(fc(t,r,g,n),y=t.memoizedState),(u=En||Tp(t,r,u,n,p,y,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,y,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,y,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),s.props=n,s.state=y,s.context=a,n=u):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return gc(e,t,r,n,i,o)}function gc(e,t,r,n,o,i){Vy(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return o&&Sp(t,r,!1),an(e,t,i);n=t.stateNode,db.current=t;var l=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=no(t,e.child,null,i),t.child=no(t,null,l,i)):jt(e,t,l,i),t.memoizedState=n.state,o&&Sp(t,r,!0),t.child}function qy(e){var t=e.stateNode;t.pendingContext?bp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bp(e,t.context,!1),Uf(e,t.containerInfo)}function Up(e,t,r,n,o){return ro(),Of(o),t.flags|=256,jt(e,t,r,n),t.child}var yc={dehydrated:null,treeContext:null,retryLane:0};function vc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ky(e,t,r){var n=t.pendingProps,o=rt.current,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(o&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),qe(rt,o&1),e===null)return cc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Sa(s,n,0,null),e=si(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=vc(r),t.memoizedState=yc,e):qf(t,s));if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return pb(e,t,s,n,l,o,r);if(i){i=n.fallback,s=t.mode,o=e.child,l=o.sibling;var a={mode:"hidden",children:n.children};return!(s&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=a,t.deletions=null):(n=Bn(o,a),n.subtreeFlags=o.subtreeFlags&14680064),l!==null?i=Bn(l,i):(i=si(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?vc(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=yc,n}return i=e.child,e=i.sibling,n=Bn(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function qf(e,t){return t=Sa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vs(e,t,r,n){return n!==null&&Of(n),no(t,e.child,null,r),e=qf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pb(e,t,r,n,o,i,s){if(r)return t.flags&256?(t.flags&=-257,n=su(Error(_e(422))),Vs(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,o=t.mode,n=Sa({mode:"visible",children:n.children},o,0,null),i=si(i,o,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&no(t,e.child,null,s),t.child.memoizedState=vc(s),t.memoizedState=yc,i);if(!(t.mode&1))return Vs(e,t,s,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(_e(419)),n=su(i,n,void 0),Vs(e,t,s,n)}if(l=(s&e.childLanes)!==0,Vt||l){if(n=_t,n!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,ln(e,o),Ir(n,e,o,-1))}return Xf(),n=su(Error(_e(421))),Vs(e,t,s,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Ib.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,rr=Rn(o.nextSibling),nr=t,Xe=!0,Er=null,e!==null&&(ar[ur++]=Zr,ar[ur++]=en,ar[ur++]=hi,Zr=e.id,en=e.overflow,hi=t),t=qf(t,n.children),t.flags|=4096,t)}function Fp(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),hc(e.return,t,r)}function lu(e,t,r,n,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=o)}function Qy(e,t,r){var n=t.pendingProps,o=n.revealOrder,i=n.tail;if(jt(e,t,n.children,r),n=rt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fp(e,r,t);else if(e.tag===19)Fp(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(qe(rt,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&Ql(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),lu(t,!1,o,r,i);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ql(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}lu(t,!0,r,null,i);break;case"together":lu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function an(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),di|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_e(153));if(t.child!==null){for(e=t.child,r=Bn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Bn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function mb(e,t,r){switch(t.tag){case 3:qy(t),ro();break;case 5:_y(t);break;case 1:Kt(t.type)&&Wl(t);break;case 4:Uf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;qe(Vl,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(qe(rt,rt.current&1),t.flags|=128,null):r&t.child.childLanes?Ky(e,t,r):(qe(rt,rt.current&1),e=an(e,t,r),e!==null?e.sibling:null);qe(rt,rt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Qy(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),qe(rt,rt.current),n)break;return null;case 22:case 23:return t.lanes=0,Hy(e,t,r)}return an(e,t,r)}var Yy,wc,Gy,Jy;Yy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};wc=function(){};Gy=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,ti(Wr.current);var i=null;switch(r){case"input":o=Du(e,o),n=Du(e,n),i=[];break;case"select":o=it({},o,{value:void 0}),n=it({},n,{value:void 0}),i=[];break;case"textarea":o=Hu(e,o),n=Hu(e,n),i=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=$l)}qu(r,n);var s;r=null;for(u in o)if(!n.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var a=n[u];if(l=o!=null?o[u]:void 0,n.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(r||(r={}),r[s]=a[s])}else r||(i||(i=[]),i.push(u,r)),r=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rs.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&Ke("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Jy=function(e,t,r,n){r!==n&&(t.flags|=4)};function ko(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function gb(e,t,r){var n=t.pendingProps;switch(Rf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return Kt(t.type)&&Dl(),Rt(t),null;case 3:return n=t.stateNode,io(),Qe(qt),Qe(Bt),$f(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Er!==null&&(Ic(Er),Er=null))),wc(e,t),Rt(t),null;case 5:Ff(t);var o=ti(ps.current);if(r=t.type,e!==null&&t.stateNode!=null)Gy(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(_e(166));return Rt(t),null}if(e=ti(Wr.current),zs(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[jr]=t,n[fs]=i,e=(t.mode&1)!==0,r){case"dialog":Ke("cancel",n),Ke("close",n);break;case"iframe":case"object":case"embed":Ke("load",n);break;case"video":case"audio":for(o=0;o<No.length;o++)Ke(No[o],n);break;case"source":Ke("error",n);break;case"img":case"image":case"link":Ke("error",n),Ke("load",n);break;case"details":Ke("toggle",n);break;case"input":Qd(n,i),Ke("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ke("invalid",n);break;case"textarea":Gd(n,i),Ke("invalid",n)}qu(r,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var l=i[s];s==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ws(n.textContent,l,e),o=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ws(n.textContent,l,e),o=["children",""+l]):rs.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Ke("scroll",n)}switch(r){case"input":Ms(n),Yd(n,i,!0);break;case"textarea":Ms(n),Jd(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=$l)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ag(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[jr]=t,e[fs]=n,Yy(e,t,!1,!1),t.stateNode=e;e:{switch(s=Ku(r,n),r){case"dialog":Ke("cancel",e),Ke("close",e),o=n;break;case"iframe":case"object":case"embed":Ke("load",e),o=n;break;case"video":case"audio":for(o=0;o<No.length;o++)Ke(No[o],e);o=n;break;case"source":Ke("error",e),o=n;break;case"img":case"image":case"link":Ke("error",e),Ke("load",e),o=n;break;case"details":Ke("toggle",e),o=n;break;case"input":Qd(e,n),o=Du(e,n),Ke("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=it({},n,{value:void 0}),Ke("invalid",e);break;case"textarea":Gd(e,n),o=Hu(e,n),Ke("invalid",e);break;default:o=n}qu(r,o),l=o;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?xg(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Cg(e,a)):i==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&ns(e,a):typeof a=="number"&&ns(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(rs.hasOwnProperty(i)?a!=null&&i==="onScroll"&&Ke("scroll",e):a!=null&&gf(e,i,a,s))}switch(r){case"input":Ms(e),Yd(e,n,!1);break;case"textarea":Ms(e),Jd(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ln(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Hi(e,!!n.multiple,i,!1):n.defaultValue!=null&&Hi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=$l)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)Jy(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(_e(166));if(r=ti(ps.current),ti(Wr.current),zs(t)){if(n=t.stateNode,r=t.memoizedProps,n[jr]=t,(i=n.nodeValue!==r)&&(e=nr,e!==null))switch(e.tag){case 3:Ws(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ws(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[jr]=t,t.stateNode=n}return Rt(t),null;case 13:if(Qe(rt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Xe&&rr!==null&&t.mode&1&&!(t.flags&128))my(),ro(),t.flags|=98560,i=!1;else if(i=zs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(_e(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(_e(317));i[jr]=t}else ro(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),i=!1}else Er!==null&&(Ic(Er),Er=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||rt.current&1?dt===0&&(dt=3):Xf())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return io(),wc(e,t),e===null&&cs(t.stateNode.containerInfo),Rt(t),null;case 10:return Bf(t.type._context),Rt(t),null;case 17:return Kt(t.type)&&Dl(),Rt(t),null;case 19:if(Qe(rt),i=t.memoizedState,i===null)return Rt(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)ko(i,!1);else{if(dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ql(e),s!==null){for(t.flags|=128,ko(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return qe(rt,rt.current&1|2),t.child}e=e.sibling}i.tail!==null&&at()>so&&(t.flags|=128,n=!0,ko(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ql(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ko(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Xe)return Rt(t),null}else 2*at()-i.renderingStartTime>so&&r!==1073741824&&(t.flags|=128,n=!0,ko(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=at(),t.sibling=null,r=rt.current,qe(rt,n?r&1|2:r&1),t):(Rt(t),null);case 22:case 23:return Jf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?tr&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(_e(156,t.tag))}function yb(e,t){switch(Rf(t),t.tag){case 1:return Kt(t.type)&&Dl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return io(),Qe(qt),Qe(Bt),$f(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ff(t),null;case 13:if(Qe(rt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_e(340));ro()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(rt),null;case 4:return io(),null;case 10:return Bf(t.type._context),null;case 22:case 23:return Jf(),null;case 24:return null;default:return null}}var qs=!1,Mt=!1,vb=typeof WeakSet=="function"?WeakSet:Set,Se=null;function $i(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){st(e,t,n)}else r.current=null}function _c(e,t,r){try{r()}catch(n){st(e,t,n)}}var $p=!1;function wb(e,t){if(nc=jl,e=ry(),Pf(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,l=-1,a=-1,u=0,c=0,f=e,p=null;t:for(;;){for(var g;f!==r||o!==0&&f.nodeType!==3||(l=s+o),f!==i||n!==0&&f.nodeType!==3||(a=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===e)break t;if(p===r&&++u===o&&(l=s),p===i&&++c===n&&(a=s),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}r=l===-1||a===-1?null:{start:l,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(ic={focusedElem:e,selectionRange:r},jl=!1,Se=t;Se!==null;)if(t=Se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Se=e;else for(;Se!==null;){t=Se;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,C=y.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?_:wr(t.type,_),C);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(A){st(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,Se=e;break}Se=t.return}return y=$p,$p=!1,y}function Yo(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&_c(t,r,i)}o=o.next}while(o!==n)}}function _a(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function bc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Xy(e){var t=e.alternate;t!==null&&(e.alternate=null,Xy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jr],delete t[fs],delete t[lc],delete t[tb],delete t[rb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zy(e){return e.tag===5||e.tag===3||e.tag===4}function Dp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=$l));else if(n!==4&&(e=e.child,e!==null))for(Sc(e,t,r),e=e.sibling;e!==null;)Sc(e,t,r),e=e.sibling}function Ec(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ec(e,t,r),e=e.sibling;e!==null;)Ec(e,t,r),e=e.sibling}var St=null,br=!1;function gn(e,t,r){for(r=r.child;r!==null;)e0(e,t,r),r=r.sibling}function e0(e,t,r){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(fa,r)}catch{}switch(r.tag){case 5:Mt||$i(r,t);case 6:var n=St,o=br;St=null,gn(e,t,r),St=n,br=o,St!==null&&(br?(e=St,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):St.removeChild(r.stateNode));break;case 18:St!==null&&(br?(e=St,r=r.stateNode,e.nodeType===8?eu(e.parentNode,r):e.nodeType===1&&eu(e,r),ls(e)):eu(St,r.stateNode));break;case 4:n=St,o=br,St=r.stateNode.containerInfo,br=!0,gn(e,t,r),St=n,br=o;break;case 0:case 11:case 14:case 15:if(!Mt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&_c(r,t,s),o=o.next}while(o!==n)}gn(e,t,r);break;case 1:if(!Mt&&($i(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){st(r,t,l)}gn(e,t,r);break;case 21:gn(e,t,r);break;case 22:r.mode&1?(Mt=(n=Mt)||r.memoizedState!==null,gn(e,t,r),Mt=n):gn(e,t,r);break;default:gn(e,t,r)}}function Wp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new vb),t.forEach(function(n){var o=xb.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function pr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var i=e,s=t,l=s;e:for(;l!==null;){switch(l.tag){case 5:St=l.stateNode,br=!1;break e;case 3:St=l.stateNode.containerInfo,br=!0;break e;case 4:St=l.stateNode.containerInfo,br=!0;break e}l=l.return}if(St===null)throw Error(_e(160));e0(i,s,o),St=null,br=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){st(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)t0(t,e),t=t.sibling}function t0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pr(t,e),Tr(e),n&4){try{Yo(3,e,e.return),_a(3,e)}catch(_){st(e,e.return,_)}try{Yo(5,e,e.return)}catch(_){st(e,e.return,_)}}break;case 1:pr(t,e),Tr(e),n&512&&r!==null&&$i(r,r.return);break;case 5:if(pr(t,e),Tr(e),n&512&&r!==null&&$i(r,r.return),e.flags&32){var o=e.stateNode;try{ns(o,"")}catch(_){st(e,e.return,_)}}if(n&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Eg(o,i),Ku(l,s);var u=Ku(l,i);for(s=0;s<a.length;s+=2){var c=a[s],f=a[s+1];c==="style"?xg(o,f):c==="dangerouslySetInnerHTML"?Cg(o,f):c==="children"?ns(o,f):gf(o,c,f,u)}switch(l){case"input":Wu(o,i);break;case"textarea":kg(o,i);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Hi(o,!!i.multiple,g,!1):p!==!!i.multiple&&(i.defaultValue!=null?Hi(o,!!i.multiple,i.defaultValue,!0):Hi(o,!!i.multiple,i.multiple?[]:"",!1))}o[fs]=i}catch(_){st(e,e.return,_)}}break;case 6:if(pr(t,e),Tr(e),n&4){if(e.stateNode===null)throw Error(_e(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(_){st(e,e.return,_)}}break;case 3:if(pr(t,e),Tr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ls(t.containerInfo)}catch(_){st(e,e.return,_)}break;case 4:pr(t,e),Tr(e);break;case 13:pr(t,e),Tr(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Yf=at())),n&4&&Wp(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(Mt=(u=Mt)||c,pr(t,e),Mt=u):pr(t,e),Tr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Se=e,c=e.child;c!==null;){for(f=Se=c;Se!==null;){switch(p=Se,g=p.child,p.tag){case 0:case 11:case 14:case 15:Yo(4,p,p.return);break;case 1:$i(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(_){st(n,r,_)}}break;case 5:$i(p,p.return);break;case 22:if(p.memoizedState!==null){Hp(f);continue}}g!==null?(g.return=p,Se=g):Hp(f)}c=c.sibling}e:for(c=null,f=e;;){if(f.tag===5){if(c===null){c=f;try{o=f.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Ig("display",s))}catch(_){st(e,e.return,_)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){st(e,e.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pr(t,e),Tr(e),n&4&&Wp(e);break;case 21:break;default:pr(t,e),Tr(e)}}function Tr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Zy(r)){var n=r;break e}r=r.return}throw Error(_e(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(ns(o,""),n.flags&=-33);var i=Dp(e);Ec(e,i,o);break;case 3:case 4:var s=n.stateNode.containerInfo,l=Dp(e);Sc(e,l,s);break;default:throw Error(_e(161))}}catch(a){st(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _b(e,t,r){Se=e,r0(e)}function r0(e,t,r){for(var n=(e.mode&1)!==0;Se!==null;){var o=Se,i=o.child;if(o.tag===22&&n){var s=o.memoizedState!==null||qs;if(!s){var l=o.alternate,a=l!==null&&l.memoizedState!==null||Mt;l=qs;var u=Mt;if(qs=s,(Mt=a)&&!u)for(Se=o;Se!==null;)s=Se,a=s.child,s.tag===22&&s.memoizedState!==null?Vp(o):a!==null?(a.return=s,Se=a):Vp(o);for(;i!==null;)Se=i,r0(i),i=i.sibling;Se=o,qs=l,Mt=u}zp(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Se=i):zp(e)}}function zp(e){for(;Se!==null;){var t=Se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Mt||_a(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Mt)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:wr(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ip(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ip(t,s,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ls(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}Mt||t.flags&512&&bc(t)}catch(p){st(t,t.return,p)}}if(t===e){Se=null;break}if(r=t.sibling,r!==null){r.return=t.return,Se=r;break}Se=t.return}}function Hp(e){for(;Se!==null;){var t=Se;if(t===e){Se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Se=r;break}Se=t.return}}function Vp(e){for(;Se!==null;){var t=Se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{_a(4,t)}catch(a){st(t,r,a)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(a){st(t,o,a)}}var i=t.return;try{bc(t)}catch(a){st(t,i,a)}break;case 5:var s=t.return;try{bc(t)}catch(a){st(t,s,a)}}}catch(a){st(t,t.return,a)}if(t===e){Se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Se=l;break}Se=t.return}}var bb=Math.ceil,Jl=fn.ReactCurrentDispatcher,Kf=fn.ReactCurrentOwner,hr=fn.ReactCurrentBatchConfig,Le=0,_t=null,ut=null,kt=0,tr=0,Di=Fn(0),dt=0,vs=null,di=0,ba=0,Qf=0,Go=null,Ht=null,Yf=0,so=1/0,Qr=null,Xl=!1,kc=null,Nn=null,Ks=!1,In=null,Zl=0,Jo=0,Ac=null,ml=-1,gl=0;function Ft(){return Le&6?at():ml!==-1?ml:ml=at()}function Mn(e){return e.mode&1?Le&2&&kt!==0?kt&-kt:ib.transition!==null?(gl===0&&(gl=$g()),gl):(e=Fe,e!==0||(e=window.event,e=e===void 0?16:Kg(e.type)),e):1}function Ir(e,t,r,n){if(50<Jo)throw Jo=0,Ac=null,Error(_e(185));Ss(e,r,n),(!(Le&2)||e!==_t)&&(e===_t&&(!(Le&2)&&(ba|=r),dt===4&&An(e,kt)),Qt(e,n),r===1&&Le===0&&!(t.mode&1)&&(so=at()+500,ya&&$n()))}function Qt(e,t){var r=e.callbackNode;i_(e,t);var n=Ll(e,e===_t?kt:0);if(n===0)r!==null&&ep(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ep(r),t===1)e.tag===0?nb(qp.bind(null,e)):fy(qp.bind(null,e)),Z_(function(){!(Le&6)&&$n()}),r=null;else{switch(Dg(n)){case 1:r=bf;break;case 4:r=Ug;break;case 16:r=Bl;break;case 536870912:r=Fg;break;default:r=Bl}r=c0(r,n0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function n0(e,t){if(ml=-1,gl=0,Le&6)throw Error(_e(327));var r=e.callbackNode;if(Yi()&&e.callbackNode!==r)return null;var n=Ll(e,e===_t?kt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ea(e,n);else{t=n;var o=Le;Le|=2;var i=o0();(_t!==e||kt!==t)&&(Qr=null,so=at()+500,oi(e,t));do try{kb();break}catch(l){i0(e,l)}while(!0);Mf(),Jl.current=i,Le=o,ut!==null?t=0:(_t=null,kt=0,t=dt)}if(t!==0){if(t===2&&(o=Xu(e),o!==0&&(n=o,t=Cc(e,o))),t===1)throw r=vs,oi(e,0),An(e,n),Qt(e,at()),r;if(t===6)An(e,n);else{if(o=e.current.alternate,!(n&30)&&!Sb(o)&&(t=ea(e,n),t===2&&(i=Xu(e),i!==0&&(n=i,t=Cc(e,i))),t===1))throw r=vs,oi(e,0),An(e,n),Qt(e,at()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(_e(345));case 2:Yn(e,Ht,Qr);break;case 3:if(An(e,n),(n&130023424)===n&&(t=Yf+500-at(),10<t)){if(Ll(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){Ft(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=sc(Yn.bind(null,e,Ht,Qr),t);break}Yn(e,Ht,Qr);break;case 4:if(An(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var s=31-Cr(n);i=1<<s,s=t[s],s>o&&(o=s),n&=~i}if(n=o,n=at()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bb(n/1960))-n,10<n){e.timeoutHandle=sc(Yn.bind(null,e,Ht,Qr),n);break}Yn(e,Ht,Qr);break;case 5:Yn(e,Ht,Qr);break;default:throw Error(_e(329))}}}return Qt(e,at()),e.callbackNode===r?n0.bind(null,e):null}function Cc(e,t){var r=Go;return e.current.memoizedState.isDehydrated&&(oi(e,t).flags|=256),e=ea(e,t),e!==2&&(t=Ht,Ht=r,t!==null&&Ic(t)),e}function Ic(e){Ht===null?Ht=e:Ht.push.apply(Ht,e)}function Sb(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],i=o.getSnapshot;o=o.value;try{if(!xr(i(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function An(e,t){for(t&=~Qf,t&=~ba,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Cr(t),n=1<<r;e[r]=-1,t&=~n}}function qp(e){if(Le&6)throw Error(_e(327));Yi();var t=Ll(e,0);if(!(t&1))return Qt(e,at()),null;var r=ea(e,t);if(e.tag!==0&&r===2){var n=Xu(e);n!==0&&(t=n,r=Cc(e,n))}if(r===1)throw r=vs,oi(e,0),An(e,t),Qt(e,at()),r;if(r===6)throw Error(_e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yn(e,Ht,Qr),Qt(e,at()),null}function Gf(e,t){var r=Le;Le|=1;try{return e(t)}finally{Le=r,Le===0&&(so=at()+500,ya&&$n())}}function pi(e){In!==null&&In.tag===0&&!(Le&6)&&Yi();var t=Le;Le|=1;var r=hr.transition,n=Fe;try{if(hr.transition=null,Fe=1,e)return e()}finally{Fe=n,hr.transition=r,Le=t,!(Le&6)&&$n()}}function Jf(){tr=Di.current,Qe(Di)}function oi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,X_(r)),ut!==null)for(r=ut.return;r!==null;){var n=r;switch(Rf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Dl();break;case 3:io(),Qe(qt),Qe(Bt),$f();break;case 5:Ff(n);break;case 4:io();break;case 13:Qe(rt);break;case 19:Qe(rt);break;case 10:Bf(n.type._context);break;case 22:case 23:Jf()}r=r.return}if(_t=e,ut=e=Bn(e.current,null),kt=tr=t,dt=0,vs=null,Qf=ba=di=0,Ht=Go=null,ei!==null){for(t=0;t<ei.length;t++)if(r=ei[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=o,n.next=s}r.pending=n}ei=null}return e}function i0(e,t){do{var r=ut;try{if(Mf(),fl.current=Gl,Yl){for(var n=nt.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Yl=!1}if(fi=0,wt=ft=nt=null,Qo=!1,ms=0,Kf.current=null,r===null||r.return===null){dt=1,vs=t,ut=null;break}e:{var i=e,s=r.return,l=r,a=t;if(t=kt,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Np(s);if(g!==null){g.flags&=-257,Mp(g,s,l,i,t),g.mode&1&&Op(i,u,t),t=g,a=u;var y=t.updateQueue;if(y===null){var _=new Set;_.add(a),t.updateQueue=_}else y.add(a);break e}else{if(!(t&1)){Op(i,u,t),Xf();break e}a=Error(_e(426))}}else if(Xe&&l.mode&1){var C=Np(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Mp(C,s,l,i,t),Of(oo(a,l));break e}}i=a=oo(a,l),dt!==4&&(dt=2),Go===null?Go=[i]:Go.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=Dy(i,a,t);Cp(i,b);break e;case 1:l=a;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Nn===null||!Nn.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var A=Wy(i,l,t);Cp(i,A);break e}}i=i.return}while(i!==null)}l0(r)}catch(T){t=T,ut===r&&r!==null&&(ut=r=r.return);continue}break}while(!0)}function o0(){var e=Jl.current;return Jl.current=Gl,e===null?Gl:e}function Xf(){(dt===0||dt===3||dt===2)&&(dt=4),_t===null||!(di&268435455)&&!(ba&268435455)||An(_t,kt)}function ea(e,t){var r=Le;Le|=2;var n=o0();(_t!==e||kt!==t)&&(Qr=null,oi(e,t));do try{Eb();break}catch(o){i0(e,o)}while(!0);if(Mf(),Le=r,Jl.current=n,ut!==null)throw Error(_e(261));return _t=null,kt=0,dt}function Eb(){for(;ut!==null;)s0(ut)}function kb(){for(;ut!==null&&!Yw();)s0(ut)}function s0(e){var t=u0(e.alternate,e,tr);e.memoizedProps=e.pendingProps,t===null?l0(e):ut=t,Kf.current=null}function l0(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=yb(r,t),r!==null){r.flags&=32767,ut=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,ut=null;return}}else if(r=gb(r,t,tr),r!==null){ut=r;return}if(t=t.sibling,t!==null){ut=t;return}ut=t=e}while(t!==null);dt===0&&(dt=5)}function Yn(e,t,r){var n=Fe,o=hr.transition;try{hr.transition=null,Fe=1,Ab(e,t,r,n)}finally{hr.transition=o,Fe=n}return null}function Ab(e,t,r,n){do Yi();while(In!==null);if(Le&6)throw Error(_e(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(_e(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(o_(e,i),e===_t&&(ut=_t=null,kt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ks||(Ks=!0,c0(Bl,function(){return Yi(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=hr.transition,hr.transition=null;var s=Fe;Fe=1;var l=Le;Le|=4,Kf.current=null,wb(e,r),t0(r,e),V_(ic),jl=!!nc,ic=nc=null,e.current=r,_b(r),Gw(),Le=l,Fe=s,hr.transition=i}else e.current=r;if(Ks&&(Ks=!1,In=e,Zl=o),i=e.pendingLanes,i===0&&(Nn=null),Zw(r.stateNode),Qt(e,at()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(Xl)throw Xl=!1,e=kc,kc=null,e;return Zl&1&&e.tag!==0&&Yi(),i=e.pendingLanes,i&1?e===Ac?Jo++:(Jo=0,Ac=e):Jo=0,$n(),null}function Yi(){if(In!==null){var e=Dg(Zl),t=hr.transition,r=Fe;try{if(hr.transition=null,Fe=16>e?16:e,In===null)var n=!1;else{if(e=In,In=null,Zl=0,Le&6)throw Error(_e(331));var o=Le;for(Le|=4,Se=e.current;Se!==null;){var i=Se,s=i.child;if(Se.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(Se=u;Se!==null;){var c=Se;switch(c.tag){case 0:case 11:case 15:Yo(8,c,i)}var f=c.child;if(f!==null)f.return=c,Se=f;else for(;Se!==null;){c=Se;var p=c.sibling,g=c.return;if(Xy(c),c===u){Se=null;break}if(p!==null){p.return=g,Se=p;break}Se=g}}}var y=i.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var C=_.sibling;_.sibling=null,_=C}while(_!==null)}}Se=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Se=s;else e:for(;Se!==null;){if(i=Se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Yo(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Se=b;break e}Se=i.return}}var v=e.current;for(Se=v;Se!==null;){s=Se;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Se=w;else e:for(s=v;Se!==null;){if(l=Se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:_a(9,l)}}catch(T){st(l,l.return,T)}if(l===s){Se=null;break e}var A=l.sibling;if(A!==null){A.return=l.return,Se=A;break e}Se=l.return}}if(Le=o,$n(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(fa,e)}catch{}n=!0}return n}finally{Fe=r,hr.transition=t}}return!1}function Kp(e,t,r){t=oo(r,t),t=Dy(e,t,1),e=On(e,t,1),t=Ft(),e!==null&&(Ss(e,1,t),Qt(e,t))}function st(e,t,r){if(e.tag===3)Kp(e,e,r);else for(;t!==null;){if(t.tag===3){Kp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Nn===null||!Nn.has(n))){e=oo(r,e),e=Wy(t,e,1),t=On(t,e,1),e=Ft(),t!==null&&(Ss(t,1,e),Qt(t,e));break}}t=t.return}}function Cb(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ft(),e.pingedLanes|=e.suspendedLanes&r,_t===e&&(kt&r)===r&&(dt===4||dt===3&&(kt&130023424)===kt&&500>at()-Yf?oi(e,0):Qf|=r),Qt(e,t)}function a0(e,t){t===0&&(e.mode&1?(t=js,js<<=1,!(js&130023424)&&(js=4194304)):t=1);var r=Ft();e=ln(e,t),e!==null&&(Ss(e,t,r),Qt(e,r))}function Ib(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),a0(e,r)}function xb(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(_e(314))}n!==null&&n.delete(t),a0(e,r)}var u0;u0=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||qt.current)Vt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Vt=!1,mb(e,t,r);Vt=!!(e.flags&131072)}else Vt=!1,Xe&&t.flags&1048576&&dy(t,Hl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;pl(e,t),e=t.pendingProps;var o=to(t,Bt.current);Qi(t,r),o=Wf(null,t,n,e,o,r);var i=zf();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Kt(n)?(i=!0,Wl(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,jf(t),o.updater=wa,t.stateNode=o,o._reactInternals=t,dc(t,n,e,r),t=gc(null,t,n,!0,i,r)):(t.tag=0,Xe&&i&&Tf(t),jt(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(pl(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=Tb(n),e=wr(n,e),o){case 0:t=mc(null,t,n,e,r);break e;case 1:t=jp(null,t,n,e,r);break e;case 11:t=Bp(null,t,n,e,r);break e;case 14:t=Lp(null,t,n,wr(n.type,e),r);break e}throw Error(_e(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:wr(n,o),mc(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:wr(n,o),jp(e,t,n,o,r);case 3:e:{if(qy(t),e===null)throw Error(_e(387));n=t.pendingProps,i=t.memoizedState,o=i.element,wy(e,t),Kl(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=oo(Error(_e(423)),t),t=Up(e,t,n,r,o);break e}else if(n!==o){o=oo(Error(_e(424)),t),t=Up(e,t,n,r,o);break e}else for(rr=Rn(t.stateNode.containerInfo.firstChild),nr=t,Xe=!0,Er=null,r=yy(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ro(),n===o){t=an(e,t,r);break e}jt(e,t,n,r)}t=t.child}return t;case 5:return _y(t),e===null&&cc(t),n=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,oc(n,o)?s=null:i!==null&&oc(n,i)&&(t.flags|=32),Vy(e,t),jt(e,t,s,r),t.child;case 6:return e===null&&cc(t),null;case 13:return Ky(e,t,r);case 4:return Uf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=no(t,null,n,r):jt(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:wr(n,o),Bp(e,t,n,o,r);case 7:return jt(e,t,t.pendingProps,r),t.child;case 8:return jt(e,t,t.pendingProps.children,r),t.child;case 12:return jt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,qe(Vl,n._currentValue),n._currentValue=s,i!==null)if(xr(i.value,s)){if(i.children===o.children&&!qt.current){t=an(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){s=i.child;for(var a=l.firstContext;a!==null;){if(a.context===n){if(i.tag===1){a=nn(-1,r&-r),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),hc(i.return,r,t),l.lanes|=r;break}a=a.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(_e(341));s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),hc(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}jt(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Qi(t,r),o=fr(o),n=n(o),t.flags|=1,jt(e,t,n,r),t.child;case 14:return n=t.type,o=wr(n,t.pendingProps),o=wr(n.type,o),Lp(e,t,n,o,r);case 15:return zy(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:wr(n,o),pl(e,t),t.tag=1,Kt(n)?(e=!0,Wl(t)):e=!1,Qi(t,r),$y(t,n,o),dc(t,n,o,r),gc(null,t,n,!0,e,r);case 19:return Qy(e,t,r);case 22:return Hy(e,t,r)}throw Error(_e(156,t.tag))};function c0(e,t){return jg(e,t)}function Pb(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(e,t,r,n){return new Pb(e,t,r,n)}function Zf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tb(e){if(typeof e=="function")return Zf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vf)return 11;if(e===wf)return 14}return 2}function Bn(e,t){var r=e.alternate;return r===null?(r=cr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function yl(e,t,r,n,o,i){var s=2;if(n=e,typeof e=="function")Zf(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ri:return si(r.children,o,i,t);case yf:s=8,o|=8;break;case ju:return e=cr(12,r,t,o|2),e.elementType=ju,e.lanes=i,e;case Uu:return e=cr(13,r,t,o),e.elementType=Uu,e.lanes=i,e;case Fu:return e=cr(19,r,t,o),e.elementType=Fu,e.lanes=i,e;case _g:return Sa(r,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vg:s=10;break e;case wg:s=9;break e;case vf:s=11;break e;case wf:s=14;break e;case Sn:s=16,n=null;break e}throw Error(_e(130,e==null?e:typeof e,""))}return t=cr(s,r,t,o),t.elementType=e,t.type=n,t.lanes=i,t}function si(e,t,r,n){return e=cr(7,e,n,t),e.lanes=r,e}function Sa(e,t,r,n){return e=cr(22,e,n,t),e.elementType=_g,e.lanes=r,e.stateNode={isHidden:!1},e}function au(e,t,r){return e=cr(6,e,null,t),e.lanes=r,e}function uu(e,t,r){return t=cr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Rb(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=za(0),this.expirationTimes=za(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=za(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ed(e,t,r,n,o,i,s,l,a){return e=new Rb(e,t,r,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=cr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jf(i),e}function Ob(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ti,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function h0(e){if(!e)return jn;e=e._reactInternals;e:{if(yi(e)!==e||e.tag!==1)throw Error(_e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_e(171))}if(e.tag===1){var r=e.type;if(Kt(r))return hy(e,r,t)}return t}function f0(e,t,r,n,o,i,s,l,a){return e=ed(r,n,!0,e,o,i,s,l,a),e.context=h0(null),r=e.current,n=Ft(),o=Mn(r),i=nn(n,o),i.callback=t??null,On(r,i,o),e.current.lanes=o,Ss(e,o,n),Qt(e,n),e}function Ea(e,t,r,n){var o=t.current,i=Ft(),s=Mn(o);return r=h0(r),t.context===null?t.context=r:t.pendingContext=r,t=nn(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=On(o,t,s),e!==null&&(Ir(e,o,s,i),hl(e,o,s)),s}function ta(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function td(e,t){Qp(e,t),(e=e.alternate)&&Qp(e,t)}function Nb(){return null}var d0=typeof reportError=="function"?reportError:function(e){console.error(e)};function rd(e){this._internalRoot=e}ka.prototype.render=rd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_e(409));Ea(e,t,null,null)};ka.prototype.unmount=rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pi(function(){Ea(null,e,null,null)}),t[sn]=null}};function ka(e){this._internalRoot=e}ka.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<kn.length&&t!==0&&t<kn[r].priority;r++);kn.splice(r,0,e),r===0&&qg(e)}};function nd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Aa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yp(){}function Mb(e,t,r,n,o){if(o){if(typeof n=="function"){var i=n;n=function(){var u=ta(s);i.call(u)}}var s=f0(t,n,e,0,null,!1,!1,"",Yp);return e._reactRootContainer=s,e[sn]=s.current,cs(e.nodeType===8?e.parentNode:e),pi(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var l=n;n=function(){var u=ta(a);l.call(u)}}var a=ed(e,0,!1,null,null,!1,!1,"",Yp);return e._reactRootContainer=a,e[sn]=a.current,cs(e.nodeType===8?e.parentNode:e),pi(function(){Ea(t,a,r,n)}),a}function Ca(e,t,r,n,o){var i=r._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var l=o;o=function(){var a=ta(s);l.call(a)}}Ea(t,s,e,o)}else s=Mb(r,t,e,o,n);return ta(s)}Wg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Oo(t.pendingLanes);r!==0&&(Sf(t,r|1),Qt(t,at()),!(Le&6)&&(so=at()+500,$n()))}break;case 13:pi(function(){var n=ln(e,1);if(n!==null){var o=Ft();Ir(n,e,1,o)}}),td(e,1)}};Ef=function(e){if(e.tag===13){var t=ln(e,134217728);if(t!==null){var r=Ft();Ir(t,e,134217728,r)}td(e,134217728)}};zg=function(e){if(e.tag===13){var t=Mn(e),r=ln(e,t);if(r!==null){var n=Ft();Ir(r,e,t,n)}td(e,t)}};Hg=function(){return Fe};Vg=function(e,t){var r=Fe;try{return Fe=e,t()}finally{Fe=r}};Yu=function(e,t,r){switch(t){case"input":if(Wu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=ga(n);if(!o)throw Error(_e(90));Sg(n),Wu(n,o)}}}break;case"textarea":kg(e,r);break;case"select":t=r.value,t!=null&&Hi(e,!!r.multiple,t,!1)}};Rg=Gf;Og=pi;var Bb={usingClientEntryPoint:!1,Events:[ks,Bi,ga,Pg,Tg,Gf]},Ao={findFiberByHostInstance:Zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Lb={bundleType:Ao.bundleType,version:Ao.version,rendererPackageName:Ao.rendererPackageName,rendererConfig:Ao.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Bg(e),e===null?null:e.stateNode},findFiberByHostInstance:Ao.findFiberByHostInstance||Nb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qs.isDisabled&&Qs.supportsFiber)try{fa=Qs.inject(Lb),Dr=Qs}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bb;or.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nd(t))throw Error(_e(200));return Ob(e,t,null,r)};or.createRoot=function(e,t){if(!nd(e))throw Error(_e(299));var r=!1,n="",o=d0;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ed(e,1,!1,null,null,r,!1,n,o),e[sn]=t.current,cs(e.nodeType===8?e.parentNode:e),new rd(t)};or.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_e(188)):(e=Object.keys(e).join(","),Error(_e(268,e)));return e=Bg(t),e=e===null?null:e.stateNode,e};or.flushSync=function(e){return pi(e)};or.hydrate=function(e,t,r){if(!Aa(t))throw Error(_e(200));return Ca(null,e,t,!0,r)};or.hydrateRoot=function(e,t,r){if(!nd(e))throw Error(_e(405));var n=r!=null&&r.hydratedSources||null,o=!1,i="",s=d0;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=f0(t,null,e,1,r??null,o,!1,i,s),e[sn]=t.current,cs(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new ka(t)};or.render=function(e,t,r){if(!Aa(t))throw Error(_e(200));return Ca(null,e,t,!1,r)};or.unmountComponentAtNode=function(e){if(!Aa(e))throw Error(_e(40));return e._reactRootContainer?(pi(function(){Ca(null,null,e,!1,function(){e._reactRootContainer=null,e[sn]=null})}),!0):!1};or.unstable_batchedUpdates=Gf;or.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Aa(r))throw Error(_e(200));if(e==null||e._reactInternals===void 0)throw Error(_e(38));return Ca(e,t,r,!1,n)};or.version="18.3.1-next-f1338f8080-20240426";function p0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p0)}catch(e){console.error(e)}}p0(),pg.exports=or;var jb=pg.exports,Gp=jb;Bu.createRoot=Gp.createRoot,Bu.hydrateRoot=Gp.hydrateRoot;var id=Object.defineProperty,Ub=Object.getOwnPropertyDescriptor,Fb=Object.getOwnPropertyNames,$b=Object.prototype.hasOwnProperty,It=(e,t)=>()=>(e&&(t=e(e=0)),t),ve=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),vi=(e,t)=>{for(var r in t)id(e,r,{get:t[r],enumerable:!0})},Db=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Fb(t))!$b.call(e,o)&&o!==r&&id(e,o,{get:()=>t[o],enumerable:!(n=Ub(t,o))||n.enumerable});return e},He=e=>Db(id({},"__esModule",{value:!0}),e),ce=It(()=>{}),Ue={};vi(Ue,{_debugEnd:()=>sh,_debugProcess:()=>oh,_events:()=>bh,_eventsCount:()=>Sh,_exiting:()=>Vc,_fatalExceptions:()=>rh,_getActiveHandles:()=>b0,_getActiveRequests:()=>_0,_kill:()=>Qc,_linkedBinding:()=>v0,_maxListeners:()=>_h,_preload_modules:()=>vh,_rawDebug:()=>Wc,_startProfilerIdleNotifier:()=>lh,_stopProfilerIdleNotifier:()=>ah,_tickCallback:()=>ih,abort:()=>fh,addListener:()=>Eh,allowedNodeEnvironmentFlags:()=>eh,arch:()=>Pc,argv:()=>Oc,argv0:()=>yh,assert:()=>S0,binding:()=>jc,chdir:()=>$c,config:()=>qc,cpuUsage:()=>Mo,cwd:()=>Fc,debugPort:()=>gh,default:()=>sd,dlopen:()=>w0,domain:()=>Hc,emit:()=>xh,emitWarning:()=>Lc,env:()=>Rc,execArgv:()=>Nc,execPath:()=>mh,exit:()=>Xc,features:()=>th,hasUncaughtExceptionCaptureCallback:()=>E0,hrtime:()=>vl,kill:()=>Jc,listeners:()=>A0,memoryUsage:()=>Gc,moduleLoadList:()=>zc,nextTick:()=>g0,off:()=>Ah,on:()=>Vr,once:()=>kh,openStdin:()=>Zc,pid:()=>dh,platform:()=>Tc,ppid:()=>ph,prependListener:()=>Ph,prependOnceListener:()=>Th,reallyExit:()=>Kc,release:()=>Dc,removeAllListeners:()=>Ih,removeListener:()=>Ch,resourceUsage:()=>Yc,setSourceMapsEnabled:()=>wh,setUncaughtExceptionCaptureCallback:()=>nh,stderr:()=>ch,stdin:()=>hh,stdout:()=>uh,title:()=>xc,umask:()=>Uc,uptime:()=>k0,version:()=>Mc,versions:()=>Bc});function od(e){throw new Error("Node.js process "+e+" is not supported by JSPM core outside of Node.js")}function Wb(){!li||!ri||(li=!1,ri.length?Ur=ri.concat(Ur):Xo=-1,Ur.length&&m0())}function m0(){if(!li){var e=setTimeout(Wb,0);li=!0;for(var t=Ur.length;t;){for(ri=Ur,Ur=[];++Xo<t;)ri&&ri[Xo].run();Xo=-1,t=Ur.length}ri=null,li=!1,clearTimeout(e)}}function g0(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Ur.push(new y0(e,t)),Ur.length===1&&!li&&setTimeout(m0,0)}function y0(e,t){this.fun=e,this.array=t}function Ot(){}function v0(e){od("_linkedBinding")}function w0(e){od("dlopen")}function _0(){return[]}function b0(){return[]}function S0(e,t){if(!e)throw new Error(t||"assertion error")}function E0(){return!1}function k0(){return Xr.now()/1e3}function vl(e){var t=Math.floor((Date.now()-Xr.now())*.001),r=Xr.now()*.001,n=Math.floor(r)+t,o=Math.floor(r%1*1e9);return e&&(n=n-e[0],o=o-e[1],o<0&&(n--,o+=wl)),[n,o]}function Vr(){return sd}function A0(e){return[]}var Ur,li,ri,Xo,xc,Pc,Tc,Rc,Oc,Nc,Mc,Bc,Lc,jc,Uc,Fc,$c,Dc,Wc,zc,Hc,Vc,qc,Kc,Qc,Mo,Yc,Gc,Jc,Xc,Zc,eh,th,rh,nh,ih,oh,sh,lh,ah,uh,ch,hh,fh,dh,ph,mh,gh,yh,vh,wh,Xr,cu,wl,_h,bh,Sh,Eh,kh,Ah,Ch,Ih,xh,Ph,Th,sd,zb=It(()=>{ce(),fe(),he(),Ur=[],li=!1,Xo=-1,y0.prototype.run=function(){this.fun.apply(null,this.array)},xc="browser",Pc="x64",Tc="browser",Rc={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Oc=["/usr/bin/node"],Nc=[],Mc="v16.8.0",Bc={},Lc=function(e,t){console.warn((t?t+": ":"")+e)},jc=function(e){od("binding")},Uc=function(e){return 0},Fc=function(){return"/"},$c=function(e){},Dc={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Wc=Ot,zc=[],Hc={},Vc=!1,qc={},Kc=Ot,Qc=Ot,Mo=function(){return{}},Yc=Mo,Gc=Mo,Jc=Ot,Xc=Ot,Zc=Ot,eh={},th={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},rh=Ot,nh=Ot,ih=Ot,oh=Ot,sh=Ot,lh=Ot,ah=Ot,uh=void 0,ch=void 0,hh=void 0,fh=Ot,dh=2,ph=1,mh="/bin/usr/node",gh=9229,yh="node",vh=[],wh=Ot,Xr={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Xr.now===void 0&&(cu=Date.now(),Xr.timing&&Xr.timing.navigationStart&&(cu=Xr.timing.navigationStart),Xr.now=()=>Date.now()-cu),wl=1e9,vl.bigint=function(e){var t=vl(e);return typeof BigInt>"u"?t[0]*wl+t[1]:BigInt(t[0]*wl)+BigInt(t[1])},_h=10,bh={},Sh=0,Eh=Vr,kh=Vr,Ah=Vr,Ch=Vr,Ih=Vr,xh=Ot,Ph=Vr,Th=Vr,sd={version:Mc,versions:Bc,arch:Pc,platform:Tc,release:Dc,_rawDebug:Wc,moduleLoadList:zc,binding:jc,_linkedBinding:v0,_events:bh,_eventsCount:Sh,_maxListeners:_h,on:Vr,addListener:Eh,once:kh,off:Ah,removeListener:Ch,removeAllListeners:Ih,emit:xh,prependListener:Ph,prependOnceListener:Th,listeners:A0,domain:Hc,_exiting:Vc,config:qc,dlopen:w0,uptime:k0,_getActiveRequests:_0,_getActiveHandles:b0,reallyExit:Kc,_kill:Qc,cpuUsage:Mo,resourceUsage:Yc,memoryUsage:Gc,kill:Jc,exit:Xc,openStdin:Zc,allowedNodeEnvironmentFlags:eh,assert:S0,features:th,_fatalExceptions:rh,setUncaughtExceptionCaptureCallback:nh,hasUncaughtExceptionCaptureCallback:E0,emitWarning:Lc,nextTick:g0,_tickCallback:ih,_debugProcess:oh,_debugEnd:sh,_startProfilerIdleNotifier:lh,_stopProfilerIdleNotifier:ah,stdout:uh,stdin:hh,stderr:ch,abort:fh,umask:Uc,chdir:$c,cwd:Fc,env:Rc,title:xc,argv:Oc,execArgv:Nc,pid:dh,ppid:ph,execPath:mh,debugPort:gh,hrtime:vl,argv0:yh,_preload_modules:vh,setSourceMapsEnabled:wh}}),he=It(()=>{zb()}),xt={};vi(xt,{Buffer:()=>ra,INSPECT_MAX_BYTES:()=>C0,default:()=>qr,kMaxLength:()=>I0});function Hb(){if(Rh)return Ii;Rh=!0,Ii.byteLength=l,Ii.toByteArray=u,Ii.fromByteArray=p;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,i=n.length;o<i;++o)e[o]=n[o],t[n.charCodeAt(o)]=o;t[45]=62,t[95]=63;function s(g){var y=g.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=g.indexOf("=");_===-1&&(_=y);var C=_===y?0:4-_%4;return[_,C]}function l(g){var y=s(g),_=y[0],C=y[1];return(_+C)*3/4-C}function a(g,y,_){return(y+_)*3/4-_}function u(g){var y,_=s(g),C=_[0],b=_[1],v=new r(a(g,C,b)),w=0,A=b>0?C-4:C,T;for(T=0;T<A;T+=4)y=t[g.charCodeAt(T)]<<18|t[g.charCodeAt(T+1)]<<12|t[g.charCodeAt(T+2)]<<6|t[g.charCodeAt(T+3)],v[w++]=y>>16&255,v[w++]=y>>8&255,v[w++]=y&255;return b===2&&(y=t[g.charCodeAt(T)]<<2|t[g.charCodeAt(T+1)]>>4,v[w++]=y&255),b===1&&(y=t[g.charCodeAt(T)]<<10|t[g.charCodeAt(T+1)]<<4|t[g.charCodeAt(T+2)]>>2,v[w++]=y>>8&255,v[w++]=y&255),v}function c(g){return e[g>>18&63]+e[g>>12&63]+e[g>>6&63]+e[g&63]}function f(g,y,_){for(var C,b=[],v=y;v<_;v+=3)C=(g[v]<<16&16711680)+(g[v+1]<<8&65280)+(g[v+2]&255),b.push(c(C));return b.join("")}function p(g){for(var y,_=g.length,C=_%3,b=[],v=16383,w=0,A=_-C;w<A;w+=v)b.push(f(g,w,w+v>A?A:w+v));return C===1?(y=g[_-1],b.push(e[y>>2]+e[y<<4&63]+"==")):C===2&&(y=(g[_-2]<<8)+g[_-1],b.push(e[y>>10]+e[y>>4&63]+e[y<<2&63]+"=")),b.join("")}return Ii}function Vb(){return Oh?Bo:(Oh=!0,Bo.read=function(e,t,r,n,o){var i,s,l=o*8-n-1,a=(1<<l)-1,u=a>>1,c=-7,f=r?o-1:0,p=r?-1:1,g=e[t+f];for(f+=p,i=g&(1<<-c)-1,g>>=-c,c+=l;c>0;i=i*256+e[t+f],f+=p,c-=8);for(s=i&(1<<-c)-1,i>>=-c,c+=n;c>0;s=s*256+e[t+f],f+=p,c-=8);if(i===0)i=1-u;else{if(i===a)return s?NaN:(g?-1:1)*(1/0);s=s+Math.pow(2,n),i=i-u}return(g?-1:1)*s*Math.pow(2,i-n)},Bo.write=function(e,t,r,n,o,i){var s,l,a,u=i*8-o-1,c=(1<<u)-1,f=c>>1,p=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:i-1,y=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-s))<1&&(s--,a*=2),s+f>=1?t+=p/a:t+=p*Math.pow(2,1-f),t*a>=2&&(s++,a/=2),s+f>=c?(l=0,s=c):s+f>=1?(l=(t*a-1)*Math.pow(2,o),s=s+f):(l=t*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;e[r+g]=l&255,g+=y,l/=256,o-=8);for(s=s<<o|l,u+=o;u>0;e[r+g]=s&255,g+=y,s/=256,u-=8);e[r+g-y]|=_*128},Bo)}function qb(){if(Nh)return vn;Nh=!0;let e=Hb(),t=Vb(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;vn.Buffer=s,vn.SlowBuffer=b,vn.INSPECT_MAX_BYTES=50;let n=2147483647;vn.kMaxLength=n,s.TYPED_ARRAY_SUPPORT=o(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{let d=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(d,h),d.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function i(d){if(d>n)throw new RangeError('The value "'+d+'" is invalid for option "size"');let h=new Uint8Array(d);return Object.setPrototypeOf(h,s.prototype),h}function s(d,h,m){if(typeof d=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return c(d)}return l(d,h,m)}s.poolSize=8192;function l(d,h,m){if(typeof d=="string")return f(d,h);if(ArrayBuffer.isView(d))return g(d);if(d==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);if(K(d,ArrayBuffer)||d&&K(d.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(K(d,SharedArrayBuffer)||d&&K(d.buffer,SharedArrayBuffer)))return y(d,h,m);if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let I=d.valueOf&&d.valueOf();if(I!=null&&I!==d)return s.from(I,h,m);let O=_(d);if(O)return O;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof d[Symbol.toPrimitive]=="function")return s.from(d[Symbol.toPrimitive]("string"),h,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d)}s.from=function(d,h,m){return l(d,h,m)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function a(d){if(typeof d!="number")throw new TypeError('"size" argument must be of type number');if(d<0)throw new RangeError('The value "'+d+'" is invalid for option "size"')}function u(d,h,m){return a(d),d<=0?i(d):h!==void 0?typeof m=="string"?i(d).fill(h,m):i(d).fill(h):i(d)}s.alloc=function(d,h,m){return u(d,h,m)};function c(d){return a(d),i(d<0?0:C(d)|0)}s.allocUnsafe=function(d){return c(d)},s.allocUnsafeSlow=function(d){return c(d)};function f(d,h){if((typeof h!="string"||h==="")&&(h="utf8"),!s.isEncoding(h))throw new TypeError("Unknown encoding: "+h);let m=v(d,h)|0,I=i(m),O=I.write(d,h);return O!==m&&(I=I.slice(0,O)),I}function p(d){let h=d.length<0?0:C(d.length)|0,m=i(h);for(let I=0;I<h;I+=1)m[I]=d[I]&255;return m}function g(d){if(K(d,Uint8Array)){let h=new Uint8Array(d);return y(h.buffer,h.byteOffset,h.byteLength)}return p(d)}function y(d,h,m){if(h<0||d.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(d.byteLength<h+(m||0))throw new RangeError('"length" is outside of buffer bounds');let I;return h===void 0&&m===void 0?I=new Uint8Array(d):m===void 0?I=new Uint8Array(d,h):I=new Uint8Array(d,h,m),Object.setPrototypeOf(I,s.prototype),I}function _(d){if(s.isBuffer(d)){let h=C(d.length)|0,m=i(h);return m.length===0||d.copy(m,0,0,h),m}if(d.length!==void 0)return typeof d.length!="number"||N(d.length)?i(0):p(d);if(d.type==="Buffer"&&Array.isArray(d.data))return p(d.data)}function C(d){if(d>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return d|0}function b(d){return+d!=d&&(d=0),s.alloc(+d)}s.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==s.prototype},s.compare=function(d,h){if(K(d,Uint8Array)&&(d=s.from(d,d.offset,d.byteLength)),K(h,Uint8Array)&&(h=s.from(h,h.offset,h.byteLength)),!s.isBuffer(d)||!s.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===h)return 0;let m=d.length,I=h.length;for(let O=0,z=Math.min(m,I);O<z;++O)if(d[O]!==h[O]){m=d[O],I=h[O];break}return m<I?-1:I<m?1:0},s.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(d,h){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return s.alloc(0);let m;if(h===void 0)for(h=0,m=0;m<d.length;++m)h+=d[m].length;let I=s.allocUnsafe(h),O=0;for(m=0;m<d.length;++m){let z=d[m];if(K(z,Uint8Array))O+z.length>I.length?(s.isBuffer(z)||(z=s.from(z)),z.copy(I,O)):Uint8Array.prototype.set.call(I,z,O);else if(s.isBuffer(z))z.copy(I,O);else throw new TypeError('"list" argument must be an Array of Buffers');O+=z.length}return I};function v(d,h){if(s.isBuffer(d))return d.length;if(ArrayBuffer.isView(d)||K(d,ArrayBuffer))return d.byteLength;if(typeof d!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof d);let m=d.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&m===0)return 0;let O=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return D(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return ee(d).length;default:if(O)return I?-1:D(d).length;h=(""+h).toLowerCase(),O=!0}}s.byteLength=v;function w(d,h,m){let I=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,h>>>=0,m<=h))return"";for(d||(d="utf8");;)switch(d){case"hex":return j(this,h,m);case"utf8":case"utf-8":return V(this,h,m);case"ascii":return ye(this,h,m);case"latin1":case"binary":return oe(this,h,m);case"base64":return P(this,h,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,h,m);default:if(I)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),I=!0}}s.prototype._isBuffer=!0;function A(d,h,m){let I=d[h];d[h]=d[m],d[m]=I}s.prototype.swap16=function(){let d=this.length;if(d%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<d;h+=2)A(this,h,h+1);return this},s.prototype.swap32=function(){let d=this.length;if(d%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<d;h+=4)A(this,h,h+3),A(this,h+1,h+2);return this},s.prototype.swap64=function(){let d=this.length;if(d%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<d;h+=8)A(this,h,h+7),A(this,h+1,h+6),A(this,h+2,h+5),A(this,h+3,h+4);return this},s.prototype.toString=function(){let d=this.length;return d===0?"":arguments.length===0?V(this,0,d):w.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(d){if(!s.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:s.compare(this,d)===0},s.prototype.inspect=function(){let d="",h=vn.INSPECT_MAX_BYTES;return d=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(d+=" ... "),"<Buffer "+d+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(d,h,m,I,O){if(K(d,Uint8Array)&&(d=s.from(d,d.offset,d.byteLength)),!s.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(h===void 0&&(h=0),m===void 0&&(m=d?d.length:0),I===void 0&&(I=0),O===void 0&&(O=this.length),h<0||m>d.length||I<0||O>this.length)throw new RangeError("out of range index");if(I>=O&&h>=m)return 0;if(I>=O)return-1;if(h>=m)return 1;if(h>>>=0,m>>>=0,I>>>=0,O>>>=0,this===d)return 0;let z=O-I,ne=m-h,xe=Math.min(z,ne),Re=this.slice(I,O),Oe=d.slice(h,m);for(let Ce=0;Ce<xe;++Ce)if(Re[Ce]!==Oe[Ce]){z=Re[Ce],ne=Oe[Ce];break}return z<ne?-1:ne<z?1:0};function T(d,h,m,I,O){if(d.length===0)return-1;if(typeof m=="string"?(I=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,N(m)&&(m=O?0:d.length-1),m<0&&(m=d.length+m),m>=d.length){if(O)return-1;m=d.length-1}else if(m<0)if(O)m=0;else return-1;if(typeof h=="string"&&(h=s.from(h,I)),s.isBuffer(h))return h.length===0?-1:k(d,h,m,I,O);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?O?Uint8Array.prototype.indexOf.call(d,h,m):Uint8Array.prototype.lastIndexOf.call(d,h,m):k(d,[h],m,I,O);throw new TypeError("val must be string, number or Buffer")}function k(d,h,m,I,O){let z=1,ne=d.length,xe=h.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(d.length<2||h.length<2)return-1;z=2,ne/=2,xe/=2,m/=2}function Re(Ce,Te){return z===1?Ce[Te]:Ce.readUInt16BE(Te*z)}let Oe;if(O){let Ce=-1;for(Oe=m;Oe<ne;Oe++)if(Re(d,Oe)===Re(h,Ce===-1?0:Oe-Ce)){if(Ce===-1&&(Ce=Oe),Oe-Ce+1===xe)return Ce*z}else Ce!==-1&&(Oe-=Oe-Ce),Ce=-1}else for(m+xe>ne&&(m=ne-xe),Oe=m;Oe>=0;Oe--){let Ce=!0;for(let Te=0;Te<xe;Te++)if(Re(d,Oe+Te)!==Re(h,Te)){Ce=!1;break}if(Ce)return Oe}return-1}s.prototype.includes=function(d,h,m){return this.indexOf(d,h,m)!==-1},s.prototype.indexOf=function(d,h,m){return T(this,d,h,m,!0)},s.prototype.lastIndexOf=function(d,h,m){return T(this,d,h,m,!1)};function E(d,h,m,I){m=Number(m)||0;let O=d.length-m;I?(I=Number(I),I>O&&(I=O)):I=O;let z=h.length;I>z/2&&(I=z/2);let ne;for(ne=0;ne<I;++ne){let xe=parseInt(h.substr(ne*2,2),16);if(N(xe))return ne;d[m+ne]=xe}return ne}function x(d,h,m,I){return F(D(h,d.length-m),d,m,I)}function U(d,h,m,I){return F(W(h),d,m,I)}function H(d,h,m,I){return F(ee(h),d,m,I)}function Q(d,h,m,I){return F(le(h,d.length-m),d,m,I)}s.prototype.write=function(d,h,m,I){if(h===void 0)I="utf8",m=this.length,h=0;else if(m===void 0&&typeof h=="string")I=h,m=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(m)?(m=m>>>0,I===void 0&&(I="utf8")):(I=m,m=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let O=this.length-h;if((m===void 0||m>O)&&(m=O),d.length>0&&(m<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");I||(I="utf8");let z=!1;for(;;)switch(I){case"hex":return E(this,d,h,m);case"utf8":case"utf-8":return x(this,d,h,m);case"ascii":case"latin1":case"binary":return U(this,d,h,m);case"base64":return H(this,d,h,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,d,h,m);default:if(z)throw new TypeError("Unknown encoding: "+I);I=(""+I).toLowerCase(),z=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(d,h,m){return h===0&&m===d.length?e.fromByteArray(d):e.fromByteArray(d.slice(h,m))}function V(d,h,m){m=Math.min(d.length,m);let I=[],O=h;for(;O<m;){let z=d[O],ne=null,xe=z>239?4:z>223?3:z>191?2:1;if(O+xe<=m){let Re,Oe,Ce,Te;switch(xe){case 1:z<128&&(ne=z);break;case 2:Re=d[O+1],(Re&192)===128&&(Te=(z&31)<<6|Re&63,Te>127&&(ne=Te));break;case 3:Re=d[O+1],Oe=d[O+2],(Re&192)===128&&(Oe&192)===128&&(Te=(z&15)<<12|(Re&63)<<6|Oe&63,Te>2047&&(Te<55296||Te>57343)&&(ne=Te));break;case 4:Re=d[O+1],Oe=d[O+2],Ce=d[O+3],(Re&192)===128&&(Oe&192)===128&&(Ce&192)===128&&(Te=(z&15)<<18|(Re&63)<<12|(Oe&63)<<6|Ce&63,Te>65535&&Te<1114112&&(ne=Te))}}ne===null?(ne=65533,xe=1):ne>65535&&(ne-=65536,I.push(ne>>>10&1023|55296),ne=56320|ne&1023),I.push(ne),O+=xe}return J(I)}let te=4096;function J(d){let h=d.length;if(h<=te)return String.fromCharCode.apply(String,d);let m="",I=0;for(;I<h;)m+=String.fromCharCode.apply(String,d.slice(I,I+=te));return m}function ye(d,h,m){let I="";m=Math.min(d.length,m);for(let O=h;O<m;++O)I+=String.fromCharCode(d[O]&127);return I}function oe(d,h,m){let I="";m=Math.min(d.length,m);for(let O=h;O<m;++O)I+=String.fromCharCode(d[O]);return I}function j(d,h,m){let I=d.length;(!h||h<0)&&(h=0),(!m||m<0||m>I)&&(m=I);let O="";for(let z=h;z<m;++z)O+=$[d[z]];return O}function Z(d,h,m){let I=d.slice(h,m),O="";for(let z=0;z<I.length-1;z+=2)O+=String.fromCharCode(I[z]+I[z+1]*256);return O}s.prototype.slice=function(d,h){let m=this.length;d=~~d,h=h===void 0?m:~~h,d<0?(d+=m,d<0&&(d=0)):d>m&&(d=m),h<0?(h+=m,h<0&&(h=0)):h>m&&(h=m),h<d&&(h=d);let I=this.subarray(d,h);return Object.setPrototypeOf(I,s.prototype),I};function G(d,h,m){if(d%1!==0||d<0)throw new RangeError("offset is not uint");if(d+h>m)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(d,h,m){d=d>>>0,h=h>>>0,m||G(d,h,this.length);let I=this[d],O=1,z=0;for(;++z<h&&(O*=256);)I+=this[d+z]*O;return I},s.prototype.readUintBE=s.prototype.readUIntBE=function(d,h,m){d=d>>>0,h=h>>>0,m||G(d,h,this.length);let I=this[d+--h],O=1;for(;h>0&&(O*=256);)I+=this[d+--h]*O;return I},s.prototype.readUint8=s.prototype.readUInt8=function(d,h){return d=d>>>0,h||G(d,1,this.length),this[d]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(d,h){return d=d>>>0,h||G(d,2,this.length),this[d]|this[d+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(d,h){return d=d>>>0,h||G(d,2,this.length),this[d]<<8|this[d+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(d,h){return d=d>>>0,h||G(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(d,h){return d=d>>>0,h||G(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},s.prototype.readBigUInt64LE=q(function(d){d=d>>>0,re(d,"offset");let h=this[d],m=this[d+7];(h===void 0||m===void 0)&&we(d,this.length-8);let I=h+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24,O=this[++d]+this[++d]*2**8+this[++d]*2**16+m*2**24;return BigInt(I)+(BigInt(O)<<BigInt(32))}),s.prototype.readBigUInt64BE=q(function(d){d=d>>>0,re(d,"offset");let h=this[d],m=this[d+7];(h===void 0||m===void 0)&&we(d,this.length-8);let I=h*2**24+this[++d]*2**16+this[++d]*2**8+this[++d],O=this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+m;return(BigInt(I)<<BigInt(32))+BigInt(O)}),s.prototype.readIntLE=function(d,h,m){d=d>>>0,h=h>>>0,m||G(d,h,this.length);let I=this[d],O=1,z=0;for(;++z<h&&(O*=256);)I+=this[d+z]*O;return O*=128,I>=O&&(I-=Math.pow(2,8*h)),I},s.prototype.readIntBE=function(d,h,m){d=d>>>0,h=h>>>0,m||G(d,h,this.length);let I=h,O=1,z=this[d+--I];for(;I>0&&(O*=256);)z+=this[d+--I]*O;return O*=128,z>=O&&(z-=Math.pow(2,8*h)),z},s.prototype.readInt8=function(d,h){return d=d>>>0,h||G(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},s.prototype.readInt16LE=function(d,h){d=d>>>0,h||G(d,2,this.length);let m=this[d]|this[d+1]<<8;return m&32768?m|4294901760:m},s.prototype.readInt16BE=function(d,h){d=d>>>0,h||G(d,2,this.length);let m=this[d+1]|this[d]<<8;return m&32768?m|4294901760:m},s.prototype.readInt32LE=function(d,h){return d=d>>>0,h||G(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},s.prototype.readInt32BE=function(d,h){return d=d>>>0,h||G(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},s.prototype.readBigInt64LE=q(function(d){d=d>>>0,re(d,"offset");let h=this[d],m=this[d+7];(h===void 0||m===void 0)&&we(d,this.length-8);let I=this[d+4]+this[d+5]*2**8+this[d+6]*2**16+(m<<24);return(BigInt(I)<<BigInt(32))+BigInt(h+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24)}),s.prototype.readBigInt64BE=q(function(d){d=d>>>0,re(d,"offset");let h=this[d],m=this[d+7];(h===void 0||m===void 0)&&we(d,this.length-8);let I=(h<<24)+this[++d]*2**16+this[++d]*2**8+this[++d];return(BigInt(I)<<BigInt(32))+BigInt(this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+m)}),s.prototype.readFloatLE=function(d,h){return d=d>>>0,h||G(d,4,this.length),t.read(this,d,!0,23,4)},s.prototype.readFloatBE=function(d,h){return d=d>>>0,h||G(d,4,this.length),t.read(this,d,!1,23,4)},s.prototype.readDoubleLE=function(d,h){return d=d>>>0,h||G(d,8,this.length),t.read(this,d,!0,52,8)},s.prototype.readDoubleBE=function(d,h){return d=d>>>0,h||G(d,8,this.length),t.read(this,d,!1,52,8)};function pe(d,h,m,I,O,z){if(!s.isBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>O||h<z)throw new RangeError('"value" argument is out of bounds');if(m+I>d.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(d,h,m,I){if(d=+d,h=h>>>0,m=m>>>0,!I){let ne=Math.pow(2,8*m)-1;pe(this,d,h,m,ne,0)}let O=1,z=0;for(this[h]=d&255;++z<m&&(O*=256);)this[h+z]=d/O&255;return h+m},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(d,h,m,I){if(d=+d,h=h>>>0,m=m>>>0,!I){let ne=Math.pow(2,8*m)-1;pe(this,d,h,m,ne,0)}let O=m-1,z=1;for(this[h+O]=d&255;--O>=0&&(z*=256);)this[h+O]=d/z&255;return h+m},s.prototype.writeUint8=s.prototype.writeUInt8=function(d,h,m){return d=+d,h=h>>>0,m||pe(this,d,h,1,255,0),this[h]=d&255,h+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(d,h,m){return d=+d,h=h>>>0,m||pe(this,d,h,2,65535,0),this[h]=d&255,this[h+1]=d>>>8,h+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(d,h,m){return d=+d,h=h>>>0,m||pe(this,d,h,2,65535,0),this[h]=d>>>8,this[h+1]=d&255,h+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(d,h,m){return d=+d,h=h>>>0,m||pe(this,d,h,4,4294967295,0),this[h+3]=d>>>24,this[h+2]=d>>>16,this[h+1]=d>>>8,this[h]=d&255,h+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(d,h,m){return d=+d,h=h>>>0,m||pe(this,d,h,4,4294967295,0),this[h]=d>>>24,this[h+1]=d>>>16,this[h+2]=d>>>8,this[h+3]=d&255,h+4};function S(d,h,m,I,O){ie(h,I,O,d,m,7);let z=Number(h&BigInt(4294967295));d[m++]=z,z=z>>8,d[m++]=z,z=z>>8,d[m++]=z,z=z>>8,d[m++]=z;let ne=Number(h>>BigInt(32)&BigInt(4294967295));return d[m++]=ne,ne=ne>>8,d[m++]=ne,ne=ne>>8,d[m++]=ne,ne=ne>>8,d[m++]=ne,m}function X(d,h,m,I,O){ie(h,I,O,d,m,7);let z=Number(h&BigInt(4294967295));d[m+7]=z,z=z>>8,d[m+6]=z,z=z>>8,d[m+5]=z,z=z>>8,d[m+4]=z;let ne=Number(h>>BigInt(32)&BigInt(4294967295));return d[m+3]=ne,ne=ne>>8,d[m+2]=ne,ne=ne>>8,d[m+1]=ne,ne=ne>>8,d[m]=ne,m+8}s.prototype.writeBigUInt64LE=q(function(d,h=0){return S(this,d,h,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=q(function(d,h=0){return X(this,d,h,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(d,h,m,I){if(d=+d,h=h>>>0,!I){let xe=Math.pow(2,8*m-1);pe(this,d,h,m,xe-1,-xe)}let O=0,z=1,ne=0;for(this[h]=d&255;++O<m&&(z*=256);)d<0&&ne===0&&this[h+O-1]!==0&&(ne=1),this[h+O]=(d/z>>0)-ne&255;return h+m},s.prototype.writeIntBE=function(d,h,m,I){if(d=+d,h=h>>>0,!I){let xe=Math.pow(2,8*m-1);pe(this,d,h,m,xe-1,-xe)}let O=m-1,z=1,ne=0;for(this[h+O]=d&255;--O>=0&&(z*=256);)d<0&&ne===0&&this[h+O+1]!==0&&(ne=1),this[h+O]=(d/z>>0)-ne&255;return h+m},s.prototype.writeInt8=function(d,h,m){return d=+d,h=h>>>0,m||pe(this,d,h,1,127,-128),d<0&&(d=255+d+1),this[h]=d&255,h+1},s.prototype.writeInt16LE=function(d,h,m){return d=+d,h=h>>>0,m||pe(this,d,h,2,32767,-32768),this[h]=d&255,this[h+1]=d>>>8,h+2},s.prototype.writeInt16BE=function(d,h,m){return d=+d,h=h>>>0,m||pe(this,d,h,2,32767,-32768),this[h]=d>>>8,this[h+1]=d&255,h+2},s.prototype.writeInt32LE=function(d,h,m){return d=+d,h=h>>>0,m||pe(this,d,h,4,2147483647,-2147483648),this[h]=d&255,this[h+1]=d>>>8,this[h+2]=d>>>16,this[h+3]=d>>>24,h+4},s.prototype.writeInt32BE=function(d,h,m){return d=+d,h=h>>>0,m||pe(this,d,h,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[h]=d>>>24,this[h+1]=d>>>16,this[h+2]=d>>>8,this[h+3]=d&255,h+4},s.prototype.writeBigInt64LE=q(function(d,h=0){return S(this,d,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=q(function(d,h=0){return X(this,d,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ae(d,h,m,I,O,z){if(m+I>d.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function be(d,h,m,I,O){return h=+h,m=m>>>0,O||ae(d,h,m,4),t.write(d,h,m,I,23,4),m+4}s.prototype.writeFloatLE=function(d,h,m){return be(this,d,h,!0,m)},s.prototype.writeFloatBE=function(d,h,m){return be(this,d,h,!1,m)};function se(d,h,m,I,O){return h=+h,m=m>>>0,O||ae(d,h,m,8),t.write(d,h,m,I,52,8),m+8}s.prototype.writeDoubleLE=function(d,h,m){return se(this,d,h,!0,m)},s.prototype.writeDoubleBE=function(d,h,m){return se(this,d,h,!1,m)},s.prototype.copy=function(d,h,m,I){if(!s.isBuffer(d))throw new TypeError("argument should be a Buffer");if(m||(m=0),!I&&I!==0&&(I=this.length),h>=d.length&&(h=d.length),h||(h=0),I>0&&I<m&&(I=m),I===m||d.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(m<0||m>=this.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("sourceEnd out of bounds");I>this.length&&(I=this.length),d.length-h<I-m&&(I=d.length-h+m);let O=I-m;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,m,I):Uint8Array.prototype.set.call(d,this.subarray(m,I),h),O},s.prototype.fill=function(d,h,m,I){if(typeof d=="string"){if(typeof h=="string"?(I=h,h=0,m=this.length):typeof m=="string"&&(I=m,m=this.length),I!==void 0&&typeof I!="string")throw new TypeError("encoding must be a string");if(typeof I=="string"&&!s.isEncoding(I))throw new TypeError("Unknown encoding: "+I);if(d.length===1){let z=d.charCodeAt(0);(I==="utf8"&&z<128||I==="latin1")&&(d=z)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(h<0||this.length<h||this.length<m)throw new RangeError("Out of range index");if(m<=h)return this;h=h>>>0,m=m===void 0?this.length:m>>>0,d||(d=0);let O;if(typeof d=="number")for(O=h;O<m;++O)this[O]=d;else{let z=s.isBuffer(d)?d:s.from(d,I),ne=z.length;if(ne===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(O=0;O<m-h;++O)this[O+h]=z[O%ne]}return this};let B={};function R(d,h,m){B[d]=class extends m{constructor(){super(),Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${d}]`,this.stack,delete this.name}get code(){return d}set code(I){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:I,writable:!0})}toString(){return`${this.name} [${d}]: ${this.message}`}}}R("ERR_BUFFER_OUT_OF_BOUNDS",function(d){return d?`${d} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),R("ERR_INVALID_ARG_TYPE",function(d,h){return`The "${d}" argument must be of type number. Received type ${typeof h}`},TypeError),R("ERR_OUT_OF_RANGE",function(d,h,m){let I=`The value of "${d}" is out of range.`,O=m;return Number.isInteger(m)&&Math.abs(m)>2**32?O=Y(String(m)):typeof m=="bigint"&&(O=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(O=Y(O)),O+="n"),I+=` It must be ${h}. Received ${O}`,I},RangeError);function Y(d){let h="",m=d.length,I=d[0]==="-"?1:0;for(;m>=I+4;m-=3)h=`_${d.slice(m-3,m)}${h}`;return`${d.slice(0,m)}${h}`}function de(d,h,m){re(h,"offset"),(d[h]===void 0||d[h+m]===void 0)&&we(h,d.length-(m+1))}function ie(d,h,m,I,O,z){if(d>m||d<h){let ne=typeof h=="bigint"?"n":"",xe;throw h===0||h===BigInt(0)?xe=`>= 0${ne} and < 2${ne} ** ${(z+1)*8}${ne}`:xe=`>= -(2${ne} ** ${(z+1)*8-1}${ne}) and < 2 ** ${(z+1)*8-1}${ne}`,new B.ERR_OUT_OF_RANGE("value",xe,d)}de(I,O,z)}function re(d,h){if(typeof d!="number")throw new B.ERR_INVALID_ARG_TYPE(h,"number",d)}function we(d,h,m){throw Math.floor(d)!==d?(re(d,m),new B.ERR_OUT_OF_RANGE("offset","an integer",d)):h<0?new B.ERR_BUFFER_OUT_OF_BOUNDS:new B.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${h}`,d)}let me=/[^+/0-9A-Za-z-_]/g;function M(d){if(d=d.split("=")[0],d=d.trim().replace(me,""),d.length<2)return"";for(;d.length%4!==0;)d=d+"=";return d}function D(d,h){h=h||1/0;let m,I=d.length,O=null,z=[];for(let ne=0;ne<I;++ne){if(m=d.charCodeAt(ne),m>55295&&m<57344){if(!O){if(m>56319){(h-=3)>-1&&z.push(239,191,189);continue}else if(ne+1===I){(h-=3)>-1&&z.push(239,191,189);continue}O=m;continue}if(m<56320){(h-=3)>-1&&z.push(239,191,189),O=m;continue}m=(O-55296<<10|m-56320)+65536}else O&&(h-=3)>-1&&z.push(239,191,189);if(O=null,m<128){if((h-=1)<0)break;z.push(m)}else if(m<2048){if((h-=2)<0)break;z.push(m>>6|192,m&63|128)}else if(m<65536){if((h-=3)<0)break;z.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((h-=4)<0)break;z.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return z}function W(d){let h=[];for(let m=0;m<d.length;++m)h.push(d.charCodeAt(m)&255);return h}function le(d,h){let m,I,O,z=[];for(let ne=0;ne<d.length&&!((h-=2)<0);++ne)m=d.charCodeAt(ne),I=m>>8,O=m%256,z.push(O),z.push(I);return z}function ee(d){return e.toByteArray(M(d))}function F(d,h,m,I){let O;for(O=0;O<I&&!(O+m>=h.length||O>=d.length);++O)h[O+m]=d[O];return O}function K(d,h){return d instanceof h||d!=null&&d.constructor!=null&&d.constructor.name!=null&&d.constructor.name===h.name}function N(d){return d!==d}let $=function(){let d="0123456789abcdef",h=new Array(256);for(let m=0;m<16;++m){let I=m*16;for(let O=0;O<16;++O)h[I+O]=d[m]+d[O]}return h}();function q(d){return typeof BigInt>"u"?ue:d}function ue(){throw new Error("BigInt not supported")}return vn}var Ii,Rh,Bo,Oh,vn,Nh,qr,ra,C0,I0,Pt=It(()=>{ce(),fe(),he(),Ii={},Rh=!1,Bo={},Oh=!1,vn={},Nh=!1,qr=qb(),qr.Buffer,qr.SlowBuffer,qr.INSPECT_MAX_BYTES,qr.kMaxLength,ra=qr.Buffer,C0=qr.INSPECT_MAX_BYTES,I0=qr.kMaxLength}),fe=It(()=>{Pt()}),Kb=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(r){this.aliasToTopic={},this.max=r}put(r,n){return n===0||n>this.max?!1:(this.aliasToTopic[n]=r,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(r){return this.aliasToTopic[r]}clear(){this.aliasToTopic={}}};e.default=t}),pt=ve((e,t)=>{ce(),fe(),he(),t.exports={ArrayIsArray(r){return Array.isArray(r)},ArrayPrototypeIncludes(r,n){return r.includes(n)},ArrayPrototypeIndexOf(r,n){return r.indexOf(n)},ArrayPrototypeJoin(r,n){return r.join(n)},ArrayPrototypeMap(r,n){return r.map(n)},ArrayPrototypePop(r,n){return r.pop(n)},ArrayPrototypePush(r,n){return r.push(n)},ArrayPrototypeSlice(r,n,o){return r.slice(n,o)},Error,FunctionPrototypeCall(r,n,...o){return r.call(n,...o)},FunctionPrototypeSymbolHasInstance(r,n){return Function.prototype[Symbol.hasInstance].call(r,n)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(r,n){return Object.defineProperties(r,n)},ObjectDefineProperty(r,n,o){return Object.defineProperty(r,n,o)},ObjectGetOwnPropertyDescriptor(r,n){return Object.getOwnPropertyDescriptor(r,n)},ObjectKeys(r){return Object.keys(r)},ObjectSetPrototypeOf(r,n){return Object.setPrototypeOf(r,n)},Promise,PromisePrototypeCatch(r,n){return r.catch(n)},PromisePrototypeThen(r,n,o){return r.then(n,o)},PromiseReject(r){return Promise.reject(r)},ReflectApply:Reflect.apply,RegExpPrototypeTest(r,n){return r.test(n)},SafeSet:Set,String,StringPrototypeSlice(r,n,o){return r.slice(n,o)},StringPrototypeToLowerCase(r){return r.toLowerCase()},StringPrototypeToUpperCase(r){return r.toUpperCase()},StringPrototypeTrim(r){return r.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(r,n,o){return r.set(n,o)},Uint8Array}}),un=ve((e,t)=>{ce(),fe(),he();var r=(Pt(),He(xt)),n=Object.getPrototypeOf(async function(){}).constructor,o=globalThis.Blob||r.Blob,i=typeof o<"u"?function(l){return l instanceof o}:function(l){return!1},s=class extends Error{constructor(l){if(!Array.isArray(l))throw new TypeError(`Expected input to be an Array, got ${typeof l}`);let a="";for(let u=0;u<l.length;u++)a+=`    ${l[u].stack}
`;super(a),this.name="AggregateError",this.errors=l}};t.exports={AggregateError:s,kEmptyObject:Object.freeze({}),once(l){let a=!1;return function(...u){a||(a=!0,l.apply(this,u))}},createDeferredPromise:function(){let l,a;return{promise:new Promise((u,c)=>{l=u,a=c}),resolve:l,reject:a}},promisify(l){return new Promise((a,u)=>{l((c,...f)=>c?u(c):a(...f))})},debuglog(){return function(){}},format(l,...a){return l.replace(/%([sdifj])/g,function(...[u,c]){let f=a.shift();return c==="f"?f.toFixed(6):c==="j"?JSON.stringify(f):c==="s"&&typeof f=="object"?`${f.constructor!==Object?f.constructor.name:""} {}`.trim():f.toString()})},inspect(l){switch(typeof l){case"string":if(l.includes("'"))if(l.includes('"')){if(!l.includes("`")&&!l.includes("${"))return`\`${l}\``}else return`"${l}"`;return`'${l}'`;case"number":return isNaN(l)?"NaN":Object.is(l,-0)?String(l):l;case"bigint":return`${String(l)}n`;case"boolean":case"undefined":return String(l);case"object":return"{}"}},types:{isAsyncFunction(l){return l instanceof n},isArrayBufferView(l){return ArrayBuffer.isView(l)}},isBlob:i},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),ld=ve((e,t)=>{ce(),fe(),he();var{AbortController:r,AbortSignal:n}=typeof self<"u"?self:typeof window<"u"?window:void 0;t.exports=r,t.exports.AbortSignal=n,t.exports.default=r}),Gt=ve((e,t)=>{ce(),fe(),he();var{format:r,inspect:n,AggregateError:o}=un(),i=globalThis.AggregateError||o,s=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],a=/^([A-Z][a-z0-9]*)+$/,u="__node_internal_",c={};function f(v,w){if(!v)throw new c.ERR_INTERNAL_ASSERTION(w)}function p(v){let w="",A=v.length,T=v[0]==="-"?1:0;for(;A>=T+4;A-=3)w=`_${v.slice(A-3,A)}${w}`;return`${v.slice(0,A)}${w}`}function g(v,w,A){if(typeof w=="function")return f(w.length<=A.length,`Code: ${v}; The provided arguments length (${A.length}) does not match the required ones (${w.length}).`),w(...A);let T=(w.match(/%[dfijoOs]/g)||[]).length;return f(T===A.length,`Code: ${v}; The provided arguments length (${A.length}) does not match the required ones (${T}).`),A.length===0?w:r(w,...A)}function y(v,w,A){A||(A=Error);class T extends A{constructor(...E){super(g(v,w,E))}toString(){return`${this.name} [${v}]: ${this.message}`}}Object.defineProperties(T.prototype,{name:{value:A.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${v}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),T.prototype.code=v,T.prototype[s]=!0,c[v]=T}function _(v){let w=u+v.name;return Object.defineProperty(v,"name",{value:w}),v}function C(v,w){if(v&&w&&v!==w){if(Array.isArray(w.errors))return w.errors.push(v),w;let A=new i([w,v],w.message);return A.code=w.code,A}return v||w}var b=class extends Error{constructor(v="The operation was aborted",w=void 0){if(w!==void 0&&typeof w!="object")throw new c.ERR_INVALID_ARG_TYPE("options","Object",w);super(v,w),this.code="ABORT_ERR",this.name="AbortError"}};y("ERR_ASSERTION","%s",Error),y("ERR_INVALID_ARG_TYPE",(v,w,A)=>{f(typeof v=="string","'name' must be a string"),Array.isArray(w)||(w=[w]);let T="The ";v.endsWith(" argument")?T+=`${v} `:T+=`"${v}" ${v.includes(".")?"property":"argument"} `,T+="must be ";let k=[],E=[],x=[];for(let H of w)f(typeof H=="string","All expected entries have to be of type string"),l.includes(H)?k.push(H.toLowerCase()):a.test(H)?E.push(H):(f(H!=="object",'The value "object" should be written as "Object"'),x.push(H));if(E.length>0){let H=k.indexOf("object");H!==-1&&(k.splice(k,H,1),E.push("Object"))}if(k.length>0){switch(k.length){case 1:T+=`of type ${k[0]}`;break;case 2:T+=`one of type ${k[0]} or ${k[1]}`;break;default:{let H=k.pop();T+=`one of type ${k.join(", ")}, or ${H}`}}(E.length>0||x.length>0)&&(T+=" or ")}if(E.length>0){switch(E.length){case 1:T+=`an instance of ${E[0]}`;break;case 2:T+=`an instance of ${E[0]} or ${E[1]}`;break;default:{let H=E.pop();T+=`an instance of ${E.join(", ")}, or ${H}`}}x.length>0&&(T+=" or ")}switch(x.length){case 0:break;case 1:x[0].toLowerCase()!==x[0]&&(T+="an "),T+=`${x[0]}`;break;case 2:T+=`one of ${x[0]} or ${x[1]}`;break;default:{let H=x.pop();T+=`one of ${x.join(", ")}, or ${H}`}}if(A==null)T+=`. Received ${A}`;else if(typeof A=="function"&&A.name)T+=`. Received function ${A.name}`;else if(typeof A=="object"){var U;if((U=A.constructor)!==null&&U!==void 0&&U.name)T+=`. Received an instance of ${A.constructor.name}`;else{let H=n(A,{depth:-1});T+=`. Received ${H}`}}else{let H=n(A,{colors:!1});H.length>25&&(H=`${H.slice(0,25)}...`),T+=`. Received type ${typeof A} (${H})`}return T},TypeError),y("ERR_INVALID_ARG_VALUE",(v,w,A="is invalid")=>{let T=n(w);return T.length>128&&(T=T.slice(0,128)+"..."),`The ${v.includes(".")?"property":"argument"} '${v}' ${A}. Received ${T}`},TypeError),y("ERR_INVALID_RETURN_VALUE",(v,w,A)=>{var T;let k=A!=null&&(T=A.constructor)!==null&&T!==void 0&&T.name?`instance of ${A.constructor.name}`:`type ${typeof A}`;return`Expected ${v} to be returned from the "${w}" function but got ${k}.`},TypeError),y("ERR_MISSING_ARGS",(...v)=>{f(v.length>0,"At least one arg needs to be specified");let w,A=v.length;switch(v=(Array.isArray(v)?v:[v]).map(T=>`"${T}"`).join(" or "),A){case 1:w+=`The ${v[0]} argument`;break;case 2:w+=`The ${v[0]} and ${v[1]} arguments`;break;default:{let T=v.pop();w+=`The ${v.join(", ")}, and ${T} arguments`}break}return`${w} must be specified`},TypeError),y("ERR_OUT_OF_RANGE",(v,w,A)=>{f(w,'Missing "range" argument');let T;return Number.isInteger(A)&&Math.abs(A)>2**32?T=p(String(A)):typeof A=="bigint"?(T=String(A),(A>2n**32n||A<-(2n**32n))&&(T=p(T)),T+="n"):T=n(A),`The value of "${v}" is out of range. It must be ${w}. Received ${T}`},RangeError),y("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),y("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),y("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),y("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),y("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),y("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),y("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),y("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),y("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),y("ERR_STREAM_WRITE_AFTER_END","write after end",Error),y("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),t.exports={AbortError:b,aggregateTwoErrors:_(C),hideStackFrames:_,codes:c}}),Ia=ve((e,t)=>{ce(),fe(),he();var{ArrayIsArray:r,ArrayPrototypeIncludes:n,ArrayPrototypeJoin:o,ArrayPrototypeMap:i,NumberIsInteger:s,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:a,NumberMIN_SAFE_INTEGER:u,NumberParseInt:c,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:p,String:g,StringPrototypeToUpperCase:y,StringPrototypeTrim:_}=pt(),{hideStackFrames:C,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:A,ERR_UNKNOWN_SIGNAL:T}}=Gt(),{normalizeEncoding:k}=un(),{isAsyncFunction:E,isArrayBufferView:x}=un().types,U={};function H(F){return F===(F|0)}function Q(F){return F===F>>>0}var P=/^[0-7]+$/,V="must be a 32-bit unsigned integer or an octal string";function te(F,K,N){if(typeof F>"u"&&(F=N),typeof F=="string"){if(p(P,F)===null)throw new w(K,F,V);F=c(F,8)}return oe(F,K),F}var J=C((F,K,N=u,$=a)=>{if(typeof F!="number")throw new v(K,"number",F);if(!s(F))throw new A(K,"an integer",F);if(F<N||F>$)throw new A(K,`>= ${N} && <= ${$}`,F)}),ye=C((F,K,N=-2147483648,$=2147483647)=>{if(typeof F!="number")throw new v(K,"number",F);if(!s(F))throw new A(K,"an integer",F);if(F<N||F>$)throw new A(K,`>= ${N} && <= ${$}`,F)}),oe=C((F,K,N=!1)=>{if(typeof F!="number")throw new v(K,"number",F);if(!s(F))throw new A(K,"an integer",F);let $=N?1:0,q=4294967295;if(F<$||F>q)throw new A(K,`>= ${$} && <= ${q}`,F)});function j(F,K){if(typeof F!="string")throw new v(K,"string",F)}function Z(F,K,N=void 0,$){if(typeof F!="number")throw new v(K,"number",F);if(N!=null&&F<N||$!=null&&F>$||(N!=null||$!=null)&&l(F))throw new A(K,`${N!=null?`>= ${N}`:""}${N!=null&&$!=null?" && ":""}${$!=null?`<= ${$}`:""}`,F)}var G=C((F,K,N)=>{if(!n(N,F)){let $="must be one of: "+o(i(N,q=>typeof q=="string"?`'${q}'`:g(q)),", ");throw new w(K,F,$)}});function pe(F,K){if(typeof F!="boolean")throw new v(K,"boolean",F)}function S(F,K,N){return F==null||!f(F,K)?N:F[K]}var X=C((F,K,N=null)=>{let $=S(N,"allowArray",!1),q=S(N,"allowFunction",!1);if(!S(N,"nullable",!1)&&F===null||!$&&r(F)||typeof F!="object"&&(!q||typeof F!="function"))throw new v(K,"Object",F)}),ae=C((F,K)=>{if(F!=null&&typeof F!="object"&&typeof F!="function")throw new v(K,"a dictionary",F)}),be=C((F,K,N=0)=>{if(!r(F))throw new v(K,"Array",F);if(F.length<N){let $=`must be longer than ${N}`;throw new w(K,F,$)}});function se(F,K){be(F,K);for(let N=0;N<F.length;N++)j(F[N],`${K}[${N}]`)}function B(F,K){be(F,K);for(let N=0;N<F.length;N++)pe(F[N],`${K}[${N}]`)}function R(F,K="signal"){if(j(F,K),U[F]===void 0)throw U[y(F)]!==void 0?new T(F+" (signals must use all capital letters)"):new T(F)}var Y=C((F,K="buffer")=>{if(!x(F))throw new v(K,["Buffer","TypedArray","DataView"],F)});function de(F,K){let N=k(K),$=F.length;if(N==="hex"&&$%2!==0)throw new w("encoding",K,`is invalid for data of length ${$}`)}function ie(F,K="Port",N=!0){if(typeof F!="number"&&typeof F!="string"||typeof F=="string"&&_(F).length===0||+F!==+F>>>0||F>65535||F===0&&!N)throw new b(K,F,N);return F|0}var re=C((F,K)=>{if(F!==void 0&&(F===null||typeof F!="object"||!("aborted"in F)))throw new v(K,"AbortSignal",F)}),we=C((F,K)=>{if(typeof F!="function")throw new v(K,"Function",F)}),me=C((F,K)=>{if(typeof F!="function"||E(F))throw new v(K,"Function",F)}),M=C((F,K)=>{if(F!==void 0)throw new v(K,"undefined",F)});function D(F,K,N){if(!n(N,F))throw new v(K,`('${o(N,"|")}')`,F)}var W=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function le(F,K){if(typeof F>"u"||!p(W,F))throw new w(K,F,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ee(F){if(typeof F=="string")return le(F,"hints"),F;if(r(F)){let K=F.length,N="";if(K===0)return N;for(let $=0;$<K;$++){let q=F[$];le(q,"hints"),N+=q,$!==K-1&&(N+=", ")}return N}throw new w("hints",F,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}t.exports={isInt32:H,isUint32:Q,parseFileMode:te,validateArray:be,validateStringArray:se,validateBooleanArray:B,validateBoolean:pe,validateBuffer:Y,validateDictionary:ae,validateEncoding:de,validateFunction:we,validateInt32:ye,validateInteger:J,validateNumber:Z,validateObject:X,validateOneOf:G,validatePlainFunction:me,validatePort:ie,validateSignalName:R,validateString:j,validateUint32:oe,validateUndefined:M,validateUnion:D,validateAbortSignal:re,validateLinkHeaderValue:ee}}),wi=ve((e,t)=>{ce(),fe(),he();var r=t.exports={},n,o;function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=i}catch{n=i}try{typeof clearTimeout=="function"?o=clearTimeout:o=s}catch{o=s}})();function l(b){if(n===setTimeout)return setTimeout(b,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(b,0);try{return n(b,0)}catch{try{return n.call(null,b,0)}catch{return n.call(this,b,0)}}}function a(b){if(o===clearTimeout)return clearTimeout(b);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(b);try{return o(b)}catch{try{return o.call(null,b)}catch{return o.call(this,b)}}}var u=[],c=!1,f,p=-1;function g(){!c||!f||(c=!1,f.length?u=f.concat(u):p=-1,u.length&&y())}function y(){if(!c){var b=l(g);c=!0;for(var v=u.length;v;){for(f=u,u=[];++p<v;)f&&f[p].run();p=-1,v=u.length}f=null,c=!1,a(b)}}r.nextTick=function(b){var v=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)v[w-1]=arguments[w];u.push(new _(b,v)),u.length===1&&!c&&l(y)};function _(b,v){this.fun=b,this.array=v}_.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function C(){}r.on=C,r.addListener=C,r.once=C,r.off=C,r.removeListener=C,r.removeAllListeners=C,r.emit=C,r.prependListener=C,r.prependOnceListener=C,r.listeners=function(b){return[]},r.binding=function(b){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(b){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),dn=ve((e,t)=>{ce(),fe(),he();var{Symbol:r,SymbolAsyncIterator:n,SymbolIterator:o,SymbolFor:i}=pt(),s=r("kDestroyed"),l=r("kIsErrored"),a=r("kIsReadable"),u=r("kIsDisturbed"),c=i("nodejs.webstream.isClosedPromise"),f=i("nodejs.webstream.controllerErrorFunction");function p(S,X=!1){var ae;return!!(S&&typeof S.pipe=="function"&&typeof S.on=="function"&&(!X||typeof S.pause=="function"&&typeof S.resume=="function")&&(!S._writableState||((ae=S._readableState)===null||ae===void 0?void 0:ae.readable)!==!1)&&(!S._writableState||S._readableState))}function g(S){var X;return!!(S&&typeof S.write=="function"&&typeof S.on=="function"&&(!S._readableState||((X=S._writableState)===null||X===void 0?void 0:X.writable)!==!1))}function y(S){return!!(S&&typeof S.pipe=="function"&&S._readableState&&typeof S.on=="function"&&typeof S.write=="function")}function _(S){return S&&(S._readableState||S._writableState||typeof S.write=="function"&&typeof S.on=="function"||typeof S.pipe=="function"&&typeof S.on=="function")}function C(S){return!!(S&&!_(S)&&typeof S.pipeThrough=="function"&&typeof S.getReader=="function"&&typeof S.cancel=="function")}function b(S){return!!(S&&!_(S)&&typeof S.getWriter=="function"&&typeof S.abort=="function")}function v(S){return!!(S&&!_(S)&&typeof S.readable=="object"&&typeof S.writable=="object")}function w(S){return C(S)||b(S)||v(S)}function A(S,X){return S==null?!1:X===!0?typeof S[n]=="function":X===!1?typeof S[o]=="function":typeof S[n]=="function"||typeof S[o]=="function"}function T(S){if(!_(S))return null;let X=S._writableState,ae=S._readableState,be=X||ae;return!!(S.destroyed||S[s]||be!=null&&be.destroyed)}function k(S){if(!g(S))return null;if(S.writableEnded===!0)return!0;let X=S._writableState;return X!=null&&X.errored?!1:typeof(X==null?void 0:X.ended)!="boolean"?null:X.ended}function E(S,X){if(!g(S))return null;if(S.writableFinished===!0)return!0;let ae=S._writableState;return ae!=null&&ae.errored?!1:typeof(ae==null?void 0:ae.finished)!="boolean"?null:!!(ae.finished||X===!1&&ae.ended===!0&&ae.length===0)}function x(S){if(!p(S))return null;if(S.readableEnded===!0)return!0;let X=S._readableState;return!X||X.errored?!1:typeof(X==null?void 0:X.ended)!="boolean"?null:X.ended}function U(S,X){if(!p(S))return null;let ae=S._readableState;return ae!=null&&ae.errored?!1:typeof(ae==null?void 0:ae.endEmitted)!="boolean"?null:!!(ae.endEmitted||X===!1&&ae.ended===!0&&ae.length===0)}function H(S){return S&&S[a]!=null?S[a]:typeof(S==null?void 0:S.readable)!="boolean"?null:T(S)?!1:p(S)&&S.readable&&!U(S)}function Q(S){return typeof(S==null?void 0:S.writable)!="boolean"?null:T(S)?!1:g(S)&&S.writable&&!k(S)}function P(S,X){return _(S)?T(S)?!0:!((X==null?void 0:X.readable)!==!1&&H(S)||(X==null?void 0:X.writable)!==!1&&Q(S)):null}function V(S){var X,ae;return _(S)?S.writableErrored?S.writableErrored:(X=(ae=S._writableState)===null||ae===void 0?void 0:ae.errored)!==null&&X!==void 0?X:null:null}function te(S){var X,ae;return _(S)?S.readableErrored?S.readableErrored:(X=(ae=S._readableState)===null||ae===void 0?void 0:ae.errored)!==null&&X!==void 0?X:null:null}function J(S){if(!_(S))return null;if(typeof S.closed=="boolean")return S.closed;let X=S._writableState,ae=S._readableState;return typeof(X==null?void 0:X.closed)=="boolean"||typeof(ae==null?void 0:ae.closed)=="boolean"?(X==null?void 0:X.closed)||(ae==null?void 0:ae.closed):typeof S._closed=="boolean"&&ye(S)?S._closed:null}function ye(S){return typeof S._closed=="boolean"&&typeof S._defaultKeepAlive=="boolean"&&typeof S._removedConnection=="boolean"&&typeof S._removedContLen=="boolean"}function oe(S){return typeof S._sent100=="boolean"&&ye(S)}function j(S){var X;return typeof S._consuming=="boolean"&&typeof S._dumped=="boolean"&&((X=S.req)===null||X===void 0?void 0:X.upgradeOrConnect)===void 0}function Z(S){if(!_(S))return null;let X=S._writableState,ae=S._readableState,be=X||ae;return!be&&oe(S)||!!(be&&be.autoDestroy&&be.emitClose&&be.closed===!1)}function G(S){var X;return!!(S&&((X=S[u])!==null&&X!==void 0?X:S.readableDidRead||S.readableAborted))}function pe(S){var X,ae,be,se,B,R,Y,de,ie,re;return!!(S&&((X=(ae=(be=(se=(B=(R=S[l])!==null&&R!==void 0?R:S.readableErrored)!==null&&B!==void 0?B:S.writableErrored)!==null&&se!==void 0?se:(Y=S._readableState)===null||Y===void 0?void 0:Y.errorEmitted)!==null&&be!==void 0?be:(de=S._writableState)===null||de===void 0?void 0:de.errorEmitted)!==null&&ae!==void 0?ae:(ie=S._readableState)===null||ie===void 0?void 0:ie.errored)!==null&&X!==void 0?X:!((re=S._writableState)===null||re===void 0)&&re.errored))}t.exports={kDestroyed:s,isDisturbed:G,kIsDisturbed:u,isErrored:pe,kIsErrored:l,isReadable:H,kIsReadable:a,kIsClosedPromise:c,kControllerErrorFunction:f,isClosed:J,isDestroyed:T,isDuplexNodeStream:y,isFinished:P,isIterable:A,isReadableNodeStream:p,isReadableStream:C,isReadableEnded:x,isReadableFinished:U,isReadableErrored:te,isNodeStream:_,isWebStream:w,isWritable:Q,isWritableNodeStream:g,isWritableStream:b,isWritableEnded:k,isWritableFinished:E,isWritableErrored:V,isServerRequest:j,isServerResponse:oe,willEmitClose:Z,isTransformStream:v}}),Dn=ve((e,t)=>{ce(),fe(),he();var r=wi(),{AbortError:n,codes:o}=Gt(),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_PREMATURE_CLOSE:s}=o,{kEmptyObject:l,once:a}=un(),{validateAbortSignal:u,validateFunction:c,validateObject:f,validateBoolean:p}=Ia(),{Promise:g,PromisePrototypeThen:y}=pt(),{isClosed:_,isReadable:C,isReadableNodeStream:b,isReadableStream:v,isReadableFinished:w,isReadableErrored:A,isWritable:T,isWritableNodeStream:k,isWritableStream:E,isWritableFinished:x,isWritableErrored:U,isNodeStream:H,willEmitClose:Q,kIsClosedPromise:P}=dn();function V(j){return j.setHeader&&typeof j.abort=="function"}var te=()=>{};function J(j,Z,G){var pe,S;if(arguments.length===2?(G=Z,Z=l):Z==null?Z=l:f(Z,"options"),c(G,"callback"),u(Z.signal,"options.signal"),G=a(G),v(j)||E(j))return ye(j,Z,G);if(!H(j))throw new i("stream",["ReadableStream","WritableStream","Stream"],j);let X=(pe=Z.readable)!==null&&pe!==void 0?pe:b(j),ae=(S=Z.writable)!==null&&S!==void 0?S:k(j),be=j._writableState,se=j._readableState,B=()=>{j.writable||de()},R=Q(j)&&b(j)===X&&k(j)===ae,Y=x(j,!1),de=()=>{Y=!0,j.destroyed&&(R=!1),!(R&&(!j.readable||X))&&(!X||ie)&&G.call(j)},ie=w(j,!1),re=()=>{ie=!0,j.destroyed&&(R=!1),!(R&&(!j.writable||ae))&&(!ae||Y)&&G.call(j)},we=ee=>{G.call(j,ee)},me=_(j),M=()=>{me=!0;let ee=U(j)||A(j);if(ee&&typeof ee!="boolean")return G.call(j,ee);if(X&&!ie&&b(j,!0)&&!w(j,!1))return G.call(j,new s);if(ae&&!Y&&!x(j,!1))return G.call(j,new s);G.call(j)},D=()=>{me=!0;let ee=U(j)||A(j);if(ee&&typeof ee!="boolean")return G.call(j,ee);G.call(j)},W=()=>{j.req.on("finish",de)};V(j)?(j.on("complete",de),R||j.on("abort",M),j.req?W():j.on("request",W)):ae&&!be&&(j.on("end",B),j.on("close",B)),!R&&typeof j.aborted=="boolean"&&j.on("aborted",M),j.on("end",re),j.on("finish",de),Z.error!==!1&&j.on("error",we),j.on("close",M),me?r.nextTick(M):be!=null&&be.errorEmitted||se!=null&&se.errorEmitted?R||r.nextTick(D):(!X&&(!R||C(j))&&(Y||T(j)===!1)||!ae&&(!R||T(j))&&(ie||C(j)===!1)||se&&j.req&&j.aborted)&&r.nextTick(D);let le=()=>{G=te,j.removeListener("aborted",M),j.removeListener("complete",de),j.removeListener("abort",M),j.removeListener("request",W),j.req&&j.req.removeListener("finish",de),j.removeListener("end",B),j.removeListener("close",B),j.removeListener("finish",de),j.removeListener("end",re),j.removeListener("error",we),j.removeListener("close",M)};if(Z.signal&&!me){let ee=()=>{let F=G;le(),F.call(j,new n(void 0,{cause:Z.signal.reason}))};if(Z.signal.aborted)r.nextTick(ee);else{let F=G;G=a((...K)=>{Z.signal.removeEventListener("abort",ee),F.apply(j,K)}),Z.signal.addEventListener("abort",ee)}}return le}function ye(j,Z,G){let pe=!1,S=te;if(Z.signal)if(S=()=>{pe=!0,G.call(j,new n(void 0,{cause:Z.signal.reason}))},Z.signal.aborted)r.nextTick(S);else{let ae=G;G=a((...be)=>{Z.signal.removeEventListener("abort",S),ae.apply(j,be)}),Z.signal.addEventListener("abort",S)}let X=(...ae)=>{pe||r.nextTick(()=>G.apply(j,ae))};return y(j[P].promise,X,X),te}function oe(j,Z){var G;let pe=!1;return Z===null&&(Z=l),(G=Z)!==null&&G!==void 0&&G.cleanup&&(p(Z.cleanup,"cleanup"),pe=Z.cleanup),new g((S,X)=>{let ae=J(j,Z,be=>{pe&&ae(),be?X(be):S()})})}t.exports=J,t.exports.finished=oe}),ho=ve((e,t)=>{ce(),fe(),he();var r=wi(),{aggregateTwoErrors:n,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:i}=Gt(),{Symbol:s}=pt(),{kDestroyed:l,isDestroyed:a,isFinished:u,isServerRequest:c}=dn(),f=s("kDestroy"),p=s("kConstruct");function g(P,V,te){P&&(P.stack,V&&!V.errored&&(V.errored=P),te&&!te.errored&&(te.errored=P))}function y(P,V){let te=this._readableState,J=this._writableState,ye=J||te;return J!=null&&J.destroyed||te!=null&&te.destroyed?(typeof V=="function"&&V(),this):(g(P,J,te),J&&(J.destroyed=!0),te&&(te.destroyed=!0),ye.constructed?_(this,P,V):this.once(f,function(oe){_(this,n(oe,P),V)}),this)}function _(P,V,te){let J=!1;function ye(oe){if(J)return;J=!0;let j=P._readableState,Z=P._writableState;g(oe,Z,j),Z&&(Z.closed=!0),j&&(j.closed=!0),typeof te=="function"&&te(oe),oe?r.nextTick(C,P,oe):r.nextTick(b,P)}try{P._destroy(V||null,ye)}catch(oe){ye(oe)}}function C(P,V){v(P,V),b(P)}function b(P){let V=P._readableState,te=P._writableState;te&&(te.closeEmitted=!0),V&&(V.closeEmitted=!0),(te!=null&&te.emitClose||V!=null&&V.emitClose)&&P.emit("close")}function v(P,V){let te=P._readableState,J=P._writableState;J!=null&&J.errorEmitted||te!=null&&te.errorEmitted||(J&&(J.errorEmitted=!0),te&&(te.errorEmitted=!0),P.emit("error",V))}function w(){let P=this._readableState,V=this._writableState;P&&(P.constructed=!0,P.closed=!1,P.closeEmitted=!1,P.destroyed=!1,P.errored=null,P.errorEmitted=!1,P.reading=!1,P.ended=P.readable===!1,P.endEmitted=P.readable===!1),V&&(V.constructed=!0,V.destroyed=!1,V.closed=!1,V.closeEmitted=!1,V.errored=null,V.errorEmitted=!1,V.finalCalled=!1,V.prefinished=!1,V.ended=V.writable===!1,V.ending=V.writable===!1,V.finished=V.writable===!1)}function A(P,V,te){let J=P._readableState,ye=P._writableState;if(ye!=null&&ye.destroyed||J!=null&&J.destroyed)return this;J!=null&&J.autoDestroy||ye!=null&&ye.autoDestroy?P.destroy(V):V&&(V.stack,ye&&!ye.errored&&(ye.errored=V),J&&!J.errored&&(J.errored=V),te?r.nextTick(v,P,V):v(P,V))}function T(P,V){if(typeof P._construct!="function")return;let te=P._readableState,J=P._writableState;te&&(te.constructed=!1),J&&(J.constructed=!1),P.once(p,V),!(P.listenerCount(p)>1)&&r.nextTick(k,P)}function k(P){let V=!1;function te(J){if(V){A(P,J??new o);return}V=!0;let ye=P._readableState,oe=P._writableState,j=oe||ye;ye&&(ye.constructed=!0),oe&&(oe.constructed=!0),j.destroyed?P.emit(f,J):J?A(P,J,!0):r.nextTick(E,P)}try{P._construct(J=>{r.nextTick(te,J)})}catch(J){r.nextTick(te,J)}}function E(P){P.emit(p)}function x(P){return(P==null?void 0:P.setHeader)&&typeof P.abort=="function"}function U(P){P.emit("close")}function H(P,V){P.emit("error",V),r.nextTick(U,P)}function Q(P,V){!P||a(P)||(!V&&!u(P)&&(V=new i),c(P)?(P.socket=null,P.destroy(V)):x(P)?P.abort():x(P.req)?P.req.abort():typeof P.destroy=="function"?P.destroy(V):typeof P.close=="function"?P.close():V?r.nextTick(H,P,V):r.nextTick(U,P),P.destroyed||(P[l]=!0))}t.exports={construct:T,destroyer:Q,destroy:y,undestroy:w,errorOrDestroy:A}});function ze(){ze.init.call(this)}function _l(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function x0(e){return e._maxListeners===void 0?ze.defaultMaxListeners:e._maxListeners}function Jp(e,t,r,n){var o,i,s,l;if(_l(r),(i=e._events)===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),s=i[t]),s===void 0)s=i[t]=r,++e._eventsCount;else if(typeof s=="function"?s=i[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=x0(e))>0&&s.length>o&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,l=a,console&&console.warn&&console.warn(l)}return e}function Qb(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Xp(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=Qb.bind(n);return o.listener=r,n.wrapFn=o,o}function Zp(e,t,r){var n=e._events;if(n===void 0)return[];var o=n[t];return o===void 0?[]:typeof o=="function"?r?[o.listener||o]:[o]:r?function(i){for(var s=new Array(i.length),l=0;l<s.length;++l)s[l]=i[l].listener||i[l];return s}(o):P0(o,o.length)}function em(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function P0(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}var tm,rm,Wn,hu,fu,du,er,nm=It(()=>{ce(),fe(),he(),Wn=typeof Reflect=="object"?Reflect:null,hu=Wn&&typeof Wn.apply=="function"?Wn.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},rm=Wn&&typeof Wn.ownKeys=="function"?Wn.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},fu=Number.isNaN||function(e){return e!=e},tm=ze,ze.EventEmitter=ze,ze.prototype._events=void 0,ze.prototype._eventsCount=0,ze.prototype._maxListeners=void 0,du=10,Object.defineProperty(ze,"defaultMaxListeners",{enumerable:!0,get:function(){return du},set:function(e){if(typeof e!="number"||e<0||fu(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");du=e}}),ze.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ze.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||fu(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},ze.prototype.getMaxListeners=function(){return x0(this)},ze.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",o=this._events;if(o!==void 0)n=n&&o.error===void 0;else if(!n)return!1;if(n){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var l=o[e];if(l===void 0)return!1;if(typeof l=="function")hu(l,this,t);else{var a=l.length,u=P0(l,a);for(r=0;r<a;++r)hu(u[r],this,t)}return!0},ze.prototype.addListener=function(e,t){return Jp(this,e,t,!1)},ze.prototype.on=ze.prototype.addListener,ze.prototype.prependListener=function(e,t){return Jp(this,e,t,!0)},ze.prototype.once=function(e,t){return _l(t),this.on(e,Xp(this,e,t)),this},ze.prototype.prependOnceListener=function(e,t){return _l(t),this.prependListener(e,Xp(this,e,t)),this},ze.prototype.removeListener=function(e,t){var r,n,o,i,s;if(_l(t),(n=this._events)===void 0)return this;if((r=n[e])===void 0)return this;if(r===t||r.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){s=r[i].listener,o=i;break}if(o<0)return this;o===0?r.shift():function(l,a){for(;a+1<l.length;a++)l[a]=l[a+1];l.pop()}(r,o),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,s||t)}return this},ze.prototype.off=ze.prototype.removeListener,ze.prototype.removeAllListeners=function(e){var t,r,n;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o,i=Object.keys(r);for(n=0;n<i.length;++n)(o=i[n])!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(t=r[e])=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},ze.prototype.listeners=function(e){return Zp(this,e,!0)},ze.prototype.rawListeners=function(e){return Zp(this,e,!1)},ze.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):em.call(e,t)},ze.prototype.listenerCount=em,ze.prototype.eventNames=function(){return this._eventsCount>0?rm(this._events):[]},er=tm,er.EventEmitter,er.defaultMaxListeners,er.init,er.listenerCount,er.EventEmitter,er.defaultMaxListeners,er.init,er.listenerCount}),_i={};vi(_i,{EventEmitter:()=>T0,default:()=>er,defaultMaxListeners:()=>R0,init:()=>O0,listenerCount:()=>N0,on:()=>M0,once:()=>B0});var T0,R0,O0,N0,M0,B0,fo=It(()=>{ce(),fe(),he(),nm(),nm(),er.once=function(e,t){return new Promise((r,n)=>{function o(...s){i!==void 0&&e.removeListener("error",i),r(s)}let i;t!=="error"&&(i=s=>{e.removeListener(name,o),n(s)},e.once("error",i)),e.once(t,o)})},er.on=function(e,t){let r=[],n=[],o=null,i=!1,s={async next(){let u=r.shift();if(u)return createIterResult(u,!1);if(o){let c=Promise.reject(o);return o=null,c}return i?createIterResult(void 0,!0):new Promise((c,f)=>n.push({resolve:c,reject:f}))},async return(){e.removeListener(t,l),e.removeListener("error",a),i=!0;for(let u of n)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){o=u,e.removeListener(t,l),e.removeListener("error",a)},[Symbol.asyncIterator](){return this}};return e.on(t,l),e.on("error",a),s;function l(...u){let c=n.shift();c?c.resolve(createIterResult(u,!1)):r.push(u)}function a(u){i=!0;let c=n.shift();c?c.reject(u):o=u,s.return()}},{EventEmitter:T0,defaultMaxListeners:R0,init:O0,listenerCount:N0,on:M0,once:B0}=er}),ad=ve((e,t)=>{ce(),fe(),he();var{ArrayIsArray:r,ObjectSetPrototypeOf:n}=pt(),{EventEmitter:o}=(fo(),He(_i));function i(l){o.call(this,l)}n(i.prototype,o.prototype),n(i,o),i.prototype.pipe=function(l,a){let u=this;function c(b){l.writable&&l.write(b)===!1&&u.pause&&u.pause()}u.on("data",c);function f(){u.readable&&u.resume&&u.resume()}l.on("drain",f),!l._isStdio&&(!a||a.end!==!1)&&(u.on("end",g),u.on("close",y));let p=!1;function g(){p||(p=!0,l.end())}function y(){p||(p=!0,typeof l.destroy=="function"&&l.destroy())}function _(b){C(),o.listenerCount(this,"error")===0&&this.emit("error",b)}s(u,"error",_),s(l,"error",_);function C(){u.removeListener("data",c),l.removeListener("drain",f),u.removeListener("end",g),u.removeListener("close",y),u.removeListener("error",_),l.removeListener("error",_),u.removeListener("end",C),u.removeListener("close",C),l.removeListener("close",C)}return u.on("end",C),u.on("close",C),l.on("close",C),l.emit("pipe",u),l};function s(l,a,u){if(typeof l.prependListener=="function")return l.prependListener(a,u);!l._events||!l._events[a]?l.on(a,u):r(l._events[a])?l._events[a].unshift(u):l._events[a]=[u,l._events[a]]}t.exports={Stream:i,prependListener:s}}),xa=ve((e,t)=>{ce(),fe(),he();var{AbortError:r,codes:n}=Gt(),{isNodeStream:o,isWebStream:i,kControllerErrorFunction:s}=dn(),l=Dn(),{ERR_INVALID_ARG_TYPE:a}=n,u=(c,f)=>{if(typeof c!="object"||!("aborted"in c))throw new a(f,"AbortSignal",c)};t.exports.addAbortSignal=function(c,f){if(u(c,"signal"),!o(f)&&!i(f))throw new a("stream",["ReadableStream","WritableStream","Stream"],f);return t.exports.addAbortSignalNoValidate(c,f)},t.exports.addAbortSignalNoValidate=function(c,f){if(typeof c!="object"||!("aborted"in c))return f;let p=o(f)?()=>{f.destroy(new r(void 0,{cause:c.reason}))}:()=>{f[s](new r(void 0,{cause:c.reason}))};return c.aborted?p():(c.addEventListener("abort",p),l(f,()=>c.removeEventListener("abort",p))),f}}),Yb=ve((e,t)=>{ce(),fe(),he();var{StringPrototypeSlice:r,SymbolIterator:n,TypedArrayPrototypeSet:o,Uint8Array:i}=pt(),{Buffer:s}=(Pt(),He(xt)),{inspect:l}=un();t.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(a){let u={data:a,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}unshift(a){let u={data:a,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}shift(){if(this.length===0)return;let a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}clear(){this.head=this.tail=null,this.length=0}join(a){if(this.length===0)return"";let u=this.head,c=""+u.data;for(;(u=u.next)!==null;)c+=a+u.data;return c}concat(a){if(this.length===0)return s.alloc(0);let u=s.allocUnsafe(a>>>0),c=this.head,f=0;for(;c;)o(u,c.data,f),f+=c.data.length,c=c.next;return u}consume(a,u){let c=this.head.data;if(a<c.length){let f=c.slice(0,a);return this.head.data=c.slice(a),f}return a===c.length?this.shift():u?this._getString(a):this._getBuffer(a)}first(){return this.head.data}*[n](){for(let a=this.head;a;a=a.next)yield a.data}_getString(a){let u="",c=this.head,f=0;do{let p=c.data;if(a>p.length)u+=p,a-=p.length;else{a===p.length?(u+=p,++f,c.next?this.head=c.next:this.head=this.tail=null):(u+=r(p,0,a),this.head=c,c.data=r(p,a));break}++f}while((c=c.next)!==null);return this.length-=f,u}_getBuffer(a){let u=s.allocUnsafe(a),c=a,f=this.head,p=0;do{let g=f.data;if(a>g.length)o(u,g,c-a),a-=g.length;else{a===g.length?(o(u,g,c-a),++p,f.next?this.head=f.next:this.head=this.tail=null):(o(u,new i(g.buffer,g.byteOffset,a),c-a),this.head=f,f.data=g.slice(a));break}++p}while((f=f.next)!==null);return this.length-=p,u}[Symbol.for("nodejs.util.inspect.custom")](a,u){return l(this,{...u,depth:0,customInspect:!1})}}}),ud=ve((e,t)=>{ce(),fe(),he();var{MathFloor:r,NumberIsInteger:n}=pt(),{ERR_INVALID_ARG_VALUE:o}=Gt().codes;function i(a,u,c){return a.highWaterMark!=null?a.highWaterMark:u?a[c]:null}function s(a){return a?16:16*1024}function l(a,u,c,f){let p=i(u,f,c);if(p!=null){if(!n(p)||p<0){let g=f?`options.${c}`:"options.highWaterMark";throw new o(g,p)}return r(p)}return s(a.objectMode)}t.exports={getHighWaterMark:l,getDefaultHighWaterMark:s}});function im(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return r===-1&&(r=t),[r,r===t?0:4-r%4]}function Gb(e,t,r){for(var n,o,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(Sr[(o=n)>>18&63]+Sr[o>>12&63]+Sr[o>>6&63]+Sr[63&o]);return i.join("")}function tn(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,ge.prototype),t}function ge(e,t,r){if(typeof e=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Mh(e)}return L0(e,t,r)}function L0(e,t,r){if(typeof e=="string")return function(i,s){if(typeof s=="string"&&s!==""||(s="utf8"),!ge.isEncoding(s))throw new TypeError("Unknown encoding: "+s);var l=0|U0(i,s),a=tn(l),u=a.write(i,s);return u!==l&&(a=a.slice(0,u)),a}(e,t);if(ArrayBuffer.isView(e))return pu(e);if(e==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(rn(e,ArrayBuffer)||e&&rn(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(rn(e,SharedArrayBuffer)||e&&rn(e.buffer,SharedArrayBuffer)))return Jb(e,t,r);if(typeof e=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(n!=null&&n!==e)return ge.from(n,t,r);var o=function(i){if(ge.isBuffer(i)){var s=0|cd(i.length),l=tn(s);return l.length===0||i.copy(l,0,0,s),l}if(i.length!==void 0)return typeof i.length!="number"||hd(i.length)?tn(0):pu(i);if(i.type==="Buffer"&&Array.isArray(i.data))return pu(i.data)}(e);if(o)return o;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]=="function")return ge.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function j0(e){if(typeof e!="number")throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function Mh(e){return j0(e),tn(e<0?0:0|cd(e))}function pu(e){for(var t=e.length<0?0:0|cd(e.length),r=tn(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function Jb(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=t===void 0&&r===void 0?new Uint8Array(e):r===void 0?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,ge.prototype),n}function cd(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function U0(e,t){if(ge.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||rn(e,ArrayBuffer))return e.byteLength;if(typeof e!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Bh(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W0(e).length;default:if(o)return n?-1:Bh(e).length;t=(""+t).toLowerCase(),o=!0}}function Xb(e,t,r){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return lS(this,t,r);case"utf8":case"utf-8":return $0(this,t,r);case"ascii":return oS(this,t,r);case"latin1":case"binary":return sS(this,t,r);case"base64":return iS(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return aS(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function zn(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function om(e,t,r,n,o){if(e.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),hd(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if(typeof t=="string"&&(t=ge.from(t,n)),ge.isBuffer(t))return t.length===0?-1:sm(e,t,r,n,o);if(typeof t=="number")return t&=255,typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):sm(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function sm(e,t,r,n,o){var i,s=1,l=e.length,a=t.length;if(n!==void 0&&((n=String(n).toLowerCase())==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(e.length<2||t.length<2)return-1;s=2,l/=2,a/=2,r/=2}function u(g,y){return s===1?g[y]:g.readUInt16BE(y*s)}if(o){var c=-1;for(i=r;i<l;i++)if(u(e,i)===u(t,c===-1?0:i-c)){if(c===-1&&(c=i),i-c+1===a)return c*s}else c!==-1&&(i-=i-c),c=-1}else for(r+a>l&&(r=l-a),i=r;i>=0;i--){for(var f=!0,p=0;p<a;p++)if(u(e,i+p)!==u(t,p)){f=!1;break}if(f)return i}return-1}function Zb(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;n>i/2&&(n=i/2);for(var s=0;s<n;++s){var l=parseInt(t.substr(2*s,2),16);if(hd(l))return s;e[r+s]=l}return s}function eS(e,t,r,n){return Pa(Bh(t,e.length-r),e,r,n)}function F0(e,t,r,n){return Pa(function(o){for(var i=[],s=0;s<o.length;++s)i.push(255&o.charCodeAt(s));return i}(t),e,r,n)}function tS(e,t,r,n){return F0(e,t,r,n)}function rS(e,t,r,n){return Pa(W0(t),e,r,n)}function nS(e,t,r,n){return Pa(function(o,i){for(var s,l,a,u=[],c=0;c<o.length&&!((i-=2)<0);++c)s=o.charCodeAt(c),l=s>>8,a=s%256,u.push(a),u.push(l);return u}(t,e.length-r),e,r,n)}function iS(e,t,r){return t===0&&r===e.length?na.fromByteArray(e):na.fromByteArray(e.slice(t,r))}function $0(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,s,l,a,u=e[o],c=null,f=u>239?4:u>223?3:u>191?2:1;if(o+f<=r)switch(f){case 1:u<128&&(c=u);break;case 2:(192&(i=e[o+1]))==128&&(a=(31&u)<<6|63&i)>127&&(c=a);break;case 3:i=e[o+1],s=e[o+2],(192&i)==128&&(192&s)==128&&(a=(15&u)<<12|(63&i)<<6|63&s)>2047&&(a<55296||a>57343)&&(c=a);break;case 4:i=e[o+1],s=e[o+2],l=e[o+3],(192&i)==128&&(192&s)==128&&(192&l)==128&&(a=(15&u)<<18|(63&i)<<12|(63&s)<<6|63&l)>65535&&a<1114112&&(c=a)}c===null?(c=65533,f=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),o+=f}return function(p){var g=p.length;if(g<=4096)return String.fromCharCode.apply(String,p);for(var y="",_=0;_<g;)y+=String.fromCharCode.apply(String,p.slice(_,_+=4096));return y}(n)}function oS(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function sS(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function lS(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=H0[e[i]];return o}function aS(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function yt(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function Wt(e,t,r,n,o,i){if(!ge.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function D0(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function lm(e,t,r,n,o){return t=+t,r>>>=0,o||D0(e,0,r,4),Jn.write(e,t,r,n,23,4),r+4}function am(e,t,r,n,o){return t=+t,r>>>=0,o||D0(e,0,r,8),Jn.write(e,t,r,n,52,8),r+8}function Bh(e,t){var r;t=t||1/0;for(var n=e.length,o=null,i=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function W0(e){return na.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(z0,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(e))}function Pa(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function rn(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function hd(e){return e!=e}function um(e,t){for(var r in e)t[r]=e[r]}function Hn(e,t,r){return gr(e,t,r)}function Co(e){var t;switch(this.encoding=function(r){var n=function(o){if(!o)return"utf8";for(var i;;)switch(o){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return o;default:if(i)return;o=(""+o).toLowerCase(),i=!0}}(r);if(typeof n!="string"&&(ia.isEncoding===Lh||!Lh(r)))throw new Error("Unknown encoding: "+r);return n||r}(e),this.encoding){case"utf16le":this.text=cS,this.end=hS,t=4;break;case"utf8":this.fillLast=uS,t=4;break;case"base64":this.text=fS,this.end=dS,t=3;break;default:return this.write=pS,this.end=mS,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=ia.allocUnsafe(t)}function mu(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function uS(e){var t=this.lastTotal-this.lastNeed,r=function(n,o,i){if((192&o[0])!=128)return n.lastNeed=0,"�";if(n.lastNeed>1&&o.length>1){if((192&o[1])!=128)return n.lastNeed=1,"�";if(n.lastNeed>2&&o.length>2&&(192&o[2])!=128)return n.lastNeed=2,"�"}}(this,e);return r!==void 0?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length,void 0)}function cS(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function hS(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function fS(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function dS(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function pS(e){return e.toString(this.encoding)}function mS(e){return e&&e.length?this.write(e):""}var cm,Sr,Jt,hm,Ys,Vn,fm,dm,Rr,na,Jn,gu,z0,H0,Io,xo,gr,pm,Wi,ia,Lh,mm=It(()=>{for(ce(),fe(),he(),cm={byteLength:function(e){var t=im(e),r=t[0],n=t[1];return 3*(r+n)/4-n},toByteArray:function(e){var t,r,n=im(e),o=n[0],i=n[1],s=new hm(function(u,c,f){return 3*(c+f)/4-f}(0,o,i)),l=0,a=i>0?o-4:o;for(r=0;r<a;r+=4)t=Jt[e.charCodeAt(r)]<<18|Jt[e.charCodeAt(r+1)]<<12|Jt[e.charCodeAt(r+2)]<<6|Jt[e.charCodeAt(r+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;return i===2&&(t=Jt[e.charCodeAt(r)]<<2|Jt[e.charCodeAt(r+1)]>>4,s[l++]=255&t),i===1&&(t=Jt[e.charCodeAt(r)]<<10|Jt[e.charCodeAt(r+1)]<<4|Jt[e.charCodeAt(r+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t),s},fromByteArray:function(e){for(var t,r=e.length,n=r%3,o=[],i=0,s=r-n;i<s;i+=16383)o.push(Gb(e,i,i+16383>s?s:i+16383));return n===1?(t=e[r-1],o.push(Sr[t>>2]+Sr[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],o.push(Sr[t>>10]+Sr[t>>4&63]+Sr[t<<2&63]+"=")),o.join("")}},Sr=[],Jt=[],hm=typeof Uint8Array<"u"?Uint8Array:Array,Ys="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vn=0,fm=Ys.length;Vn<fm;++Vn)Sr[Vn]=Ys[Vn],Jt[Ys.charCodeAt(Vn)]=Vn;Jt[45]=62,Jt[95]=63,dm={read:function(e,t,r,n,o){var i,s,l=8*o-n-1,a=(1<<l)-1,u=a>>1,c=-7,f=r?o-1:0,p=r?-1:1,g=e[t+f];for(f+=p,i=g&(1<<-c)-1,g>>=-c,c+=l;c>0;i=256*i+e[t+f],f+=p,c-=8);for(s=i&(1<<-c)-1,i>>=-c,c+=n;c>0;s=256*s+e[t+f],f+=p,c-=8);if(i===0)i=1-u;else{if(i===a)return s?NaN:1/0*(g?-1:1);s+=Math.pow(2,n),i-=u}return(g?-1:1)*s*Math.pow(2,i-n)},write:function(e,t,r,n,o,i){var s,l,a,u=8*i-o-1,c=(1<<u)-1,f=c>>1,p=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:i-1,y=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-s))<1&&(s--,a*=2),(t+=s+f>=1?p/a:p*Math.pow(2,1-f))*a>=2&&(s++,a/=2),s+f>=c?(l=0,s=c):s+f>=1?(l=(t*a-1)*Math.pow(2,o),s+=f):(l=t*Math.pow(2,f-1)*Math.pow(2,o),s=0));o>=8;e[r+g]=255&l,g+=y,l/=256,o-=8);for(s=s<<o|l,u+=o;u>0;e[r+g]=255&s,g+=y,s/=256,u-=8);e[r+g-y]|=128*_}},Rr={},na=cm,Jn=dm,gu=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,Rr.Buffer=ge,Rr.SlowBuffer=function(e){return+e!=e&&(e=0),ge.alloc(+e)},Rr.INSPECT_MAX_BYTES=50,Rr.kMaxLength=2147483647,ge.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),e.foo()===42}catch{return!1}}(),ge.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(ge.prototype,"parent",{enumerable:!0,get:function(){if(ge.isBuffer(this))return this.buffer}}),Object.defineProperty(ge.prototype,"offset",{enumerable:!0,get:function(){if(ge.isBuffer(this))return this.byteOffset}}),ge.poolSize=8192,ge.from=function(e,t,r){return L0(e,t,r)},Object.setPrototypeOf(ge.prototype,Uint8Array.prototype),Object.setPrototypeOf(ge,Uint8Array),ge.alloc=function(e,t,r){return function(n,o,i){return j0(n),n<=0?tn(n):o!==void 0?typeof i=="string"?tn(n).fill(o,i):tn(n).fill(o):tn(n)}(e,t,r)},ge.allocUnsafe=function(e){return Mh(e)},ge.allocUnsafeSlow=function(e){return Mh(e)},ge.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ge.prototype},ge.compare=function(e,t){if(rn(e,Uint8Array)&&(e=ge.from(e,e.offset,e.byteLength)),rn(t,Uint8Array)&&(t=ge.from(t,t.offset,t.byteLength)),!ge.isBuffer(e)||!ge.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},ge.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ge.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ge.alloc(0);var r;if(t===void 0)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=ge.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var i=e[r];if(rn(i,Uint8Array)&&(i=ge.from(i)),!ge.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},ge.byteLength=U0,ge.prototype._isBuffer=!0,ge.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)zn(this,t,t+1);return this},ge.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)zn(this,t,t+3),zn(this,t+1,t+2);return this},ge.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)zn(this,t,t+7),zn(this,t+1,t+6),zn(this,t+2,t+5),zn(this,t+3,t+4);return this},ge.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?$0(this,0,e):Xb.apply(this,arguments)},ge.prototype.toLocaleString=ge.prototype.toString,ge.prototype.equals=function(e){if(!ge.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||ge.compare(this,e)===0},ge.prototype.inspect=function(){var e="",t=Rr.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},gu&&(ge.prototype[gu]=ge.prototype.inspect),ge.prototype.compare=function(e,t,r,n,o){if(rn(e,Uint8Array)&&(e=ge.from(e,e.offset,e.byteLength)),!ge.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),r===void 0&&(r=e?e.length:0),n===void 0&&(n=0),o===void 0&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),l=Math.min(i,s),a=this.slice(n,o),u=e.slice(t,r),c=0;c<l;++c)if(a[c]!==u[c]){i=a[c],s=u[c];break}return i<s?-1:s<i?1:0},ge.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},ge.prototype.indexOf=function(e,t,r){return om(this,e,t,r,!0)},ge.prototype.lastIndexOf=function(e,t,r){return om(this,e,t,r,!1)},ge.prototype.write=function(e,t,r,n){if(t===void 0)n="utf8",r=this.length,t=0;else if(r===void 0&&typeof t=="string")n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,n===void 0&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((r===void 0||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return Zb(this,e,t,r);case"utf8":case"utf-8":return eS(this,e,t,r);case"ascii":return F0(this,e,t,r);case"latin1":case"binary":return tS(this,e,t,r);case"base64":return rS(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nS(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},ge.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},ge.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=t===void 0?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,ge.prototype),n},ge.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||yt(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},ge.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||yt(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},ge.prototype.readUInt8=function(e,t){return e>>>=0,t||yt(e,1,this.length),this[e]},ge.prototype.readUInt16LE=function(e,t){return e>>>=0,t||yt(e,2,this.length),this[e]|this[e+1]<<8},ge.prototype.readUInt16BE=function(e,t){return e>>>=0,t||yt(e,2,this.length),this[e]<<8|this[e+1]},ge.prototype.readUInt32LE=function(e,t){return e>>>=0,t||yt(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},ge.prototype.readUInt32BE=function(e,t){return e>>>=0,t||yt(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},ge.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||yt(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},ge.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||yt(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},ge.prototype.readInt8=function(e,t){return e>>>=0,t||yt(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},ge.prototype.readInt16LE=function(e,t){e>>>=0,t||yt(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},ge.prototype.readInt16BE=function(e,t){e>>>=0,t||yt(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},ge.prototype.readInt32LE=function(e,t){return e>>>=0,t||yt(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},ge.prototype.readInt32BE=function(e,t){return e>>>=0,t||yt(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},ge.prototype.readFloatLE=function(e,t){return e>>>=0,t||yt(e,4,this.length),Jn.read(this,e,!0,23,4)},ge.prototype.readFloatBE=function(e,t){return e>>>=0,t||yt(e,4,this.length),Jn.read(this,e,!1,23,4)},ge.prototype.readDoubleLE=function(e,t){return e>>>=0,t||yt(e,8,this.length),Jn.read(this,e,!0,52,8)},ge.prototype.readDoubleBE=function(e,t){return e>>>=0,t||yt(e,8,this.length),Jn.read(this,e,!1,52,8)},ge.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||Wt(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},ge.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||Wt(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},ge.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||Wt(this,e,t,1,255,0),this[t]=255&e,t+1},ge.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||Wt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},ge.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||Wt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},ge.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||Wt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},ge.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||Wt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},ge.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*r-1);Wt(this,e,t,r,o-1,-o)}var i=0,s=1,l=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&l===0&&this[t+i-1]!==0&&(l=1),this[t+i]=(e/s>>0)-l&255;return t+r},ge.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*r-1);Wt(this,e,t,r,o-1,-o)}var i=r-1,s=1,l=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&l===0&&this[t+i+1]!==0&&(l=1),this[t+i]=(e/s>>0)-l&255;return t+r},ge.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||Wt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},ge.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||Wt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},ge.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||Wt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},ge.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||Wt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},ge.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||Wt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},ge.prototype.writeFloatLE=function(e,t,r){return lm(this,e,t,!0,r)},ge.prototype.writeFloatBE=function(e,t,r){return lm(this,e,t,!1,r)},ge.prototype.writeDoubleLE=function(e,t,r){return am(this,e,t,!0,r)},ge.prototype.writeDoubleBE=function(e,t,r){return am(this,e,t,!1,r)},ge.prototype.copy=function(e,t,r,n){if(!ge.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||n===0||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o=n-r;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var i=o-1;i>=0;--i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return o},ge.prototype.fill=function(e,t,r,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!ge.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var o=e.charCodeAt(0);(n==="utf8"&&o<128||n==="latin1")&&(e=o)}}else typeof e=="number"?e&=255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var i;if(t>>>=0,r=r===void 0?this.length:r>>>0,e||(e=0),typeof e=="number")for(i=t;i<r;++i)this[i]=e;else{var s=ge.isBuffer(e)?e:ge.from(e,n),l=s.length;if(l===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%l]}return this},z0=/[^+/0-9A-Za-z-_]/g,H0=function(){for(var e=new Array(256),t=0;t<16;++t)for(var r=16*t,n=0;n<16;++n)e[r+n]="0123456789abcdef"[t]+"0123456789abcdef"[n];return e}(),Rr.Buffer,Rr.INSPECT_MAX_BYTES,Rr.kMaxLength,Io={},xo=Rr,gr=xo.Buffer,gr.from&&gr.alloc&&gr.allocUnsafe&&gr.allocUnsafeSlow?Io=xo:(um(xo,Io),Io.Buffer=Hn),Hn.prototype=Object.create(gr.prototype),um(gr,Hn),Hn.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return gr(e,t,r)},Hn.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=gr(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n},Hn.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return gr(e)},Hn.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return xo.SlowBuffer(e)},pm=Io,Wi={},ia=pm.Buffer,Lh=ia.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},Wi.StringDecoder=Co,Co.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if((t=this.fillLast(e))===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},Co.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},Co.prototype.text=function(e,t){var r=function(o,i,s){var l=i.length-1;if(l<s)return 0;var a=mu(i[l]);return a>=0?(a>0&&(o.lastNeed=a-1),a):--l<s||a===-2?0:(a=mu(i[l]))>=0?(a>0&&(o.lastNeed=a-2),a):--l<s||a===-2?0:(a=mu(i[l]))>=0?(a>0&&(a===2?a=0:o.lastNeed=a-3),a):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},Co.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length},Wi.StringDecoder,Wi.StringDecoder}),V0={};vi(V0,{StringDecoder:()=>q0,default:()=>Wi});var q0,gS=It(()=>{ce(),fe(),he(),mm(),mm(),q0=Wi.StringDecoder}),K0=ve((e,t)=>{ce(),fe(),he();var r=wi(),{PromisePrototypeThen:n,SymbolAsyncIterator:o,SymbolIterator:i}=pt(),{Buffer:s}=(Pt(),He(xt)),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:a}=Gt().codes;function u(c,f,p){let g;if(typeof f=="string"||f instanceof s)return new c({objectMode:!0,...p,read(){this.push(f),this.push(null)}});let y;if(f&&f[o])y=!0,g=f[o]();else if(f&&f[i])y=!1,g=f[i]();else throw new l("iterable",["Iterable"],f);let _=new c({objectMode:!0,highWaterMark:1,...p}),C=!1;_._read=function(){C||(C=!0,v())},_._destroy=function(w,A){n(b(w),()=>r.nextTick(A,w),T=>r.nextTick(A,T||w))};async function b(w){let A=w!=null,T=typeof g.throw=="function";if(A&&T){let{value:k,done:E}=await g.throw(w);if(await k,E)return}if(typeof g.return=="function"){let{value:k}=await g.return();await k}}async function v(){for(;;){try{let{value:w,done:A}=y?await g.next():g.next();if(A)_.push(null);else{let T=w&&typeof w.then=="function"?await w:w;if(T===null)throw C=!1,new a;if(_.push(T))continue;C=!1}}catch(w){_.destroy(w)}break}}return _}t.exports=u}),Ta=ve((e,t)=>{ce(),fe(),he();var r=wi(),{ArrayPrototypeIndexOf:n,NumberIsInteger:o,NumberIsNaN:i,NumberParseInt:s,ObjectDefineProperties:l,ObjectKeys:a,ObjectSetPrototypeOf:u,Promise:c,SafeSet:f,SymbolAsyncIterator:p,Symbol:g}=pt();t.exports=S,S.ReadableState=pe;var{EventEmitter:y}=(fo(),He(_i)),{Stream:_,prependListener:C}=ad(),{Buffer:b}=(Pt(),He(xt)),{addAbortSignal:v}=xa(),w=Dn(),A=un().debuglog("stream",h=>{A=h}),T=Yb(),k=ho(),{getHighWaterMark:E,getDefaultHighWaterMark:x}=ud(),{aggregateTwoErrors:U,codes:{ERR_INVALID_ARG_TYPE:H,ERR_METHOD_NOT_IMPLEMENTED:Q,ERR_OUT_OF_RANGE:P,ERR_STREAM_PUSH_AFTER_EOF:V,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:te}}=Gt(),{validateObject:J}=Ia(),ye=g("kPaused"),{StringDecoder:oe}=(gS(),He(V0)),j=K0();u(S.prototype,_.prototype),u(S,_);var Z=()=>{},{errorOrDestroy:G}=k;function pe(h,m,I){typeof I!="boolean"&&(I=m instanceof cn()),this.objectMode=!!(h&&h.objectMode),I&&(this.objectMode=this.objectMode||!!(h&&h.readableObjectMode)),this.highWaterMark=h?E(this,h,"readableHighWaterMark",I):x(!1),this.buffer=new T,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[ye]=null,this.errorEmitted=!1,this.emitClose=!h||h.emitClose!==!1,this.autoDestroy=!h||h.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=h&&h.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,h&&h.encoding&&(this.decoder=new oe(h.encoding),this.encoding=h.encoding)}function S(h){if(!(this instanceof S))return new S(h);let m=this instanceof cn();this._readableState=new pe(h,this,m),h&&(typeof h.read=="function"&&(this._read=h.read),typeof h.destroy=="function"&&(this._destroy=h.destroy),typeof h.construct=="function"&&(this._construct=h.construct),h.signal&&!m&&v(h.signal,this)),_.call(this,h),k.construct(this,()=>{this._readableState.needReadable&&ie(this,this._readableState)})}S.prototype.destroy=k.destroy,S.prototype._undestroy=k.undestroy,S.prototype._destroy=function(h,m){m(h)},S.prototype[y.captureRejectionSymbol]=function(h){this.destroy(h)},S.prototype.push=function(h,m){return X(this,h,m,!1)},S.prototype.unshift=function(h,m){return X(this,h,m,!0)};function X(h,m,I,O){A("readableAddChunk",m);let z=h._readableState,ne;if(z.objectMode||(typeof m=="string"?(I=I||z.defaultEncoding,z.encoding!==I&&(O&&z.encoding?m=b.from(m,I).toString(z.encoding):(m=b.from(m,I),I=""))):m instanceof b?I="":_._isUint8Array(m)?(m=_._uint8ArrayToBuffer(m),I=""):m!=null&&(ne=new H("chunk",["string","Buffer","Uint8Array"],m))),ne)G(h,ne);else if(m===null)z.reading=!1,R(h,z);else if(z.objectMode||m&&m.length>0)if(O)if(z.endEmitted)G(h,new te);else{if(z.destroyed||z.errored)return!1;ae(h,z,m,!0)}else if(z.ended)G(h,new V);else{if(z.destroyed||z.errored)return!1;z.reading=!1,z.decoder&&!I?(m=z.decoder.write(m),z.objectMode||m.length!==0?ae(h,z,m,!1):ie(h,z)):ae(h,z,m,!1)}else O||(z.reading=!1,ie(h,z));return!z.ended&&(z.length<z.highWaterMark||z.length===0)}function ae(h,m,I,O){m.flowing&&m.length===0&&!m.sync&&h.listenerCount("data")>0?(m.multiAwaitDrain?m.awaitDrainWriters.clear():m.awaitDrainWriters=null,m.dataEmitted=!0,h.emit("data",I)):(m.length+=m.objectMode?1:I.length,O?m.buffer.unshift(I):m.buffer.push(I),m.needReadable&&Y(h)),ie(h,m)}S.prototype.isPaused=function(){let h=this._readableState;return h[ye]===!0||h.flowing===!1},S.prototype.setEncoding=function(h){let m=new oe(h);this._readableState.decoder=m,this._readableState.encoding=this._readableState.decoder.encoding;let I=this._readableState.buffer,O="";for(let z of I)O+=m.write(z);return I.clear(),O!==""&&I.push(O),this._readableState.length=O.length,this};var be=1073741824;function se(h){if(h>be)throw new P("size","<= 1GiB",h);return h--,h|=h>>>1,h|=h>>>2,h|=h>>>4,h|=h>>>8,h|=h>>>16,h++,h}function B(h,m){return h<=0||m.length===0&&m.ended?0:m.objectMode?1:i(h)?m.flowing&&m.length?m.buffer.first().length:m.length:h<=m.length?h:m.ended?m.length:0}S.prototype.read=function(h){A("read",h),h===void 0?h=NaN:o(h)||(h=s(h,10));let m=this._readableState,I=h;if(h>m.highWaterMark&&(m.highWaterMark=se(h)),h!==0&&(m.emittedReadable=!1),h===0&&m.needReadable&&((m.highWaterMark!==0?m.length>=m.highWaterMark:m.length>0)||m.ended))return A("read: emitReadable",m.length,m.ended),m.length===0&&m.ended?N(this):Y(this),null;if(h=B(h,m),h===0&&m.ended)return m.length===0&&N(this),null;let O=m.needReadable;if(A("need readable",O),(m.length===0||m.length-h<m.highWaterMark)&&(O=!0,A("length less than watermark",O)),m.ended||m.reading||m.destroyed||m.errored||!m.constructed)O=!1,A("reading, ended or constructing",O);else if(O){A("do read"),m.reading=!0,m.sync=!0,m.length===0&&(m.needReadable=!0);try{this._read(m.highWaterMark)}catch(ne){G(this,ne)}m.sync=!1,m.reading||(h=B(I,m))}let z;return h>0?z=K(h,m):z=null,z===null?(m.needReadable=m.length<=m.highWaterMark,h=0):(m.length-=h,m.multiAwaitDrain?m.awaitDrainWriters.clear():m.awaitDrainWriters=null),m.length===0&&(m.ended||(m.needReadable=!0),I!==h&&m.ended&&N(this)),z!==null&&!m.errorEmitted&&!m.closeEmitted&&(m.dataEmitted=!0,this.emit("data",z)),z};function R(h,m){if(A("onEofChunk"),!m.ended){if(m.decoder){let I=m.decoder.end();I&&I.length&&(m.buffer.push(I),m.length+=m.objectMode?1:I.length)}m.ended=!0,m.sync?Y(h):(m.needReadable=!1,m.emittedReadable=!0,de(h))}}function Y(h){let m=h._readableState;A("emitReadable",m.needReadable,m.emittedReadable),m.needReadable=!1,m.emittedReadable||(A("emitReadable",m.flowing),m.emittedReadable=!0,r.nextTick(de,h))}function de(h){let m=h._readableState;A("emitReadable_",m.destroyed,m.length,m.ended),!m.destroyed&&!m.errored&&(m.length||m.ended)&&(h.emit("readable"),m.emittedReadable=!1),m.needReadable=!m.flowing&&!m.ended&&m.length<=m.highWaterMark,le(h)}function ie(h,m){!m.readingMore&&m.constructed&&(m.readingMore=!0,r.nextTick(re,h,m))}function re(h,m){for(;!m.reading&&!m.ended&&(m.length<m.highWaterMark||m.flowing&&m.length===0);){let I=m.length;if(A("maybeReadMore read 0"),h.read(0),I===m.length)break}m.readingMore=!1}S.prototype._read=function(h){throw new Q("_read()")},S.prototype.pipe=function(h,m){let I=this,O=this._readableState;O.pipes.length===1&&(O.multiAwaitDrain||(O.multiAwaitDrain=!0,O.awaitDrainWriters=new f(O.awaitDrainWriters?[O.awaitDrainWriters]:[]))),O.pipes.push(h),A("pipe count=%d opts=%j",O.pipes.length,m);let z=(!m||m.end!==!1)&&h!==r.stdout&&h!==r.stderr?xe:bt;O.endEmitted?r.nextTick(z):I.once("end",z),h.on("unpipe",ne);function ne(Lt,gt){A("onunpipe"),Lt===I&&gt&&gt.hasUnpiped===!1&&(gt.hasUnpiped=!0,Ce())}function xe(){A("onend"),h.end()}let Re,Oe=!1;function Ce(){A("cleanup"),h.removeListener("close",mt),h.removeListener("finish",lt),Re&&h.removeListener("drain",Re),h.removeListener("error",Ve),h.removeListener("unpipe",ne),I.removeListener("end",xe),I.removeListener("end",bt),I.removeListener("data",Pe),Oe=!0,Re&&O.awaitDrainWriters&&(!h._writableState||h._writableState.needDrain)&&Re()}function Te(){Oe||(O.pipes.length===1&&O.pipes[0]===h?(A("false write response, pause",0),O.awaitDrainWriters=h,O.multiAwaitDrain=!1):O.pipes.length>1&&O.pipes.includes(h)&&(A("false write response, pause",O.awaitDrainWriters.size),O.awaitDrainWriters.add(h)),I.pause()),Re||(Re=we(I,h),h.on("drain",Re))}I.on("data",Pe);function Pe(Lt){A("ondata");let gt=h.write(Lt);A("dest.write",gt),gt===!1&&Te()}function Ve(Lt){if(A("onerror",Lt),bt(),h.removeListener("error",Ve),h.listenerCount("error")===0){let gt=h._writableState||h._readableState;gt&&!gt.errorEmitted?G(h,Lt):h.emit("error",Lt)}}C(h,"error",Ve);function mt(){h.removeListener("finish",lt),bt()}h.once("close",mt);function lt(){A("onfinish"),h.removeListener("close",mt),bt()}h.once("finish",lt);function bt(){A("unpipe"),I.unpipe(h)}return h.emit("pipe",I),h.writableNeedDrain===!0?O.flowing&&Te():O.flowing||(A("pipe resume"),I.resume()),h};function we(h,m){return function(){let I=h._readableState;I.awaitDrainWriters===m?(A("pipeOnDrain",1),I.awaitDrainWriters=null):I.multiAwaitDrain&&(A("pipeOnDrain",I.awaitDrainWriters.size),I.awaitDrainWriters.delete(m)),(!I.awaitDrainWriters||I.awaitDrainWriters.size===0)&&h.listenerCount("data")&&h.resume()}}S.prototype.unpipe=function(h){let m=this._readableState,I={hasUnpiped:!1};if(m.pipes.length===0)return this;if(!h){let z=m.pipes;m.pipes=[],this.pause();for(let ne=0;ne<z.length;ne++)z[ne].emit("unpipe",this,{hasUnpiped:!1});return this}let O=n(m.pipes,h);return O===-1?this:(m.pipes.splice(O,1),m.pipes.length===0&&this.pause(),h.emit("unpipe",this,I),this)},S.prototype.on=function(h,m){let I=_.prototype.on.call(this,h,m),O=this._readableState;return h==="data"?(O.readableListening=this.listenerCount("readable")>0,O.flowing!==!1&&this.resume()):h==="readable"&&!O.endEmitted&&!O.readableListening&&(O.readableListening=O.needReadable=!0,O.flowing=!1,O.emittedReadable=!1,A("on readable",O.length,O.reading),O.length?Y(this):O.reading||r.nextTick(M,this)),I},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(h,m){let I=_.prototype.removeListener.call(this,h,m);return h==="readable"&&r.nextTick(me,this),I},S.prototype.off=S.prototype.removeListener,S.prototype.removeAllListeners=function(h){let m=_.prototype.removeAllListeners.apply(this,arguments);return(h==="readable"||h===void 0)&&r.nextTick(me,this),m};function me(h){let m=h._readableState;m.readableListening=h.listenerCount("readable")>0,m.resumeScheduled&&m[ye]===!1?m.flowing=!0:h.listenerCount("data")>0?h.resume():m.readableListening||(m.flowing=null)}function M(h){A("readable nexttick read 0"),h.read(0)}S.prototype.resume=function(){let h=this._readableState;return h.flowing||(A("resume"),h.flowing=!h.readableListening,D(this,h)),h[ye]=!1,this};function D(h,m){m.resumeScheduled||(m.resumeScheduled=!0,r.nextTick(W,h,m))}function W(h,m){A("resume",m.reading),m.reading||h.read(0),m.resumeScheduled=!1,h.emit("resume"),le(h),m.flowing&&!m.reading&&h.read(0)}S.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ye]=!0,this};function le(h){let m=h._readableState;for(A("flow",m.flowing);m.flowing&&h.read()!==null;);}S.prototype.wrap=function(h){let m=!1;h.on("data",O=>{!this.push(O)&&h.pause&&(m=!0,h.pause())}),h.on("end",()=>{this.push(null)}),h.on("error",O=>{G(this,O)}),h.on("close",()=>{this.destroy()}),h.on("destroy",()=>{this.destroy()}),this._read=()=>{m&&h.resume&&(m=!1,h.resume())};let I=a(h);for(let O=1;O<I.length;O++){let z=I[O];this[z]===void 0&&typeof h[z]=="function"&&(this[z]=h[z].bind(h))}return this},S.prototype[p]=function(){return ee(this)},S.prototype.iterator=function(h){return h!==void 0&&J(h,"options"),ee(this,h)};function ee(h,m){typeof h.read!="function"&&(h=S.wrap(h,{objectMode:!0}));let I=F(h,m);return I.stream=h,I}async function*F(h,m){let I=Z;function O(xe){this===h?(I(),I=Z):I=xe}h.on("readable",O);let z,ne=w(h,{writable:!1},xe=>{z=xe?U(z,xe):null,I(),I=Z});try{for(;;){let xe=h.destroyed?null:h.read();if(xe!==null)yield xe;else{if(z)throw z;if(z===null)return;await new c(O)}}}catch(xe){throw z=U(z,xe),z}finally{(z||(m==null?void 0:m.destroyOnReturn)!==!1)&&(z===void 0||h._readableState.autoDestroy)?k.destroyer(h,null):(h.off("readable",O),ne())}}l(S.prototype,{readable:{__proto__:null,get(){let h=this._readableState;return!!h&&h.readable!==!1&&!h.destroyed&&!h.errorEmitted&&!h.endEmitted},set(h){this._readableState&&(this._readableState.readable=!!h)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(h){this._readableState&&(this._readableState.flowing=h)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(h){this._readableState&&(this._readableState.destroyed=h)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),l(pe.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ye]!==!1},set(h){this[ye]=!!h}}}),S._fromList=K;function K(h,m){if(m.length===0)return null;let I;return m.objectMode?I=m.buffer.shift():!h||h>=m.length?(m.decoder?I=m.buffer.join(""):m.buffer.length===1?I=m.buffer.first():I=m.buffer.concat(m.length),m.buffer.clear()):I=m.buffer.consume(h,m.decoder),I}function N(h){let m=h._readableState;A("endReadable",m.endEmitted),m.endEmitted||(m.ended=!0,r.nextTick($,m,h))}function $(h,m){if(A("endReadableNT",h.endEmitted,h.length),!h.errored&&!h.closeEmitted&&!h.endEmitted&&h.length===0){if(h.endEmitted=!0,m.emit("end"),m.writable&&m.allowHalfOpen===!1)r.nextTick(q,m);else if(h.autoDestroy){let I=m._writableState;(!I||I.autoDestroy&&(I.finished||I.writable===!1))&&m.destroy()}}}function q(h){h.writable&&!h.writableEnded&&!h.destroyed&&h.end()}S.from=function(h,m){return j(S,h,m)};var ue;function d(){return ue===void 0&&(ue={}),ue}S.fromWeb=function(h,m){return d().newStreamReadableFromReadableStream(h,m)},S.toWeb=function(h,m){return d().newReadableStreamFromStreamReadable(h,m)},S.wrap=function(h,m){var I,O;return new S({objectMode:(I=(O=h.readableObjectMode)!==null&&O!==void 0?O:h.objectMode)!==null&&I!==void 0?I:!0,...m,destroy(z,ne){k.destroyer(h,z),ne(z)}}).wrap(h)}}),Q0=ve((e,t)=>{ce(),fe(),he();var r=wi(),{ArrayPrototypeSlice:n,Error:o,FunctionPrototypeSymbolHasInstance:i,ObjectDefineProperty:s,ObjectDefineProperties:l,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:u,Symbol:c,SymbolHasInstance:f}=pt();t.exports=oe,oe.WritableState=J;var{EventEmitter:p}=(fo(),He(_i)),g=ad().Stream,{Buffer:y}=(Pt(),He(xt)),_=ho(),{addAbortSignal:C}=xa(),{getHighWaterMark:b,getDefaultHighWaterMark:v}=ud(),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:A,ERR_MULTIPLE_CALLBACK:T,ERR_STREAM_CANNOT_PIPE:k,ERR_STREAM_DESTROYED:E,ERR_STREAM_ALREADY_FINISHED:x,ERR_STREAM_NULL_VALUES:U,ERR_STREAM_WRITE_AFTER_END:H,ERR_UNKNOWN_ENCODING:Q}=Gt().codes,{errorOrDestroy:P}=_;a(oe.prototype,g.prototype),a(oe,g);function V(){}var te=c("kOnFinished");function J(M,D,W){typeof W!="boolean"&&(W=D instanceof cn()),this.objectMode=!!(M&&M.objectMode),W&&(this.objectMode=this.objectMode||!!(M&&M.writableObjectMode)),this.highWaterMark=M?b(this,M,"writableHighWaterMark",W):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let le=!!(M&&M.decodeStrings===!1);this.decodeStrings=!le,this.defaultEncoding=M&&M.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=S.bind(void 0,D),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ye(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!M||M.emitClose!==!1,this.autoDestroy=!M||M.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[te]=[]}function ye(M){M.buffered=[],M.bufferedIndex=0,M.allBuffers=!0,M.allNoop=!0}J.prototype.getBuffer=function(){return n(this.buffered,this.bufferedIndex)},s(J.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function oe(M){let D=this instanceof cn();if(!D&&!i(oe,this))return new oe(M);this._writableState=new J(M,this,D),M&&(typeof M.write=="function"&&(this._write=M.write),typeof M.writev=="function"&&(this._writev=M.writev),typeof M.destroy=="function"&&(this._destroy=M.destroy),typeof M.final=="function"&&(this._final=M.final),typeof M.construct=="function"&&(this._construct=M.construct),M.signal&&C(M.signal,this)),g.call(this,M),_.construct(this,()=>{let W=this._writableState;W.writing||se(this,W),de(this,W)})}s(oe,f,{__proto__:null,value:function(M){return i(this,M)?!0:this!==oe?!1:M&&M._writableState instanceof J}}),oe.prototype.pipe=function(){P(this,new k)};function j(M,D,W,le){let ee=M._writableState;if(typeof W=="function")le=W,W=ee.defaultEncoding;else{if(!W)W=ee.defaultEncoding;else if(W!=="buffer"&&!y.isEncoding(W))throw new Q(W);typeof le!="function"&&(le=V)}if(D===null)throw new U;if(!ee.objectMode)if(typeof D=="string")ee.decodeStrings!==!1&&(D=y.from(D,W),W="buffer");else if(D instanceof y)W="buffer";else if(g._isUint8Array(D))D=g._uint8ArrayToBuffer(D),W="buffer";else throw new w("chunk",["string","Buffer","Uint8Array"],D);let F;return ee.ending?F=new H:ee.destroyed&&(F=new E("write")),F?(r.nextTick(le,F),P(M,F,!0),F):(ee.pendingcb++,Z(M,ee,D,W,le))}oe.prototype.write=function(M,D,W){return j(this,M,D,W)===!0},oe.prototype.cork=function(){this._writableState.corked++},oe.prototype.uncork=function(){let M=this._writableState;M.corked&&(M.corked--,M.writing||se(this,M))},oe.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=u(M)),!y.isEncoding(M))throw new Q(M);return this._writableState.defaultEncoding=M,this};function Z(M,D,W,le,ee){let F=D.objectMode?1:W.length;D.length+=F;let K=D.length<D.highWaterMark;return K||(D.needDrain=!0),D.writing||D.corked||D.errored||!D.constructed?(D.buffered.push({chunk:W,encoding:le,callback:ee}),D.allBuffers&&le!=="buffer"&&(D.allBuffers=!1),D.allNoop&&ee!==V&&(D.allNoop=!1)):(D.writelen=F,D.writecb=ee,D.writing=!0,D.sync=!0,M._write(W,le,D.onwrite),D.sync=!1),K&&!D.errored&&!D.destroyed}function G(M,D,W,le,ee,F,K){D.writelen=le,D.writecb=K,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new E("write")):W?M._writev(ee,D.onwrite):M._write(ee,F,D.onwrite),D.sync=!1}function pe(M,D,W,le){--D.pendingcb,le(W),be(D),P(M,W)}function S(M,D){let W=M._writableState,le=W.sync,ee=W.writecb;if(typeof ee!="function"){P(M,new T);return}W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0,D?(D.stack,W.errored||(W.errored=D),M._readableState&&!M._readableState.errored&&(M._readableState.errored=D),le?r.nextTick(pe,M,W,D,ee):pe(M,W,D,ee)):(W.buffered.length>W.bufferedIndex&&se(M,W),le?W.afterWriteTickInfo!==null&&W.afterWriteTickInfo.cb===ee?W.afterWriteTickInfo.count++:(W.afterWriteTickInfo={count:1,cb:ee,stream:M,state:W},r.nextTick(X,W.afterWriteTickInfo)):ae(M,W,1,ee))}function X({stream:M,state:D,count:W,cb:le}){return D.afterWriteTickInfo=null,ae(M,D,W,le)}function ae(M,D,W,le){for(!D.ending&&!M.destroyed&&D.length===0&&D.needDrain&&(D.needDrain=!1,M.emit("drain"));W-- >0;)D.pendingcb--,le();D.destroyed&&be(D),de(M,D)}function be(M){if(M.writing)return;for(let ee=M.bufferedIndex;ee<M.buffered.length;++ee){var D;let{chunk:F,callback:K}=M.buffered[ee],N=M.objectMode?1:F.length;M.length-=N,K((D=M.errored)!==null&&D!==void 0?D:new E("write"))}let W=M[te].splice(0);for(let ee=0;ee<W.length;ee++){var le;W[ee]((le=M.errored)!==null&&le!==void 0?le:new E("end"))}ye(M)}function se(M,D){if(D.corked||D.bufferProcessing||D.destroyed||!D.constructed)return;let{buffered:W,bufferedIndex:le,objectMode:ee}=D,F=W.length-le;if(!F)return;let K=le;if(D.bufferProcessing=!0,F>1&&M._writev){D.pendingcb-=F-1;let N=D.allNoop?V:q=>{for(let ue=K;ue<W.length;++ue)W[ue].callback(q)},$=D.allNoop&&K===0?W:n(W,K);$.allBuffers=D.allBuffers,G(M,D,!0,D.length,$,"",N),ye(D)}else{do{let{chunk:N,encoding:$,callback:q}=W[K];W[K++]=null;let ue=ee?1:N.length;G(M,D,!1,ue,N,$,q)}while(K<W.length&&!D.writing);K===W.length?ye(D):K>256?(W.splice(0,K),D.bufferedIndex=0):D.bufferedIndex=K}D.bufferProcessing=!1}oe.prototype._write=function(M,D,W){if(this._writev)this._writev([{chunk:M,encoding:D}],W);else throw new A("_write()")},oe.prototype._writev=null,oe.prototype.end=function(M,D,W){let le=this._writableState;typeof M=="function"?(W=M,M=null,D=null):typeof D=="function"&&(W=D,D=null);let ee;if(M!=null){let F=j(this,M,D);F instanceof o&&(ee=F)}return le.corked&&(le.corked=1,this.uncork()),ee||(!le.errored&&!le.ending?(le.ending=!0,de(this,le,!0),le.ended=!0):le.finished?ee=new x("end"):le.destroyed&&(ee=new E("end"))),typeof W=="function"&&(ee||le.finished?r.nextTick(W,ee):le[te].push(W)),this};function B(M){return M.ending&&!M.destroyed&&M.constructed&&M.length===0&&!M.errored&&M.buffered.length===0&&!M.finished&&!M.writing&&!M.errorEmitted&&!M.closeEmitted}function R(M,D){let W=!1;function le(ee){if(W){P(M,ee??T());return}if(W=!0,D.pendingcb--,ee){let F=D[te].splice(0);for(let K=0;K<F.length;K++)F[K](ee);P(M,ee,D.sync)}else B(D)&&(D.prefinished=!0,M.emit("prefinish"),D.pendingcb++,r.nextTick(ie,M,D))}D.sync=!0,D.pendingcb++;try{M._final(le)}catch(ee){le(ee)}D.sync=!1}function Y(M,D){!D.prefinished&&!D.finalCalled&&(typeof M._final=="function"&&!D.destroyed?(D.finalCalled=!0,R(M,D)):(D.prefinished=!0,M.emit("prefinish")))}function de(M,D,W){B(D)&&(Y(M,D),D.pendingcb===0&&(W?(D.pendingcb++,r.nextTick((le,ee)=>{B(ee)?ie(le,ee):ee.pendingcb--},M,D)):B(D)&&(D.pendingcb++,ie(M,D))))}function ie(M,D){D.pendingcb--,D.finished=!0;let W=D[te].splice(0);for(let le=0;le<W.length;le++)W[le]();if(M.emit("finish"),D.autoDestroy){let le=M._readableState;(!le||le.autoDestroy&&(le.endEmitted||le.readable===!1))&&M.destroy()}}l(oe.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(M){this._writableState&&(this._writableState.destroyed=M)}},writable:{__proto__:null,get(){let M=this._writableState;return!!M&&M.writable!==!1&&!M.destroyed&&!M.errored&&!M.ending&&!M.ended},set(M){this._writableState&&(this._writableState.writable=!!M)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let M=this._writableState;return M?!M.destroyed&&!M.ending&&M.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var re=_.destroy;oe.prototype.destroy=function(M,D){let W=this._writableState;return!W.destroyed&&(W.bufferedIndex<W.buffered.length||W[te].length)&&r.nextTick(be,W),re.call(this,M,D),this},oe.prototype._undestroy=_.undestroy,oe.prototype._destroy=function(M,D){D(M)},oe.prototype[p.captureRejectionSymbol]=function(M){this.destroy(M)};var we;function me(){return we===void 0&&(we={}),we}oe.fromWeb=function(M,D){return me().newStreamWritableFromWritableStream(M,D)},oe.toWeb=function(M){return me().newWritableStreamFromStreamWritable(M)}}),yS=ve((e,t)=>{ce(),fe(),he();var r=wi(),n=(Pt(),He(xt)),{isReadable:o,isWritable:i,isIterable:s,isNodeStream:l,isReadableNodeStream:a,isWritableNodeStream:u,isDuplexNodeStream:c}=dn(),f=Dn(),{AbortError:p,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:y}}=Gt(),{destroyer:_}=ho(),C=cn(),b=Ta(),{createDeferredPromise:v}=un(),w=K0(),A=globalThis.Blob||n.Blob,T=typeof A<"u"?function(Q){return Q instanceof A}:function(Q){return!1},k=globalThis.AbortController||ld().AbortController,{FunctionPrototypeCall:E}=pt(),x=class extends C{constructor(Q){super(Q),(Q==null?void 0:Q.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(Q==null?void 0:Q.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};t.exports=function Q(P,V){if(c(P))return P;if(a(P))return H({readable:P});if(u(P))return H({writable:P});if(l(P))return H({writable:!1,readable:!1});if(typeof P=="function"){let{value:J,write:ye,final:oe,destroy:j}=U(P);if(s(J))return w(x,J,{objectMode:!0,write:ye,final:oe,destroy:j});let Z=J==null?void 0:J.then;if(typeof Z=="function"){let G,pe=E(Z,J,S=>{if(S!=null)throw new y("nully","body",S)},S=>{_(G,S)});return G=new x({objectMode:!0,readable:!1,write:ye,final(S){oe(async()=>{try{await pe,r.nextTick(S,null)}catch(X){r.nextTick(S,X)}})},destroy:j})}throw new y("Iterable, AsyncIterable or AsyncFunction",V,J)}if(T(P))return Q(P.arrayBuffer());if(s(P))return w(x,P,{objectMode:!0,writable:!1});if(typeof(P==null?void 0:P.writable)=="object"||typeof(P==null?void 0:P.readable)=="object"){let J=P!=null&&P.readable?a(P==null?void 0:P.readable)?P==null?void 0:P.readable:Q(P.readable):void 0,ye=P!=null&&P.writable?u(P==null?void 0:P.writable)?P==null?void 0:P.writable:Q(P.writable):void 0;return H({readable:J,writable:ye})}let te=P==null?void 0:P.then;if(typeof te=="function"){let J;return E(te,P,ye=>{ye!=null&&J.push(ye),J.push(null)},ye=>{_(J,ye)}),J=new x({objectMode:!0,writable:!1,read(){}})}throw new g(V,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],P)};function U(Q){let{promise:P,resolve:V}=v(),te=new k,J=te.signal;return{value:Q(async function*(){for(;;){let ye=P;P=null;let{chunk:oe,done:j,cb:Z}=await ye;if(r.nextTick(Z),j)return;if(J.aborted)throw new p(void 0,{cause:J.reason});({promise:P,resolve:V}=v()),yield oe}}(),{signal:J}),write(ye,oe,j){let Z=V;V=null,Z({chunk:ye,done:!1,cb:j})},final(ye){let oe=V;V=null,oe({done:!0,cb:ye})},destroy(ye,oe){te.abort(),oe(ye)}}}function H(Q){let P=Q.readable&&typeof Q.readable.read!="function"?b.wrap(Q.readable):Q.readable,V=Q.writable,te=!!o(P),J=!!i(V),ye,oe,j,Z,G;function pe(S){let X=Z;Z=null,X?X(S):S&&G.destroy(S)}return G=new x({readableObjectMode:!!(P!=null&&P.readableObjectMode),writableObjectMode:!!(V!=null&&V.writableObjectMode),readable:te,writable:J}),J&&(f(V,S=>{J=!1,S&&_(P,S),pe(S)}),G._write=function(S,X,ae){V.write(S,X)?ae():ye=ae},G._final=function(S){V.end(),oe=S},V.on("drain",function(){if(ye){let S=ye;ye=null,S()}}),V.on("finish",function(){if(oe){let S=oe;oe=null,S()}})),te&&(f(P,S=>{te=!1,S&&_(P,S),pe(S)}),P.on("readable",function(){if(j){let S=j;j=null,S()}}),P.on("end",function(){G.push(null)}),G._read=function(){for(;;){let S=P.read();if(S===null){j=G._read;return}if(!G.push(S))return}}),G._destroy=function(S,X){!S&&Z!==null&&(S=new p),j=null,ye=null,oe=null,Z===null?X(S):(Z=X,_(V,S),_(P,S))},G}}),cn=ve((e,t)=>{ce(),fe(),he();var{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:n,ObjectKeys:o,ObjectSetPrototypeOf:i}=pt();t.exports=a;var s=Ta(),l=Q0();i(a.prototype,s.prototype),i(a,s);{let p=o(l.prototype);for(let g=0;g<p.length;g++){let y=p[g];a.prototype[y]||(a.prototype[y]=l.prototype[y])}}function a(p){if(!(this instanceof a))return new a(p);s.call(this,p),l.call(this,p),p?(this.allowHalfOpen=p.allowHalfOpen!==!1,p.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),p.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}r(a.prototype,{writable:{__proto__:null,...n(l.prototype,"writable")},writableHighWaterMark:{__proto__:null,...n(l.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...n(l.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...n(l.prototype,"writableBuffer")},writableLength:{__proto__:null,...n(l.prototype,"writableLength")},writableFinished:{__proto__:null,...n(l.prototype,"writableFinished")},writableCorked:{__proto__:null,...n(l.prototype,"writableCorked")},writableEnded:{__proto__:null,...n(l.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...n(l.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(p){this._readableState&&this._writableState&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}});var u;function c(){return u===void 0&&(u={}),u}a.fromWeb=function(p,g){return c().newStreamDuplexFromReadableWritablePair(p,g)},a.toWeb=function(p){return c().newReadableWritablePairFromDuplex(p)};var f;a.from=function(p){return f||(f=yS()),f(p,"body")}}),Y0=ve((e,t)=>{ce(),fe(),he();var{ObjectSetPrototypeOf:r,Symbol:n}=pt();t.exports=a;var{ERR_METHOD_NOT_IMPLEMENTED:o}=Gt().codes,i=cn(),{getHighWaterMark:s}=ud();r(a.prototype,i.prototype),r(a,i);var l=n("kCallback");function a(f){if(!(this instanceof a))return new a(f);let p=f?s(this,f,"readableHighWaterMark",!0):null;p===0&&(f={...f,highWaterMark:null,readableHighWaterMark:p,writableHighWaterMark:f.writableHighWaterMark||0}),i.call(this,f),this._readableState.sync=!1,this[l]=null,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",c)}function u(f){typeof this._flush=="function"&&!this.destroyed?this._flush((p,g)=>{if(p){f?f(p):this.destroy(p);return}g!=null&&this.push(g),this.push(null),f&&f()}):(this.push(null),f&&f())}function c(){this._final!==u&&u.call(this)}a.prototype._final=u,a.prototype._transform=function(f,p,g){throw new o("_transform()")},a.prototype._write=function(f,p,g){let y=this._readableState,_=this._writableState,C=y.length;this._transform(f,p,(b,v)=>{if(b){g(b);return}v!=null&&this.push(v),_.ended||C===y.length||y.length<y.highWaterMark?g():this[l]=g})},a.prototype._read=function(){if(this[l]){let f=this[l];this[l]=null,f()}}}),G0=ve((e,t)=>{ce(),fe(),he();var{ObjectSetPrototypeOf:r}=pt();t.exports=o;var n=Y0();r(o.prototype,n.prototype),r(o,n);function o(i){if(!(this instanceof o))return new o(i);n.call(this,i)}o.prototype._transform=function(i,s,l){l(null,i)}}),fd=ve((e,t)=>{ce(),fe(),he();var r=wi(),{ArrayIsArray:n,Promise:o,SymbolAsyncIterator:i}=pt(),s=Dn(),{once:l}=un(),a=ho(),u=cn(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:g,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:_},AbortError:C}=Gt(),{validateFunction:b,validateAbortSignal:v}=Ia(),{isIterable:w,isReadable:A,isReadableNodeStream:T,isNodeStream:k,isTransformStream:E,isWebStream:x,isReadableStream:U,isReadableEnded:H}=dn(),Q=globalThis.AbortController||ld().AbortController,P,V;function te(X,ae,be){let se=!1;X.on("close",()=>{se=!0});let B=s(X,{readable:ae,writable:be},R=>{se=!R});return{destroy:R=>{se||(se=!0,a.destroyer(X,R||new y("pipe")))},cleanup:B}}function J(X){return b(X[X.length-1],"streams[stream.length - 1]"),X.pop()}function ye(X){if(w(X))return X;if(T(X))return oe(X);throw new f("val",["Readable","Iterable","AsyncIterable"],X)}async function*oe(X){V||(V=Ta()),yield*V.prototype[i].call(X)}async function j(X,ae,be,{end:se}){let B,R=null,Y=re=>{if(re&&(B=re),R){let we=R;R=null,we()}},de=()=>new o((re,we)=>{B?we(B):R=()=>{B?we(B):re()}});ae.on("drain",Y);let ie=s(ae,{readable:!1},Y);try{ae.writableNeedDrain&&await de();for await(let re of X)ae.write(re)||await de();se&&ae.end(),await de(),be()}catch(re){be(B!==re?c(B,re):re)}finally{ie(),ae.off("drain",Y)}}async function Z(X,ae,be,{end:se}){E(ae)&&(ae=ae.writable);let B=ae.getWriter();try{for await(let R of X)await B.ready,B.write(R).catch(()=>{});await B.ready,se&&await B.close(),be()}catch(R){try{await B.abort(R),be(R)}catch(Y){be(Y)}}}function G(...X){return pe(X,l(J(X)))}function pe(X,ae,be){if(X.length===1&&n(X[0])&&(X=X[0]),X.length<2)throw new g("streams");let se=new Q,B=se.signal,R=be==null?void 0:be.signal,Y=[];v(R,"options.signal");function de(){D(new C)}R==null||R.addEventListener("abort",de);let ie,re,we=[],me=0;function M(F){D(F,--me===0)}function D(F,K){if(F&&(!ie||ie.code==="ERR_STREAM_PREMATURE_CLOSE")&&(ie=F),!(!ie&&!K)){for(;we.length;)we.shift()(ie);R==null||R.removeEventListener("abort",de),se.abort(),K&&(ie||Y.forEach(N=>N()),r.nextTick(ae,ie,re))}}let W;for(let F=0;F<X.length;F++){let K=X[F],N=F<X.length-1,$=F>0,q=N||(be==null?void 0:be.end)!==!1,ue=F===X.length-1;if(k(K)){let d=function(h){h&&h.name!=="AbortError"&&h.code!=="ERR_STREAM_PREMATURE_CLOSE"&&M(h)};if(q){let{destroy:h,cleanup:m}=te(K,N,$);we.push(h),A(K)&&ue&&Y.push(m)}K.on("error",d),A(K)&&ue&&Y.push(()=>{K.removeListener("error",d)})}if(F===0)if(typeof K=="function"){if(W=K({signal:B}),!w(W))throw new p("Iterable, AsyncIterable or Stream","source",W)}else w(K)||T(K)||E(K)?W=K:W=u.from(K);else if(typeof K=="function"){if(E(W)){var le;W=ye((le=W)===null||le===void 0?void 0:le.readable)}else W=ye(W);if(W=K(W,{signal:B}),N){if(!w(W,!0))throw new p("AsyncIterable",`transform[${F-1}]`,W)}else{var ee;P||(P=G0());let d=new P({objectMode:!0}),h=(ee=W)===null||ee===void 0?void 0:ee.then;if(typeof h=="function")me++,h.call(W,O=>{re=O,O!=null&&d.write(O),q&&d.end(),r.nextTick(M)},O=>{d.destroy(O),r.nextTick(M,O)});else if(w(W,!0))me++,j(W,d,M,{end:q});else if(U(W)||E(W)){let O=W.readable||W;me++,j(O,d,M,{end:q})}else throw new p("AsyncIterable or Promise","destination",W);W=d;let{destroy:m,cleanup:I}=te(W,!1,!0);we.push(m),ue&&Y.push(I)}}else if(k(K)){if(T(W)){me+=2;let d=S(W,K,M,{end:q});A(K)&&ue&&Y.push(d)}else if(E(W)||U(W)){let d=W.readable||W;me++,j(d,K,M,{end:q})}else if(w(W))me++,j(W,K,M,{end:q});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],W);W=K}else if(x(K)){if(T(W))me++,Z(ye(W),K,M,{end:q});else if(U(W)||w(W))me++,Z(W,K,M,{end:q});else if(E(W))me++,Z(W.readable,K,M,{end:q});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],W);W=K}else W=u.from(K)}return(B!=null&&B.aborted||R!=null&&R.aborted)&&r.nextTick(de),W}function S(X,ae,be,{end:se}){let B=!1;if(ae.on("close",()=>{B||be(new _)}),X.pipe(ae,{end:!1}),se){let R=function(){B=!0,ae.end()};H(X)?r.nextTick(R):X.once("end",R)}else be();return s(X,{readable:!0,writable:!1},R=>{let Y=X._readableState;R&&R.code==="ERR_STREAM_PREMATURE_CLOSE"&&Y&&Y.ended&&!Y.errored&&!Y.errorEmitted?X.once("end",be).once("error",be):be(R)}),s(ae,{readable:!1,writable:!0},be)}t.exports={pipelineImpl:pe,pipeline:G}}),J0=ve((e,t)=>{ce(),fe(),he();var{pipeline:r}=fd(),n=cn(),{destroyer:o}=ho(),{isNodeStream:i,isReadable:s,isWritable:l,isWebStream:a,isTransformStream:u,isWritableStream:c,isReadableStream:f}=dn(),{AbortError:p,codes:{ERR_INVALID_ARG_VALUE:g,ERR_MISSING_ARGS:y}}=Gt(),_=Dn();t.exports=function(...C){if(C.length===0)throw new y("streams");if(C.length===1)return n.from(C[0]);let b=[...C];if(typeof C[0]=="function"&&(C[0]=n.from(C[0])),typeof C[C.length-1]=="function"){let P=C.length-1;C[P]=n.from(C[P])}for(let P=0;P<C.length;++P)if(!(!i(C[P])&&!a(C[P]))){if(P<C.length-1&&!(s(C[P])||f(C[P])||u(C[P])))throw new g(`streams[${P}]`,b[P],"must be readable");if(P>0&&!(l(C[P])||c(C[P])||u(C[P])))throw new g(`streams[${P}]`,b[P],"must be writable")}let v,w,A,T,k;function E(P){let V=T;T=null,V?V(P):P?k.destroy(P):!Q&&!H&&k.destroy()}let x=C[0],U=r(C,E),H=!!(l(x)||c(x)||u(x)),Q=!!(s(U)||f(U)||u(U));if(k=new n({writableObjectMode:!!(x!=null&&x.writableObjectMode),readableObjectMode:!!(U!=null&&U.writableObjectMode),writable:H,readable:Q}),H){if(i(x))k._write=function(V,te,J){x.write(V,te)?J():v=J},k._final=function(V){x.end(),w=V},x.on("drain",function(){if(v){let V=v;v=null,V()}});else if(a(x)){let V=(u(x)?x.writable:x).getWriter();k._write=async function(te,J,ye){try{await V.ready,V.write(te).catch(()=>{}),ye()}catch(oe){ye(oe)}},k._final=async function(te){try{await V.ready,V.close().catch(()=>{}),w=te}catch(J){te(J)}}}let P=u(U)?U.readable:U;_(P,()=>{if(w){let V=w;w=null,V()}})}if(Q){if(i(U))U.on("readable",function(){if(A){let P=A;A=null,P()}}),U.on("end",function(){k.push(null)}),k._read=function(){for(;;){let P=U.read();if(P===null){A=k._read;return}if(!k.push(P))return}};else if(a(U)){let P=(u(U)?U.readable:U).getReader();k._read=async function(){for(;;)try{let{value:V,done:te}=await P.read();if(!k.push(V))return;if(te){k.push(null);return}}catch{return}}}}return k._destroy=function(P,V){!P&&T!==null&&(P=new p),A=null,v=null,w=null,T===null?V(P):(T=V,i(U)&&o(U,P))},k}}),vS=ve((e,t)=>{ce(),fe(),he();var r=globalThis.AbortController||ld().AbortController,{codes:{ERR_INVALID_ARG_VALUE:n,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:i,ERR_OUT_OF_RANGE:s},AbortError:l}=Gt(),{validateAbortSignal:a,validateInteger:u,validateObject:c}=Ia(),f=pt().Symbol("kWeak"),{finished:p}=Dn(),g=J0(),{addAbortSignalNoValidate:y}=xa(),{isWritable:_,isNodeStream:C}=dn(),{ArrayPrototypePush:b,MathFloor:v,Number:w,NumberIsNaN:A,Promise:T,PromiseReject:k,PromisePrototypeThen:E,Symbol:x}=pt(),U=x("kEmpty"),H=x("kEof");function Q(se,B){if(B!=null&&c(B,"options"),(B==null?void 0:B.signal)!=null&&a(B.signal,"options.signal"),C(se)&&!_(se))throw new n("stream",se,"must be writable");let R=g(this,se);return B!=null&&B.signal&&y(B.signal,R),R}function P(se,B){if(typeof se!="function")throw new o("fn",["Function","AsyncFunction"],se);B!=null&&c(B,"options"),(B==null?void 0:B.signal)!=null&&a(B.signal,"options.signal");let R=1;return(B==null?void 0:B.concurrency)!=null&&(R=v(B.concurrency)),u(R,"concurrency",1),(async function*(){var Y,de;let ie=new r,re=this,we=[],me=ie.signal,M={signal:me},D=()=>ie.abort();B!=null&&(Y=B.signal)!==null&&Y!==void 0&&Y.aborted&&D(),B==null||(de=B.signal)===null||de===void 0||de.addEventListener("abort",D);let W,le,ee=!1;function F(){ee=!0}async function K(){try{for await(let q of re){var N;if(ee)return;if(me.aborted)throw new l;try{q=se(q,M)}catch(ue){q=k(ue)}q!==U&&(typeof((N=q)===null||N===void 0?void 0:N.catch)=="function"&&q.catch(F),we.push(q),W&&(W(),W=null),!ee&&we.length&&we.length>=R&&await new T(ue=>{le=ue}))}we.push(H)}catch(q){let ue=k(q);E(ue,void 0,F),we.push(ue)}finally{var $;ee=!0,W&&(W(),W=null),B==null||($=B.signal)===null||$===void 0||$.removeEventListener("abort",D)}}K();try{for(;;){for(;we.length>0;){let N=await we[0];if(N===H)return;if(me.aborted)throw new l;N!==U&&(yield N),we.shift(),le&&(le(),le=null)}await new T(N=>{W=N})}}finally{ie.abort(),ee=!0,le&&(le(),le=null)}}).call(this)}function V(se=void 0){return se!=null&&c(se,"options"),(se==null?void 0:se.signal)!=null&&a(se.signal,"options.signal"),(async function*(){let B=0;for await(let Y of this){var R;if(se!=null&&(R=se.signal)!==null&&R!==void 0&&R.aborted)throw new l({cause:se.signal.reason});yield[B++,Y]}}).call(this)}async function te(se,B=void 0){for await(let R of j.call(this,se,B))return!0;return!1}async function J(se,B=void 0){if(typeof se!="function")throw new o("fn",["Function","AsyncFunction"],se);return!await te.call(this,async(...R)=>!await se(...R),B)}async function ye(se,B){for await(let R of j.call(this,se,B))return R}async function oe(se,B){if(typeof se!="function")throw new o("fn",["Function","AsyncFunction"],se);async function R(Y,de){return await se(Y,de),U}for await(let Y of P.call(this,R,B));}function j(se,B){if(typeof se!="function")throw new o("fn",["Function","AsyncFunction"],se);async function R(Y,de){return await se(Y,de)?Y:U}return P.call(this,R,B)}var Z=class extends i{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function G(se,B,R){var Y;if(typeof se!="function")throw new o("reducer",["Function","AsyncFunction"],se);R!=null&&c(R,"options"),(R==null?void 0:R.signal)!=null&&a(R.signal,"options.signal");let de=arguments.length>1;if(R!=null&&(Y=R.signal)!==null&&Y!==void 0&&Y.aborted){let M=new l(void 0,{cause:R.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(M)),M}let ie=new r,re=ie.signal;if(R!=null&&R.signal){let M={once:!0,[f]:this};R.signal.addEventListener("abort",()=>ie.abort(),M)}let we=!1;try{for await(let M of this){var me;if(we=!0,R!=null&&(me=R.signal)!==null&&me!==void 0&&me.aborted)throw new l;de?B=await se(B,M,{signal:re}):(B=M,de=!0)}if(!we&&!de)throw new Z}finally{ie.abort()}return B}async function pe(se){se!=null&&c(se,"options"),(se==null?void 0:se.signal)!=null&&a(se.signal,"options.signal");let B=[];for await(let Y of this){var R;if(se!=null&&(R=se.signal)!==null&&R!==void 0&&R.aborted)throw new l(void 0,{cause:se.signal.reason});b(B,Y)}return B}function S(se,B){let R=P.call(this,se,B);return(async function*(){for await(let Y of R)yield*Y}).call(this)}function X(se){if(se=w(se),A(se))return 0;if(se<0)throw new s("number",">= 0",se);return se}function ae(se,B=void 0){return B!=null&&c(B,"options"),(B==null?void 0:B.signal)!=null&&a(B.signal,"options.signal"),se=X(se),(async function*(){var R;if(B!=null&&(R=B.signal)!==null&&R!==void 0&&R.aborted)throw new l;for await(let de of this){var Y;if(B!=null&&(Y=B.signal)!==null&&Y!==void 0&&Y.aborted)throw new l;se--<=0&&(yield de)}}).call(this)}function be(se,B=void 0){return B!=null&&c(B,"options"),(B==null?void 0:B.signal)!=null&&a(B.signal,"options.signal"),se=X(se),(async function*(){var R;if(B!=null&&(R=B.signal)!==null&&R!==void 0&&R.aborted)throw new l;for await(let de of this){var Y;if(B!=null&&(Y=B.signal)!==null&&Y!==void 0&&Y.aborted)throw new l;if(se-- >0)yield de;else return}}).call(this)}t.exports.streamReturningOperators={asIndexedPairs:V,drop:ae,filter:j,flatMap:S,map:P,take:be,compose:Q},t.exports.promiseReturningOperators={every:J,forEach:oe,reduce:G,toArray:pe,some:te,find:ye}}),X0=ve((e,t)=>{ce(),fe(),he();var{ArrayPrototypePop:r,Promise:n}=pt(),{isIterable:o,isNodeStream:i,isWebStream:s}=dn(),{pipelineImpl:l}=fd(),{finished:a}=Dn();Z0();function u(...c){return new n((f,p)=>{let g,y,_=c[c.length-1];if(_&&typeof _=="object"&&!i(_)&&!o(_)&&!s(_)){let C=r(c);g=C.signal,y=C.end}l(c,(C,b)=>{C?p(C):f(b)},{signal:g,end:y})})}t.exports={finished:a,pipeline:u}}),Z0=ve((e,t)=>{ce(),fe(),he();var{Buffer:r}=(Pt(),He(xt)),{ObjectDefineProperty:n,ObjectKeys:o,ReflectApply:i}=pt(),{promisify:{custom:s}}=un(),{streamReturningOperators:l,promiseReturningOperators:a}=vS(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=Gt(),c=J0(),{pipeline:f}=fd(),{destroyer:p}=ho(),g=Dn(),y=X0(),_=dn(),C=t.exports=ad().Stream;C.isDisturbed=_.isDisturbed,C.isErrored=_.isErrored,C.isReadable=_.isReadable,C.Readable=Ta();for(let v of o(l)){let w=function(...T){if(new.target)throw u();return C.Readable.from(i(A,this,T))},A=l[v];n(w,"name",{__proto__:null,value:A.name}),n(w,"length",{__proto__:null,value:A.length}),n(C.Readable.prototype,v,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}for(let v of o(a)){let w=function(...T){if(new.target)throw u();return i(A,this,T)},A=a[v];n(w,"name",{__proto__:null,value:A.name}),n(w,"length",{__proto__:null,value:A.length}),n(C.Readable.prototype,v,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}C.Writable=Q0(),C.Duplex=cn(),C.Transform=Y0(),C.PassThrough=G0(),C.pipeline=f;var{addAbortSignal:b}=xa();C.addAbortSignal=b,C.finished=g,C.destroy=p,C.compose=c,n(C,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return y}}),n(f,s,{__proto__:null,enumerable:!0,get(){return y.pipeline}}),n(g,s,{__proto__:null,enumerable:!0,get(){return y.finished}}),C.Stream=C,C._isUint8Array=function(v){return v instanceof Uint8Array},C._uint8ArrayToBuffer=function(v){return r.from(v.buffer,v.byteOffset,v.byteLength)}}),bi=ve((e,t)=>{ce(),fe(),he();var r=Z0(),n=X0(),o=r.Readable.destroy;t.exports=r.Readable,t.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,t.exports._isUint8Array=r._isUint8Array,t.exports.isDisturbed=r.isDisturbed,t.exports.isErrored=r.isErrored,t.exports.isReadable=r.isReadable,t.exports.Readable=r.Readable,t.exports.Writable=r.Writable,t.exports.Duplex=r.Duplex,t.exports.Transform=r.Transform,t.exports.PassThrough=r.PassThrough,t.exports.addAbortSignal=r.addAbortSignal,t.exports.finished=r.finished,t.exports.destroy=r.destroy,t.exports.destroy=o,t.exports.pipeline=r.pipeline,t.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get(){return n}}),t.exports.Stream=r.Stream,t.exports.default=t.exports}),wS=ve((e,t)=>{ce(),fe(),he(),typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var o=function(){};o.prototype=n.prototype,r.prototype=new o,r.prototype.constructor=r}}}),_S=ve((e,t)=>{ce(),fe(),he();var{Buffer:r}=(Pt(),He(xt)),n=Symbol.for("BufferList");function o(i){if(!(this instanceof o))return new o(i);o._init.call(this,i)}o._init=function(i){Object.defineProperty(this,n,{value:!0}),this._bufs=[],this.length=0,i&&this.append(i)},o.prototype._new=function(i){return new o(i)},o.prototype._offset=function(i){if(i===0)return[0,0];let s=0;for(let l=0;l<this._bufs.length;l++){let a=s+this._bufs[l].length;if(i<a||l===this._bufs.length-1)return[l,i-s];s=a}},o.prototype._reverseOffset=function(i){let s=i[0],l=i[1];for(let a=0;a<s;a++)l+=this._bufs[a].length;return l},o.prototype.get=function(i){if(i>this.length||i<0)return;let s=this._offset(i);return this._bufs[s[0]][s[1]]},o.prototype.slice=function(i,s){return typeof i=="number"&&i<0&&(i+=this.length),typeof s=="number"&&s<0&&(s+=this.length),this.copy(null,0,i,s)},o.prototype.copy=function(i,s,l,a){if((typeof l!="number"||l<0)&&(l=0),(typeof a!="number"||a>this.length)&&(a=this.length),l>=this.length||a<=0)return i||r.alloc(0);let u=!!i,c=this._offset(l),f=a-l,p=f,g=u&&s||0,y=c[1];if(l===0&&a===this.length){if(!u)return this._bufs.length===1?this._bufs[0]:r.concat(this._bufs,this.length);for(let _=0;_<this._bufs.length;_++)this._bufs[_].copy(i,g),g+=this._bufs[_].length;return i}if(p<=this._bufs[c[0]].length-y)return u?this._bufs[c[0]].copy(i,s,y,y+p):this._bufs[c[0]].slice(y,y+p);u||(i=r.allocUnsafe(f));for(let _=c[0];_<this._bufs.length;_++){let C=this._bufs[_].length-y;if(p>C)this._bufs[_].copy(i,g,y),g+=C;else{this._bufs[_].copy(i,g,y,y+p),g+=C;break}p-=C,y&&(y=0)}return i.length>g?i.slice(0,g):i},o.prototype.shallowSlice=function(i,s){if(i=i||0,s=typeof s!="number"?this.length:s,i<0&&(i+=this.length),s<0&&(s+=this.length),i===s)return this._new();let l=this._offset(i),a=this._offset(s),u=this._bufs.slice(l[0],a[0]+1);return a[1]===0?u.pop():u[u.length-1]=u[u.length-1].slice(0,a[1]),l[1]!==0&&(u[0]=u[0].slice(l[1])),this._new(u)},o.prototype.toString=function(i,s,l){return this.slice(s,l).toString(i)},o.prototype.consume=function(i){if(i=Math.trunc(i),Number.isNaN(i)||i<=0)return this;for(;this._bufs.length;)if(i>=this._bufs[0].length)i-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(i),this.length-=i;break}return this},o.prototype.duplicate=function(){let i=this._new();for(let s=0;s<this._bufs.length;s++)i.append(this._bufs[s]);return i},o.prototype.append=function(i){if(i==null)return this;if(i.buffer)this._appendBuffer(r.from(i.buffer,i.byteOffset,i.byteLength));else if(Array.isArray(i))for(let s=0;s<i.length;s++)this.append(i[s]);else if(this._isBufferList(i))for(let s=0;s<i._bufs.length;s++)this.append(i._bufs[s]);else typeof i=="number"&&(i=i.toString()),this._appendBuffer(r.from(i));return this},o.prototype._appendBuffer=function(i){this._bufs.push(i),this.length+=i.length},o.prototype.indexOf=function(i,s,l){if(l===void 0&&typeof s=="string"&&(l=s,s=void 0),typeof i=="function"||Array.isArray(i))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof i=="number"?i=r.from([i]):typeof i=="string"?i=r.from(i,l):this._isBufferList(i)?i=i.slice():Array.isArray(i.buffer)?i=r.from(i.buffer,i.byteOffset,i.byteLength):r.isBuffer(i)||(i=r.from(i)),s=Number(s||0),isNaN(s)&&(s=0),s<0&&(s=this.length+s),s<0&&(s=0),i.length===0)return s>this.length?this.length:s;let a=this._offset(s),u=a[0],c=a[1];for(;u<this._bufs.length;u++){let f=this._bufs[u];for(;c<f.length;)if(f.length-c>=i.length){let p=f.indexOf(i,c);if(p!==-1)return this._reverseOffset([u,p]);c=f.length-i.length+1}else{let p=this._reverseOffset([u,c]);if(this._match(p,i))return p;c++}c=0}return-1},o.prototype._match=function(i,s){if(this.length-i<s.length)return!1;for(let l=0;l<s.length;l++)if(this.get(i+l)!==s[l])return!1;return!0},function(){let i={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let s in i)(function(l){i[l]===null?o.prototype[l]=function(a,u){return this.slice(a,a+u)[l](0,u)}:o.prototype[l]=function(a=0){return this.slice(a,a+i[l])[l](0)}})(s)}(),o.prototype._isBufferList=function(i){return i instanceof o||o.isBufferList(i)},o.isBufferList=function(i){return i!=null&&i[n]},t.exports=o}),bS=ve((e,t)=>{ce(),fe(),he();var r=bi().Duplex,n=wS(),o=_S();function i(s){if(!(this instanceof i))return new i(s);if(typeof s=="function"){this._callback=s;let l=(function(a){this._callback&&(this._callback(a),this._callback=null)}).bind(this);this.on("pipe",function(a){a.on("error",l)}),this.on("unpipe",function(a){a.removeListener("error",l)}),s=null}o._init.call(this,s),r.call(this)}n(i,r),Object.assign(i.prototype,o.prototype),i.prototype._new=function(s){return new i(s)},i.prototype._write=function(s,l,a){this._appendBuffer(s),typeof a=="function"&&a()},i.prototype._read=function(s){if(!this.length)return this.push(null);s=Math.min(s,this.length),this.push(this.slice(0,s)),this.consume(s)},i.prototype.end=function(s){r.prototype.end.call(this,s),this._callback&&(this._callback(null,this.slice()),this._callback=null)},i.prototype._destroy=function(s,l){this._bufs.length=0,this.length=0,l(s)},i.prototype._isBufferList=function(s){return s instanceof i||s instanceof o||i.isBufferList(s)},i.isBufferList=o.isBufferList,t.exports=i,t.exports.BufferListStream=i,t.exports.BufferList=o}),SS=ve((e,t)=>{ce(),fe(),he();var r=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};t.exports=r}),ev=ve((e,t)=>{ce(),fe(),he();var r=t.exports,{Buffer:n}=(Pt(),He(xt));r.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},r.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},r.requiredHeaderFlagsErrors={};for(let i in r.requiredHeaderFlags){let s=r.requiredHeaderFlags[i];r.requiredHeaderFlagsErrors[i]="Invalid header flag bits, must be 0x"+s.toString(16)+" for "+r.types[i]+" packet"}r.codes={};for(let i in r.types){let s=r.types[i];r.codes[s]=i}r.CMD_SHIFT=4,r.CMD_MASK=240,r.DUP_MASK=8,r.QOS_MASK=3,r.QOS_SHIFT=1,r.RETAIN_MASK=1,r.VARBYTEINT_MASK=127,r.VARBYTEINT_FIN_MASK=128,r.VARBYTEINT_MAX=268435455,r.SESSIONPRESENT_MASK=1,r.SESSIONPRESENT_HEADER=n.from([r.SESSIONPRESENT_MASK]),r.CONNACK_HEADER=n.from([r.codes.connack<<r.CMD_SHIFT]),r.USERNAME_MASK=128,r.PASSWORD_MASK=64,r.WILL_RETAIN_MASK=32,r.WILL_QOS_MASK=24,r.WILL_QOS_SHIFT=3,r.WILL_FLAG_MASK=4,r.CLEAN_SESSION_MASK=2,r.CONNECT_HEADER=n.from([r.codes.connect<<r.CMD_SHIFT]),r.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},r.propertiesCodes={};for(let i in r.properties){let s=r.properties[i];r.propertiesCodes[s]=i}r.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function o(i){return[0,1,2].map(s=>[0,1].map(l=>[0,1].map(a=>{let u=n.alloc(1);return u.writeUInt8(r.codes[i]<<r.CMD_SHIFT|(l?r.DUP_MASK:0)|s<<r.QOS_SHIFT|a,0,!0),u})))}r.PUBLISH_HEADER=o("publish"),r.SUBSCRIBE_HEADER=o("subscribe"),r.SUBSCRIBE_OPTIONS_QOS_MASK=3,r.SUBSCRIBE_OPTIONS_NL_MASK=1,r.SUBSCRIBE_OPTIONS_NL_SHIFT=2,r.SUBSCRIBE_OPTIONS_RAP_MASK=1,r.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,r.SUBSCRIBE_OPTIONS_RH_MASK=3,r.SUBSCRIBE_OPTIONS_RH_SHIFT=4,r.SUBSCRIBE_OPTIONS_RH=[0,16,32],r.SUBSCRIBE_OPTIONS_NL=4,r.SUBSCRIBE_OPTIONS_RAP=8,r.SUBSCRIBE_OPTIONS_QOS=[0,1,2],r.UNSUBSCRIBE_HEADER=o("unsubscribe"),r.ACKS={unsuback:o("unsuback"),puback:o("puback"),pubcomp:o("pubcomp"),pubrel:o("pubrel"),pubrec:o("pubrec")},r.SUBACK_HEADER=n.from([r.codes.suback<<r.CMD_SHIFT]),r.VERSION3=n.from([3]),r.VERSION4=n.from([4]),r.VERSION5=n.from([5]),r.VERSION131=n.from([131]),r.VERSION132=n.from([132]),r.QOS=[0,1,2].map(i=>n.from([i])),r.EMPTY={pingreq:n.from([r.codes.pingreq<<4,0]),pingresp:n.from([r.codes.pingresp<<4,0]),disconnect:n.from([r.codes.disconnect<<4,0])},r.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},r.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},r.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},r.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},r.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},r.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),ES=ve((e,t)=>{ce(),fe(),he();var r=1e3,n=r*60,o=n*60,i=o*24,s=i*7,l=i*365.25;t.exports=function(p,g){g=g||{};var y=typeof p;if(y==="string"&&p.length>0)return a(p);if(y==="number"&&isFinite(p))return g.long?c(p):u(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function a(p){if(p=String(p),!(p.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(g){var y=parseFloat(g[1]),_=(g[2]||"ms").toLowerCase();switch(_){case"years":case"year":case"yrs":case"yr":case"y":return y*l;case"weeks":case"week":case"w":return y*s;case"days":case"day":case"d":return y*i;case"hours":case"hour":case"hrs":case"hr":case"h":return y*o;case"minutes":case"minute":case"mins":case"min":case"m":return y*n;case"seconds":case"second":case"secs":case"sec":case"s":return y*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return y;default:return}}}}function u(p){var g=Math.abs(p);return g>=i?Math.round(p/i)+"d":g>=o?Math.round(p/o)+"h":g>=n?Math.round(p/n)+"m":g>=r?Math.round(p/r)+"s":p+"ms"}function c(p){var g=Math.abs(p);return g>=i?f(p,g,i,"day"):g>=o?f(p,g,o,"hour"):g>=n?f(p,g,n,"minute"):g>=r?f(p,g,r,"second"):p+" ms"}function f(p,g,y,_){var C=g>=y*1.5;return Math.round(p/y)+" "+_+(C?"s":"")}}),kS=ve((e,t)=>{ce(),fe(),he();function r(n){i.debug=i,i.default=i,i.coerce=f,i.disable=a,i.enable=l,i.enabled=u,i.humanize=ES(),i.destroy=p,Object.keys(n).forEach(g=>{i[g]=n[g]}),i.names=[],i.skips=[],i.formatters={};function o(g){let y=0;for(let _=0;_<g.length;_++)y=(y<<5)-y+g.charCodeAt(_),y|=0;return i.colors[Math.abs(y)%i.colors.length]}i.selectColor=o;function i(g){let y,_=null,C,b;function v(...w){if(!v.enabled)return;let A=v,T=Number(new Date),k=T-(y||T);A.diff=k,A.prev=y,A.curr=T,y=T,w[0]=i.coerce(w[0]),typeof w[0]!="string"&&w.unshift("%O");let E=0;w[0]=w[0].replace(/%([a-zA-Z%])/g,(x,U)=>{if(x==="%%")return"%";E++;let H=i.formatters[U];if(typeof H=="function"){let Q=w[E];x=H.call(A,Q),w.splice(E,1),E--}return x}),i.formatArgs.call(A,w),(A.log||i.log).apply(A,w)}return v.namespace=g,v.useColors=i.useColors(),v.color=i.selectColor(g),v.extend=s,v.destroy=i.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>_!==null?_:(C!==i.namespaces&&(C=i.namespaces,b=i.enabled(g)),b),set:w=>{_=w}}),typeof i.init=="function"&&i.init(v),v}function s(g,y){let _=i(this.namespace+(typeof y>"u"?":":y)+g);return _.log=this.log,_}function l(g){i.save(g),i.namespaces=g,i.names=[],i.skips=[];let y,_=(typeof g=="string"?g:"").split(/[\s,]+/),C=_.length;for(y=0;y<C;y++)_[y]&&(g=_[y].replace(/\*/g,".*?"),g[0]==="-"?i.skips.push(new RegExp("^"+g.slice(1)+"$")):i.names.push(new RegExp("^"+g+"$")))}function a(){let g=[...i.names.map(c),...i.skips.map(c).map(y=>"-"+y)].join(",");return i.enable(""),g}function u(g){if(g[g.length-1]==="*")return!0;let y,_;for(y=0,_=i.skips.length;y<_;y++)if(i.skips[y].test(g))return!1;for(y=0,_=i.names.length;y<_;y++)if(i.names[y].test(g))return!0;return!1}function c(g){return g.toString().substring(2,g.toString().length-2).replace(/\.\*\?$/,"*")}function f(g){return g instanceof Error?g.stack||g.message:g}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return i.enable(i.load()),i}t.exports=r}),hn=ve((e,t)=>{ce(),fe(),he(),e.formatArgs=n,e.save=o,e.load=i,e.useColors=r,e.storage=s(),e.destroy=(()=>{let a=!1;return()=>{a||(a=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(a){if(a[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let u="color: "+this.color;a.splice(1,0,u,"color: inherit");let c=0,f=0;a[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(c++,p==="%c"&&(f=c))}),a.splice(f,0,u)}e.log=console.debug||console.log||(()=>{});function o(a){try{a?e.storage.setItem("debug",a):e.storage.removeItem("debug")}catch{}}function i(){let a;try{a=e.storage.getItem("debug")}catch{}return!a&&typeof Ue<"u"&&"env"in Ue&&(a=Ue.env.DEBUG),a}function s(){try{return localStorage}catch{}}t.exports=kS()(e);var{formatters:l}=t.exports;l.j=function(a){try{return JSON.stringify(a)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}),AS=ve((e,t)=>{ce(),fe(),he();var r=bS(),{EventEmitter:n}=(fo(),He(_i)),o=SS(),i=ev(),s=hn()("mqtt-packet:parser"),l=class jh extends n{constructor(){super(),this.parser=this.constructor.parser}static parser(u){return this instanceof jh?(this.settings=u||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new jh().parser(u)}_resetState(){s("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new o,this.error=null,this._list=r(),this._stateCounter=0}parse(u){for(this.error&&this._resetState(),this._list.append(u),s("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,s("parse: state complete. _stateCounter is now: %d",this._stateCounter),s("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return s("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let u=this._list.readUInt8(0),c=u>>i.CMD_SHIFT;this.packet.cmd=i.types[c];let f=u&15,p=i.requiredHeaderFlags[c];return p!=null&&f!==p?this._emitError(new Error(i.requiredHeaderFlagsErrors[c])):(this.packet.retain=(u&i.RETAIN_MASK)!==0,this.packet.qos=u>>i.QOS_SHIFT&i.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(u&i.DUP_MASK)!==0,s("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let u=this._parseVarByteNum(!0);return u&&(this.packet.length=u.value,this._list.consume(u.bytes)),s("_parseLength %d",u.value),!!u}_parsePayload(){s("_parsePayload: payload %O",this._list);let u=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}u=!0}return s("_parsePayload complete result: %s",u),u}_parseConnect(){s("_parseConnect");let u,c,f,p,g={},y=this.packet,_=this._parseString();if(_===null)return this._emitError(new Error("Cannot parse protocolId"));if(_!=="MQTT"&&_!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(y.protocolId=_,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(y.protocolVersion=this._list.readUInt8(this._pos),y.protocolVersion>=128&&(y.bridgeMode=!0,y.protocolVersion=y.protocolVersion-128),y.protocolVersion!==3&&y.protocolVersion!==4&&y.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));g.username=this._list.readUInt8(this._pos)&i.USERNAME_MASK,g.password=this._list.readUInt8(this._pos)&i.PASSWORD_MASK,g.will=this._list.readUInt8(this._pos)&i.WILL_FLAG_MASK;let C=!!(this._list.readUInt8(this._pos)&i.WILL_RETAIN_MASK),b=(this._list.readUInt8(this._pos)&i.WILL_QOS_MASK)>>i.WILL_QOS_SHIFT;if(g.will)y.will={},y.will.retain=C,y.will.qos=b;else{if(C)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(b)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(y.clean=(this._list.readUInt8(this._pos)&i.CLEAN_SESSION_MASK)!==0,this._pos++,y.keepalive=this._parseNum(),y.keepalive===-1)return this._emitError(new Error("Packet too short"));if(y.protocolVersion===5){let w=this._parseProperties();Object.getOwnPropertyNames(w).length&&(y.properties=w)}let v=this._parseString();if(v===null)return this._emitError(new Error("Packet too short"));if(y.clientId=v,s("_parseConnect: packet.clientId: %s",y.clientId),g.will){if(y.protocolVersion===5){let w=this._parseProperties();Object.getOwnPropertyNames(w).length&&(y.will.properties=w)}if(u=this._parseString(),u===null)return this._emitError(new Error("Cannot parse will topic"));if(y.will.topic=u,s("_parseConnect: packet.will.topic: %s",y.will.topic),c=this._parseBuffer(),c===null)return this._emitError(new Error("Cannot parse will payload"));y.will.payload=c,s("_parseConnect: packet.will.paylaod: %s",y.will.payload)}if(g.username){if(p=this._parseString(),p===null)return this._emitError(new Error("Cannot parse username"));y.username=p,s("_parseConnect: packet.username: %s",y.username)}if(g.password){if(f=this._parseBuffer(),f===null)return this._emitError(new Error("Cannot parse password"));y.password=f}return this.settings=y,s("_parseConnect: complete"),y}_parseConnack(){s("_parseConnack");let u=this.packet;if(this._list.length<1)return null;let c=this._list.readUInt8(this._pos++);if(c>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(u.sessionPresent=!!(c&i.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?u.reasonCode=this._list.readUInt8(this._pos++):u.reasonCode=0;else{if(this._list.length<2)return null;u.returnCode=this._list.readUInt8(this._pos++)}if(u.returnCode===-1||u.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(u.properties=f)}s("_parseConnack: complete")}_parsePublish(){s("_parsePublish");let u=this.packet;if(u.topic=this._parseString(),u.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(u.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}u.payload=this._list.slice(this._pos,u.length),s("_parsePublish: payload from buffer list: %o",u.payload)}}_parseSubscribe(){s("_parseSubscribe");let u=this.packet,c,f,p,g,y,_,C;if(u.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(u.properties=b)}if(u.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<u.length;){if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=u.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(f=this._parseByte(),this.settings.protocolVersion===5){if(f&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(f&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(p=f&i.SUBSCRIBE_OPTIONS_QOS_MASK,p>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(_=(f>>i.SUBSCRIBE_OPTIONS_NL_SHIFT&i.SUBSCRIBE_OPTIONS_NL_MASK)!==0,y=(f>>i.SUBSCRIBE_OPTIONS_RAP_SHIFT&i.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,g=f>>i.SUBSCRIBE_OPTIONS_RH_SHIFT&i.SUBSCRIBE_OPTIONS_RH_MASK,g>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));C={topic:c,qos:p},this.settings.protocolVersion===5?(C.nl=_,C.rap=y,C.rh=g):this.settings.bridgeMode&&(C.rh=0,C.rap=!0,C.nl=!0),s("_parseSubscribe: push subscription `%s` to subscription",C),u.subscriptions.push(C)}}}_parseSuback(){s("_parseSuback");let u=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}if(u.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let c=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!i.MQTT5_SUBACK_CODES[c])return this._emitError(new Error("Invalid suback code"))}else if(c>2&&c!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(c)}}}_parseUnsubscribe(){s("_parseUnsubscribe");let u=this.packet;if(u.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}if(u.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<u.length;){let c=this._parseString();if(c===null)return this._emitError(new Error("Cannot parse topic"));s("_parseUnsubscribe: push topic `%s` to unsubscriptions",c),u.unsubscriptions.push(c)}}}_parseUnsuback(){s("_parseUnsuback");let u=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&u.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(u.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let c=this._parseProperties();for(Object.getOwnPropertyNames(c).length&&(u.properties=c),u.granted=[];this._pos<this.packet.length;){let f=this._list.readUInt8(this._pos++);if(!i.MQTT5_UNSUBACK_CODES[f])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(f)}}}_parseConfirmation(){s("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let u=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(u.length>2){switch(u.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!i.MQTT5_PUBACK_PUBREC_CODES[u.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!i.MQTT5_PUBREL_PUBCOMP_CODES[u.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}s("_parseConfirmation: packet.reasonCode `%d`",u.reasonCode)}else u.reasonCode=0;if(u.length>3){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}}return!0}_parseDisconnect(){let u=this.packet;if(s("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(u.reasonCode=this._parseByte(),i.MQTT5_DISCONNECT_CODES[u.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):u.reasonCode=0;let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(u.properties=c)}return s("_parseDisconnect result: true"),!0}_parseAuth(){s("_parseAuth");let u=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(u.reasonCode=this._parseByte(),!i.MQTT5_AUTH_CODES[u.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let c=this._parseProperties();return Object.getOwnPropertyNames(c).length&&(u.properties=c),s("_parseAuth: result: true"),!0}_parseMessageId(){let u=this.packet;return u.messageId=this._parseNum(),u.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(s("_parseMessageId: packet.messageId %d",u.messageId),!0)}_parseString(u){let c=this._parseNum(),f=c+this._pos;if(c===-1||f>this._list.length||f>this.packet.length)return null;let p=this._list.toString("utf8",this._pos,f);return this._pos+=c,s("_parseString: result: %s",p),p}_parseStringPair(){return s("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let u=this._parseNum(),c=u+this._pos;if(u===-1||c>this._list.length||c>this.packet.length)return null;let f=this._list.slice(this._pos,c);return this._pos+=u,s("_parseBuffer: result: %o",f),f}_parseNum(){if(this._list.length-this._pos<2)return-1;let u=this._list.readUInt16BE(this._pos);return this._pos+=2,s("_parseNum: result: %s",u),u}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let u=this._list.readUInt32BE(this._pos);return this._pos+=4,s("_parse4ByteNum: result: %s",u),u}_parseVarByteNum(u){s("_parseVarByteNum");let c=4,f=0,p=1,g=0,y=!1,_,C=this._pos?this._pos:0;for(;f<c&&C+f<this._list.length;){if(_=this._list.readUInt8(C+f++),g+=p*(_&i.VARBYTEINT_MASK),p*=128,!(_&i.VARBYTEINT_FIN_MASK)){y=!0;break}if(this._list.length<=f)break}return!y&&f===c&&this._list.length>=f&&this._emitError(new Error("Invalid variable byte integer")),C&&(this._pos+=f),y?u?y={bytes:f,value:g}:y=g:y=!1,s("_parseVarByteNum: result: %o",y),y}_parseByte(){let u;return this._pos<this._list.length&&(u=this._list.readUInt8(this._pos),this._pos++),s("_parseByte: result: %o",u),u}_parseByType(u){switch(s("_parseByType: type: %s",u),u){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){s("_parseProperties");let u=this._parseVarByteNum(),c=this._pos+u,f={};for(;this._pos<c;){let p=this._parseByte();if(!p)return this._emitError(new Error("Cannot parse property code type")),!1;let g=i.propertiesCodes[p];if(!g)return this._emitError(new Error("Unknown property")),!1;if(g==="userProperties"){f[g]||(f[g]=Object.create(null));let y=this._parseByType(i.propertiesTypes[g]);if(f[g][y.name])if(Array.isArray(f[g][y.name]))f[g][y.name].push(y.value);else{let _=f[g][y.name];f[g][y.name]=[_],f[g][y.name].push(y.value)}else f[g][y.name]=y.value;continue}f[g]?Array.isArray(f[g])?f[g].push(this._parseByType(i.propertiesTypes[g])):(f[g]=[f[g]],f[g].push(this._parseByType(i.propertiesTypes[g]))):f[g]=this._parseByType(i.propertiesTypes[g])}return f}_newPacket(){return s("_newPacket"),this.packet&&(this._list.consume(this.packet.length),s("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),s("_newPacket: new packet"),this.packet=new o,this._pos=0,!0}_emitError(u){s("_emitError",u),this.error=u,this.emit("error",u)}};t.exports=l}),CS=ve((e,t)=>{ce(),fe(),he();var{Buffer:r}=(Pt(),He(xt)),n=65536,o={},i=r.isBuffer(r.from([1,2]).subarray(0,1));function s(c){let f=r.allocUnsafe(2);return f.writeUInt8(c>>8,0),f.writeUInt8(c&255,1),f}function l(){for(let c=0;c<n;c++)o[c]=s(c)}function a(c){let f=0,p=0,g=r.allocUnsafe(4);do f=c%128|0,c=c/128|0,c>0&&(f=f|128),g.writeUInt8(f,p++);while(c>0&&p<4);return c>0&&(p=0),i?g.subarray(0,p):g.slice(0,p)}function u(c){let f=r.allocUnsafe(4);return f.writeUInt32BE(c,0),f}t.exports={cache:o,generateCache:l,generateNumber:s,genBufVariableByteInt:a,generate4ByteBuffer:u}}),IS=ve((e,t)=>{ce(),fe(),he(),typeof Ue>"u"||!Ue.version||Ue.version.indexOf("v0.")===0||Ue.version.indexOf("v1.")===0&&Ue.version.indexOf("v1.8.")!==0?t.exports={nextTick:r}:t.exports=Ue;function r(n,o,i,s){if(typeof n!="function")throw new TypeError('"callback" argument must be a function');var l=arguments.length,a,u;switch(l){case 0:case 1:return Ue.nextTick(n);case 2:return Ue.nextTick(function(){n.call(null,o)});case 3:return Ue.nextTick(function(){n.call(null,o,i)});case 4:return Ue.nextTick(function(){n.call(null,o,i,s)});default:for(a=new Array(l-1),u=0;u<a.length;)a[u++]=arguments[u];return Ue.nextTick(function(){n.apply(null,a)})}}}),tv=ve((e,t)=>{ce(),fe(),he();var r=ev(),{Buffer:n}=(Pt(),He(xt)),o=n.allocUnsafe(0),i=n.from([0]),s=CS(),l=IS().nextTick,a=hn()("mqtt-packet:writeToStream"),u=s.cache,c=s.generateNumber,f=s.generateCache,p=s.genBufVariableByteInt,g=s.generate4ByteBuffer,y=oe,_=!0;function C(B,R,Y){switch(a("generate called"),R.cork&&(R.cork(),l(b,R)),_&&(_=!1,f()),a("generate: packet.cmd: %s",B.cmd),B.cmd){case"connect":return v(B,R);case"connack":return w(B,R,Y);case"publish":return A(B,R,Y);case"puback":case"pubrec":case"pubrel":case"pubcomp":return T(B,R,Y);case"subscribe":return k(B,R,Y);case"suback":return E(B,R,Y);case"unsubscribe":return x(B,R,Y);case"unsuback":return U(B,R,Y);case"pingreq":case"pingresp":return H(B,R);case"disconnect":return Q(B,R,Y);case"auth":return P(B,R,Y);default:return R.destroy(new Error("Unknown command")),!1}}Object.defineProperty(C,"cacheNumbers",{get(){return y===oe},set(B){B?((!u||Object.keys(u).length===0)&&(_=!0),y=oe):(_=!1,y=j)}});function b(B){B.uncork()}function v(B,R,Y){let de=B||{},ie=de.protocolId||"MQTT",re=de.protocolVersion||4,we=de.will,me=de.clean,M=de.keepalive||0,D=de.clientId||"",W=de.username,le=de.password,ee=de.properties;me===void 0&&(me=!0);let F=0;if(!ie||typeof ie!="string"&&!n.isBuffer(ie))return R.destroy(new Error("Invalid protocolId")),!1;if(F+=ie.length+2,re!==3&&re!==4&&re!==5)return R.destroy(new Error("Invalid protocol version")),!1;if(F+=1,(typeof D=="string"||n.isBuffer(D))&&(D||re>=4)&&(D||me))F+=n.byteLength(D)+2;else{if(re<4)return R.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(me*1===0)return R.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof M!="number"||M<0||M>65535||M%1!==0)return R.destroy(new Error("Invalid keepalive")),!1;F+=2,F+=1;let K,N;if(re===5){if(K=pe(R,ee),!K)return!1;F+=K.length}if(we){if(typeof we!="object")return R.destroy(new Error("Invalid will")),!1;if(!we.topic||typeof we.topic!="string")return R.destroy(new Error("Invalid will topic")),!1;if(F+=n.byteLength(we.topic)+2,F+=2,we.payload)if(we.payload.length>=0)typeof we.payload=="string"?F+=n.byteLength(we.payload):F+=we.payload.length;else return R.destroy(new Error("Invalid will payload")),!1;if(N={},re===5){if(N=pe(R,we.properties),!N)return!1;F+=N.length}}let $=!1;if(W!=null)if(se(W))$=!0,F+=n.byteLength(W)+2;else return R.destroy(new Error("Invalid username")),!1;if(le!=null){if(!$)return R.destroy(new Error("Username is required to use password")),!1;if(se(le))F+=be(le)+2;else return R.destroy(new Error("Invalid password")),!1}R.write(r.CONNECT_HEADER),te(R,F),G(R,ie),de.bridgeMode&&(re+=128),R.write(re===131?r.VERSION131:re===132?r.VERSION132:re===4?r.VERSION4:re===5?r.VERSION5:r.VERSION3);let q=0;return q|=W!=null?r.USERNAME_MASK:0,q|=le!=null?r.PASSWORD_MASK:0,q|=we&&we.retain?r.WILL_RETAIN_MASK:0,q|=we&&we.qos?we.qos<<r.WILL_QOS_SHIFT:0,q|=we?r.WILL_FLAG_MASK:0,q|=me?r.CLEAN_SESSION_MASK:0,R.write(n.from([q])),y(R,M),re===5&&K.write(),G(R,D),we&&(re===5&&N.write(),J(R,we.topic),G(R,we.payload)),W!=null&&G(R,W),le!=null&&G(R,le),!0}function w(B,R,Y){let de=Y?Y.protocolVersion:4,ie=B||{},re=de===5?ie.reasonCode:ie.returnCode,we=ie.properties,me=2;if(typeof re!="number")return R.destroy(new Error("Invalid return code")),!1;let M=null;if(de===5){if(M=pe(R,we),!M)return!1;me+=M.length}return R.write(r.CONNACK_HEADER),te(R,me),R.write(ie.sessionPresent?r.SESSIONPRESENT_HEADER:i),R.write(n.from([re])),M==null||M.write(),!0}function A(B,R,Y){a("publish: packet: %o",B);let de=Y?Y.protocolVersion:4,ie=B||{},re=ie.qos||0,we=ie.retain?r.RETAIN_MASK:0,me=ie.topic,M=ie.payload||o,D=ie.messageId,W=ie.properties,le=0;if(typeof me=="string")le+=n.byteLength(me)+2;else if(n.isBuffer(me))le+=me.length+2;else return R.destroy(new Error("Invalid topic")),!1;if(n.isBuffer(M)?le+=M.length:le+=n.byteLength(M),re&&typeof D!="number")return R.destroy(new Error("Invalid messageId")),!1;re&&(le+=2);let ee=null;if(de===5){if(ee=pe(R,W),!ee)return!1;le+=ee.length}return R.write(r.PUBLISH_HEADER[re][ie.dup?1:0][we?1:0]),te(R,le),y(R,be(me)),R.write(me),re>0&&y(R,D),ee==null||ee.write(),a("publish: payload: %o",M),R.write(M)}function T(B,R,Y){let de=Y?Y.protocolVersion:4,ie=B||{},re=ie.cmd||"puback",we=ie.messageId,me=ie.dup&&re==="pubrel"?r.DUP_MASK:0,M=0,D=ie.reasonCode,W=ie.properties,le=de===5?3:2;if(re==="pubrel"&&(M=1),typeof we!="number")return R.destroy(new Error("Invalid messageId")),!1;let ee=null;if(de===5&&typeof W=="object"){if(ee=S(R,W,Y,le),!ee)return!1;le+=ee.length}return R.write(r.ACKS[re][M][me][0]),le===3&&(le+=D!==0?1:-1),te(R,le),y(R,we),de===5&&le!==2&&R.write(n.from([D])),ee!==null?ee.write():le===4&&R.write(n.from([0])),!0}function k(B,R,Y){a("subscribe: packet: ");let de=Y?Y.protocolVersion:4,ie=B||{},re=ie.dup?r.DUP_MASK:0,we=ie.messageId,me=ie.subscriptions,M=ie.properties,D=0;if(typeof we!="number")return R.destroy(new Error("Invalid messageId")),!1;D+=2;let W=null;if(de===5){if(W=pe(R,M),!W)return!1;D+=W.length}if(typeof me=="object"&&me.length)for(let ee=0;ee<me.length;ee+=1){let F=me[ee].topic,K=me[ee].qos;if(typeof F!="string")return R.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof K!="number")return R.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(de===5){if(typeof(me[ee].nl||!1)!="boolean")return R.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(me[ee].rap||!1)!="boolean")return R.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let N=me[ee].rh||0;if(typeof N!="number"||N>2)return R.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}D+=n.byteLength(F)+2+1}else return R.destroy(new Error("Invalid subscriptions")),!1;a("subscribe: writing to stream: %o",r.SUBSCRIBE_HEADER),R.write(r.SUBSCRIBE_HEADER[1][re?1:0][0]),te(R,D),y(R,we),W!==null&&W.write();let le=!0;for(let ee of me){let F=ee.topic,K=ee.qos,N=+ee.nl,$=+ee.rap,q=ee.rh,ue;J(R,F),ue=r.SUBSCRIBE_OPTIONS_QOS[K],de===5&&(ue|=N?r.SUBSCRIBE_OPTIONS_NL:0,ue|=$?r.SUBSCRIBE_OPTIONS_RAP:0,ue|=q?r.SUBSCRIBE_OPTIONS_RH[q]:0),le=R.write(n.from([ue]))}return le}function E(B,R,Y){let de=Y?Y.protocolVersion:4,ie=B||{},re=ie.messageId,we=ie.granted,me=ie.properties,M=0;if(typeof re!="number")return R.destroy(new Error("Invalid messageId")),!1;if(M+=2,typeof we=="object"&&we.length)for(let W=0;W<we.length;W+=1){if(typeof we[W]!="number")return R.destroy(new Error("Invalid qos vector")),!1;M+=1}else return R.destroy(new Error("Invalid qos vector")),!1;let D=null;if(de===5){if(D=S(R,me,Y,M),!D)return!1;M+=D.length}return R.write(r.SUBACK_HEADER),te(R,M),y(R,re),D!==null&&D.write(),R.write(n.from(we))}function x(B,R,Y){let de=Y?Y.protocolVersion:4,ie=B||{},re=ie.messageId,we=ie.dup?r.DUP_MASK:0,me=ie.unsubscriptions,M=ie.properties,D=0;if(typeof re!="number")return R.destroy(new Error("Invalid messageId")),!1;if(D+=2,typeof me=="object"&&me.length)for(let ee=0;ee<me.length;ee+=1){if(typeof me[ee]!="string")return R.destroy(new Error("Invalid unsubscriptions")),!1;D+=n.byteLength(me[ee])+2}else return R.destroy(new Error("Invalid unsubscriptions")),!1;let W=null;if(de===5){if(W=pe(R,M),!W)return!1;D+=W.length}R.write(r.UNSUBSCRIBE_HEADER[1][we?1:0][0]),te(R,D),y(R,re),W!==null&&W.write();let le=!0;for(let ee=0;ee<me.length;ee++)le=J(R,me[ee]);return le}function U(B,R,Y){let de=Y?Y.protocolVersion:4,ie=B||{},re=ie.messageId,we=ie.dup?r.DUP_MASK:0,me=ie.granted,M=ie.properties,D=ie.cmd,W=0,le=2;if(typeof re!="number")return R.destroy(new Error("Invalid messageId")),!1;if(de===5)if(typeof me=="object"&&me.length)for(let F=0;F<me.length;F+=1){if(typeof me[F]!="number")return R.destroy(new Error("Invalid qos vector")),!1;le+=1}else return R.destroy(new Error("Invalid qos vector")),!1;let ee=null;if(de===5){if(ee=S(R,M,Y,le),!ee)return!1;le+=ee.length}return R.write(r.ACKS[D][W][we][0]),te(R,le),y(R,re),ee!==null&&ee.write(),de===5&&R.write(n.from(me)),!0}function H(B,R,Y){return R.write(r.EMPTY[B.cmd])}function Q(B,R,Y){let de=Y?Y.protocolVersion:4,ie=B||{},re=ie.reasonCode,we=ie.properties,me=de===5?1:0,M=null;if(de===5){if(M=S(R,we,Y,me),!M)return!1;me+=M.length}return R.write(n.from([r.codes.disconnect<<4])),te(R,me),de===5&&R.write(n.from([re])),M!==null&&M.write(),!0}function P(B,R,Y){let de=Y?Y.protocolVersion:4,ie=B||{},re=ie.reasonCode,we=ie.properties,me=de===5?1:0;de!==5&&R.destroy(new Error("Invalid mqtt version for auth packet"));let M=S(R,we,Y,me);return M?(me+=M.length,R.write(n.from([r.codes.auth<<4])),te(R,me),R.write(n.from([re])),M!==null&&M.write(),!0):!1}var V={};function te(B,R){if(R>r.VARBYTEINT_MAX)return B.destroy(new Error(`Invalid variable byte integer: ${R}`)),!1;let Y=V[R];return Y||(Y=p(R),R<16384&&(V[R]=Y)),a("writeVarByteInt: writing to stream: %o",Y),B.write(Y)}function J(B,R){let Y=n.byteLength(R);return y(B,Y),a("writeString: %s",R),B.write(R,"utf8")}function ye(B,R,Y){J(B,R),J(B,Y)}function oe(B,R){return a("writeNumberCached: number: %d",R),a("writeNumberCached: %o",u[R]),B.write(u[R])}function j(B,R){let Y=c(R);return a("writeNumberGenerated: %o",Y),B.write(Y)}function Z(B,R){let Y=g(R);return a("write4ByteNumber: %o",Y),B.write(Y)}function G(B,R){typeof R=="string"?J(B,R):R?(y(B,R.length),B.write(R)):y(B,0)}function pe(B,R){if(typeof R!="object"||R.length!=null)return{length:1,write(){ae(B,{},0)}};let Y=0;function de(ie,re){let we=r.propertiesTypes[ie],me=0;switch(we){case"byte":{if(typeof re!="boolean")return B.destroy(new Error(`Invalid ${ie}: ${re}`)),!1;me+=2;break}case"int8":{if(typeof re!="number"||re<0||re>255)return B.destroy(new Error(`Invalid ${ie}: ${re}`)),!1;me+=2;break}case"binary":{if(re&&re===null)return B.destroy(new Error(`Invalid ${ie}: ${re}`)),!1;me+=1+n.byteLength(re)+2;break}case"int16":{if(typeof re!="number"||re<0||re>65535)return B.destroy(new Error(`Invalid ${ie}: ${re}`)),!1;me+=3;break}case"int32":{if(typeof re!="number"||re<0||re>4294967295)return B.destroy(new Error(`Invalid ${ie}: ${re}`)),!1;me+=5;break}case"var":{if(typeof re!="number"||re<0||re>268435455)return B.destroy(new Error(`Invalid ${ie}: ${re}`)),!1;me+=1+n.byteLength(p(re));break}case"string":{if(typeof re!="string")return B.destroy(new Error(`Invalid ${ie}: ${re}`)),!1;me+=3+n.byteLength(re.toString());break}case"pair":{if(typeof re!="object")return B.destroy(new Error(`Invalid ${ie}: ${re}`)),!1;me+=Object.getOwnPropertyNames(re).reduce((M,D)=>{let W=re[D];return Array.isArray(W)?M+=W.reduce((le,ee)=>(le+=3+n.byteLength(D.toString())+2+n.byteLength(ee.toString()),le),0):M+=3+n.byteLength(D.toString())+2+n.byteLength(re[D].toString()),M},0);break}default:return B.destroy(new Error(`Invalid property ${ie}: ${re}`)),!1}return me}if(R)for(let ie in R){let re=0,we=0,me=R[ie];if(Array.isArray(me))for(let M=0;M<me.length;M++){if(we=de(ie,me[M]),!we)return!1;re+=we}else{if(we=de(ie,me),!we)return!1;re=we}if(!re)return!1;Y+=re}return{length:n.byteLength(p(Y))+Y,write(){ae(B,R,Y)}}}function S(B,R,Y,de){let ie=["reasonString","userProperties"],re=Y&&Y.properties&&Y.properties.maximumPacketSize?Y.properties.maximumPacketSize:0,we=pe(B,R);if(re)for(;de+we.length>re;){let me=ie.shift();if(me&&R[me])delete R[me],we=pe(B,R);else return!1}return we}function X(B,R,Y){switch(r.propertiesTypes[R]){case"byte":{B.write(n.from([r.properties[R]])),B.write(n.from([+Y]));break}case"int8":{B.write(n.from([r.properties[R]])),B.write(n.from([Y]));break}case"binary":{B.write(n.from([r.properties[R]])),G(B,Y);break}case"int16":{B.write(n.from([r.properties[R]])),y(B,Y);break}case"int32":{B.write(n.from([r.properties[R]])),Z(B,Y);break}case"var":{B.write(n.from([r.properties[R]])),te(B,Y);break}case"string":{B.write(n.from([r.properties[R]])),J(B,Y);break}case"pair":{Object.getOwnPropertyNames(Y).forEach(de=>{let ie=Y[de];Array.isArray(ie)?ie.forEach(re=>{B.write(n.from([r.properties[R]])),ye(B,de.toString(),re.toString())}):(B.write(n.from([r.properties[R]])),ye(B,de.toString(),ie.toString()))});break}default:return B.destroy(new Error(`Invalid property ${R} value: ${Y}`)),!1}}function ae(B,R,Y){te(B,Y);for(let de in R)if(Object.prototype.hasOwnProperty.call(R,de)&&R[de]!==null){let ie=R[de];if(Array.isArray(ie))for(let re=0;re<ie.length;re++)X(B,de,ie[re]);else X(B,de,ie)}}function be(B){return B?B instanceof n?B.length:n.byteLength(B):0}function se(B){return typeof B=="string"||B instanceof n}t.exports=C}),xS=ve((e,t)=>{ce(),fe(),he();var r=tv(),{EventEmitter:n}=(fo(),He(_i)),{Buffer:o}=(Pt(),He(xt));function i(l,a){let u=new s;return r(l,u,a),u.concat()}var s=class extends n{constructor(){super(),this._array=new Array(20),this._i=0}write(l){return this._array[this._i++]=l,!0}concat(){let l=0,a=new Array(this._array.length),u=this._array,c=0,f;for(f=0;f<u.length&&u[f]!==void 0;f++)typeof u[f]!="string"?a[f]=u[f].length:a[f]=o.byteLength(u[f]),l+=a[f];let p=o.allocUnsafe(l);for(f=0;f<u.length&&u[f]!==void 0;f++)typeof u[f]!="string"?(u[f].copy(p,c),c+=a[f]):(p.write(u[f],c),c+=a[f]);return p}destroy(l){l&&this.emit("error",l)}};t.exports=i}),PS=ve(e=>{ce(),fe(),he(),e.parser=AS().parser,e.generate=xS(),e.writeToStream=tv()}),rv=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"__esModule",{value:!0});var t=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let r=this.nextId++;return this.nextId===65536&&(this.nextId=1),r}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(r){return!0}deallocate(r){}clear(){}};e.default=t}),TS=ve((e,t)=>{ce(),fe(),he(),t.exports=n;function r(i){return i instanceof ra?ra.from(i):new i.constructor(i.buffer.slice(),i.byteOffset,i.length)}function n(i){if(i=i||{},i.circles)return o(i);return i.proto?a:l;function s(u,c){for(var f=Object.keys(u),p=new Array(f.length),g=0;g<f.length;g++){var y=f[g],_=u[y];typeof _!="object"||_===null?p[y]=_:_ instanceof Date?p[y]=new Date(_):ArrayBuffer.isView(_)?p[y]=r(_):p[y]=c(_)}return p}function l(u){if(typeof u!="object"||u===null)return u;if(u instanceof Date)return new Date(u);if(Array.isArray(u))return s(u,l);if(u instanceof Map)return new Map(s(Array.from(u),l));if(u instanceof Set)return new Set(s(Array.from(u),l));var c={};for(var f in u)if(Object.hasOwnProperty.call(u,f)!==!1){var p=u[f];typeof p!="object"||p===null?c[f]=p:p instanceof Date?c[f]=new Date(p):p instanceof Map?c[f]=new Map(s(Array.from(p),l)):p instanceof Set?c[f]=new Set(s(Array.from(p),l)):ArrayBuffer.isView(p)?c[f]=r(p):c[f]=l(p)}return c}function a(u){if(typeof u!="object"||u===null)return u;if(u instanceof Date)return new Date(u);if(Array.isArray(u))return s(u,a);if(u instanceof Map)return new Map(s(Array.from(u),a));if(u instanceof Set)return new Set(s(Array.from(u),a));var c={};for(var f in u){var p=u[f];typeof p!="object"||p===null?c[f]=p:p instanceof Date?c[f]=new Date(p):p instanceof Map?c[f]=new Map(s(Array.from(p),a)):p instanceof Set?c[f]=new Set(s(Array.from(p),a)):ArrayBuffer.isView(p)?c[f]=r(p):c[f]=a(p)}return c}}function o(i){var s=[],l=[];return i.proto?c:u;function a(f,p){for(var g=Object.keys(f),y=new Array(g.length),_=0;_<g.length;_++){var C=g[_],b=f[C];if(typeof b!="object"||b===null)y[C]=b;else if(b instanceof Date)y[C]=new Date(b);else if(ArrayBuffer.isView(b))y[C]=r(b);else{var v=s.indexOf(b);v!==-1?y[C]=l[v]:y[C]=p(b)}}return y}function u(f){if(typeof f!="object"||f===null)return f;if(f instanceof Date)return new Date(f);if(Array.isArray(f))return a(f,u);if(f instanceof Map)return new Map(a(Array.from(f),u));if(f instanceof Set)return new Set(a(Array.from(f),u));var p={};s.push(f),l.push(p);for(var g in f)if(Object.hasOwnProperty.call(f,g)!==!1){var y=f[g];if(typeof y!="object"||y===null)p[g]=y;else if(y instanceof Date)p[g]=new Date(y);else if(y instanceof Map)p[g]=new Map(a(Array.from(y),u));else if(y instanceof Set)p[g]=new Set(a(Array.from(y),u));else if(ArrayBuffer.isView(y))p[g]=r(y);else{var _=s.indexOf(y);_!==-1?p[g]=l[_]:p[g]=u(y)}}return s.pop(),l.pop(),p}function c(f){if(typeof f!="object"||f===null)return f;if(f instanceof Date)return new Date(f);if(Array.isArray(f))return a(f,c);if(f instanceof Map)return new Map(a(Array.from(f),c));if(f instanceof Set)return new Set(a(Array.from(f),c));var p={};s.push(f),l.push(p);for(var g in f){var y=f[g];if(typeof y!="object"||y===null)p[g]=y;else if(y instanceof Date)p[g]=new Date(y);else if(y instanceof Map)p[g]=new Map(a(Array.from(y),c));else if(y instanceof Set)p[g]=new Set(a(Array.from(y),c));else if(ArrayBuffer.isView(y))p[g]=r(y);else{var _=s.indexOf(y);_!==-1?p[g]=l[_]:p[g]=c(y)}}return s.pop(),l.pop(),p}}}),RS=ve((e,t)=>{ce(),fe(),he(),t.exports=TS()()}),OS=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"__esModule",{value:!0}),e.validateTopics=e.validateTopic=void 0;function t(n){let o=n.split("/");for(let i=0;i<o.length;i++)if(o[i]!=="+"){if(o[i]==="#")return i===o.length-1;if(o[i].indexOf("+")!==-1||o[i].indexOf("#")!==-1)return!1}return!0}e.validateTopic=t;function r(n){if(n.length===0)return"empty_topic_list";for(let o=0;o<n.length;o++)if(!t(n[o]))return n[o];return null}e.validateTopics=r}),nv=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"__esModule",{value:!0});var t=bi(),r={objectMode:!0},n={clean:!0},o=class{constructor(i){this.options=i||{},this.options=Object.assign(Object.assign({},n),i),this._inflights=new Map}put(i,s){return this._inflights.set(i.messageId,i),s&&s(),this}createStream(){let i=new t.Readable(r),s=[],l=!1,a=0;return this._inflights.forEach((u,c)=>{s.push(u)}),i._read=()=>{!l&&a<s.length?i.push(s[a++]):i.push(null)},i.destroy=u=>{if(!l)return l=!0,setTimeout(()=>{i.emit("close")},0),i},i}del(i,s){let l=this._inflights.get(i.messageId);return l?(this._inflights.delete(i.messageId),s(null,l)):s&&s(new Error("missing packet")),this}get(i,s){let l=this._inflights.get(i.messageId);return l?s(null,l):s&&s(new Error("missing packet")),this}close(i){this.options.clean&&(this._inflights=null),i&&i()}};e.default=o}),NS=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"__esModule",{value:!0});var t=[0,16,128,131,135,144,145,151,153],r=(n,o,i)=>{n.log("handlePublish: packet %o",o),i=typeof i<"u"?i:n.noop;let s=o.topic.toString(),l=o.payload,{qos:a}=o,{messageId:u}=o,{options:c}=n;if(n.options.protocolVersion===5){let f;if(o.properties&&(f=o.properties.topicAlias),typeof f<"u")if(s.length===0)if(f>0&&f<=65535){let p=n.topicAliasRecv.getTopicByAlias(f);if(p)s=p,n.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",s,f);else{n.log("handlePublish :: unregistered topic alias. alias: %d",f),n.emit("error",new Error("Received unregistered Topic Alias"));return}}else{n.log("handlePublish :: topic alias out of range. alias: %d",f),n.emit("error",new Error("Received Topic Alias is out of range"));return}else if(n.topicAliasRecv.put(s,f))n.log("handlePublish :: registered topic: %s - alias: %d",s,f);else{n.log("handlePublish :: topic alias out of range. alias: %d",f),n.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(n.log("handlePublish: qos %d",a),a){case 2:{c.customHandleAcks(s,l,o,(f,p)=>{if(typeof f=="number"&&(p=f,f=null),f)return n.emit("error",f);if(t.indexOf(p)===-1)return n.emit("error",new Error("Wrong reason code for pubrec"));p?n._sendPacket({cmd:"pubrec",messageId:u,reasonCode:p},i):n.incomingStore.put(o,()=>{n._sendPacket({cmd:"pubrec",messageId:u},i)})});break}case 1:{c.customHandleAcks(s,l,o,(f,p)=>{if(typeof f=="number"&&(p=f,f=null),f)return n.emit("error",f);if(t.indexOf(p)===-1)return n.emit("error",new Error("Wrong reason code for puback"));p||n.emit("message",s,l,o),n.handleMessage(o,g=>{if(g)return i&&i(g);n._sendPacket({cmd:"puback",messageId:u,reasonCode:p},i)})});break}case 0:n.emit("message",s,l,o),n.handleMessage(o,i);break;default:n.log("handlePublish: unknown QoS. Doing nothing.");break}};e.default=r}),MS=ve((e,t)=>{t.exports={version:"5.10.2"}}),po=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"__esModule",{value:!0}),e.MQTTJS_VERSION=e.nextTick=e.applyMixin=e.ErrorWithReasonCode=void 0;var t=class iv extends Error{constructor(o,i){super(o),this.code=i,Object.setPrototypeOf(this,iv.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};e.ErrorWithReasonCode=t;function r(n,o,i=!1){var s;let l=[o];for(;;){let a=l[0],u=Object.getPrototypeOf(a);if(u!=null&&u.prototype)l.unshift(u);else break}for(let a of l)for(let u of Object.getOwnPropertyNames(a.prototype))(i||u!=="constructor")&&Object.defineProperty(n.prototype,u,(s=Object.getOwnPropertyDescriptor(a.prototype,u))!==null&&s!==void 0?s:Object.create(null))}e.applyMixin=r,e.nextTick=typeof(Ue==null?void 0:Ue.nextTick)=="function"?Ue.nextTick:n=>{setTimeout(n,0)},e.MQTTJS_VERSION=MS().version}),Ra=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=void 0;var t=po();e.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var r=(n,o)=>{let{messageId:i}=o,s=o.cmd,l=null,a=n.outgoing[i]?n.outgoing[i].cb:null,u=null;if(!a){n.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(n.log("_handleAck :: packet type",s),s){case"pubcomp":case"puback":{let c=o.reasonCode;c&&c>0&&c!==16?(u=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[c]}`,c),n._removeOutgoingAndStoreMessage(i,()=>{a(u,o)})):n._removeOutgoingAndStoreMessage(i,a);break}case"pubrec":{l={cmd:"pubrel",qos:2,messageId:i};let c=o.reasonCode;c&&c>0&&c!==16?(u=new t.ErrorWithReasonCode(`Publish error: ${e.ReasonCodes[c]}`,c),n._removeOutgoingAndStoreMessage(i,()=>{a(u,o)})):n._sendPacket(l);break}case"suback":{delete n.outgoing[i],n.messageIdProvider.deallocate(i);let c=o.granted;for(let f=0;f<c.length;f++){let p=c[f];if(p&128){u=new Error(`Subscribe error: ${e.ReasonCodes[p]}`),u.code=p;let g=n.messageIdToTopic[i];g&&g.forEach(y=>{delete n._resubscribeTopics[y]})}}delete n.messageIdToTopic[i],n._invokeStoreProcessingQueue(),a(u,o);break}case"unsuback":{delete n.outgoing[i],n.messageIdProvider.deallocate(i),n._invokeStoreProcessingQueue(),a(null,o);break}default:n.emit("error",new Error("unrecognized packet type"))}n.disconnecting&&Object.keys(n.outgoing).length===0&&n.emit("outgoingEmpty")};e.default=r}),BS=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"__esModule",{value:!0});var t=po(),r=Ra(),n=(o,i)=>{let{options:s}=o,l=s.protocolVersion,a=l===5?i.reasonCode:i.returnCode;if(l!==5){let u=new t.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${l}`,a);o.emit("error",u);return}o.handleAuth(i,(u,c)=>{if(u){o.emit("error",u);return}if(a===24)o.reconnecting=!1,o._sendPacket(c);else{let f=new t.ErrorWithReasonCode(`Connection refused: ${r.ReasonCodes[a]}`,a);o.emit("error",f)}})};e.default=n}),LS=ve(e=>{var g,y,_,C,b,v,w,A,T,k,E,x,U,H,Q,P,V,te,J,ye,oe,j,Z,G,pe,S,Uh,ae,be,se,B,ov,Y,de,ie,wn,_n,Fh,bl,Sl,Ye,$h,Lo,F;ce(),fe(),he(),Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;var t=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,r=new Set,n=typeof Ue=="object"&&Ue?Ue:{},o=(K,N,$,q)=>{typeof n.emitWarning=="function"?n.emitWarning(K,N,$,q):console.error(`[${$}] ${N}: ${K}`)},i=globalThis.AbortController,s=globalThis.AbortSignal;if(typeof i>"u"){s=class{constructor(){Ze(this,"onabort");Ze(this,"_onabort",[]);Ze(this,"reason");Ze(this,"aborted",!1)}addEventListener($,q){this._onabort.push(q)}},i=class{constructor(){Ze(this,"signal",new s);N()}abort($){var q,ue;if(!this.signal.aborted){this.signal.reason=$,this.signal.aborted=!0;for(let d of this.signal._onabort)d($);(ue=(q=this.signal).onabort)==null||ue.call(q,$)}}};let K=((g=n.env)==null?void 0:g.LRU_CACHE_IGNORE_AC_WARNING)!=="1",N=()=>{K&&(K=!1,o("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",N))}}var l=K=>!r.has(K),a=K=>K&&K===Math.floor(K)&&K>0&&isFinite(K),u=K=>a(K)?K<=Math.pow(2,8)?Uint8Array:K<=Math.pow(2,16)?Uint16Array:K<=Math.pow(2,32)?Uint32Array:K<=Number.MAX_SAFE_INTEGER?c:null:null,c=class extends Array{constructor(K){super(K),this.fill(0)}},f=(y=class{constructor(N,$){Ze(this,"heap");Ze(this,"length");if(!L(y,_))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new $(N),this.length=0}static create(N){let $=u(N);if(!$)return[];Ie(y,_,!0);let q=new y(N,$);return Ie(y,_,!1),q}push(N){this.heap[this.length++]=N}pop(){return this.heap[--this.length]}},_=new WeakMap,je(y,_,!1),y),p=(F=class{constructor(N){je(this,S);je(this,C);je(this,b);je(this,v);je(this,w);je(this,A);Ze(this,"ttl");Ze(this,"ttlResolution");Ze(this,"ttlAutopurge");Ze(this,"updateAgeOnGet");Ze(this,"updateAgeOnHas");Ze(this,"allowStale");Ze(this,"noDisposeOnSet");Ze(this,"noUpdateTTL");Ze(this,"maxEntrySize");Ze(this,"sizeCalculation");Ze(this,"noDeleteOnFetchRejection");Ze(this,"noDeleteOnStaleGet");Ze(this,"allowStaleOnFetchAbort");Ze(this,"allowStaleOnFetchRejection");Ze(this,"ignoreFetchAbort");je(this,T);je(this,k);je(this,E);je(this,x);je(this,U);je(this,H);je(this,Q);je(this,P);je(this,V);je(this,te);je(this,J);je(this,ye);je(this,oe);je(this,j);je(this,Z);je(this,G);je(this,pe);je(this,ae,()=>{});je(this,be,()=>{});je(this,se,()=>{});je(this,B,()=>!1);je(this,Y,N=>{});je(this,de,(N,$,q)=>{});je(this,ie,(N,$,q,ue)=>{if(q||ue)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});let{max:$=0,ttl:q,ttlResolution:ue=1,ttlAutopurge:d,updateAgeOnGet:h,updateAgeOnHas:m,allowStale:I,dispose:O,disposeAfter:z,noDisposeOnSet:ne,noUpdateTTL:xe,maxSize:Re=0,maxEntrySize:Oe=0,sizeCalculation:Ce,fetchMethod:Te,noDeleteOnFetchRejection:Pe,noDeleteOnStaleGet:Ve,allowStaleOnFetchRejection:mt,allowStaleOnFetchAbort:lt,ignoreFetchAbort:bt}=N;if($!==0&&!a($))throw new TypeError("max option must be a nonnegative integer");let Lt=$?u($):Array;if(!Lt)throw new Error("invalid max value: "+$);if(Ie(this,C,$),Ie(this,b,Re),this.maxEntrySize=Oe||L(this,b),this.sizeCalculation=Ce,this.sizeCalculation){if(!L(this,b)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(Te!==void 0&&typeof Te!="function")throw new TypeError("fetchMethod must be a function if specified");if(Ie(this,A,Te),Ie(this,G,!!Te),Ie(this,E,new Map),Ie(this,x,new Array($).fill(void 0)),Ie(this,U,new Array($).fill(void 0)),Ie(this,H,new Lt($)),Ie(this,Q,new Lt($)),Ie(this,P,0),Ie(this,V,0),Ie(this,te,f.create($)),Ie(this,T,0),Ie(this,k,0),typeof O=="function"&&Ie(this,v,O),typeof z=="function"?(Ie(this,w,z),Ie(this,J,[])):(Ie(this,w,void 0),Ie(this,J,void 0)),Ie(this,Z,!!L(this,v)),Ie(this,pe,!!L(this,w)),this.noDisposeOnSet=!!ne,this.noUpdateTTL=!!xe,this.noDeleteOnFetchRejection=!!Pe,this.allowStaleOnFetchRejection=!!mt,this.allowStaleOnFetchAbort=!!lt,this.ignoreFetchAbort=!!bt,this.maxEntrySize!==0){if(L(this,b)!==0&&!a(L(this,b)))throw new TypeError("maxSize must be a positive integer if specified");if(!a(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");Ae(this,S,ov).call(this)}if(this.allowStale=!!I,this.noDeleteOnStaleGet=!!Ve,this.updateAgeOnGet=!!h,this.updateAgeOnHas=!!m,this.ttlResolution=a(ue)||ue===0?ue:1,this.ttlAutopurge=!!d,this.ttl=q||0,this.ttl){if(!a(this.ttl))throw new TypeError("ttl must be a positive integer if specified");Ae(this,S,Uh).call(this)}if(L(this,C)===0&&this.ttl===0&&L(this,b)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!L(this,C)&&!L(this,b)){let gt="LRU_CACHE_UNBOUNDED";l(gt)&&(r.add(gt),o("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",gt,F))}}static unsafeExposeInternals(N){return{starts:L(N,oe),ttls:L(N,j),sizes:L(N,ye),keyMap:L(N,E),keyList:L(N,x),valList:L(N,U),next:L(N,H),prev:L(N,Q),get head(){return L(N,P)},get tail(){return L(N,V)},free:L(N,te),isBackgroundFetch:$=>{var q;return Ae(q=N,S,Ye).call(q,$)},backgroundFetch:($,q,ue,d)=>{var h;return Ae(h=N,S,Sl).call(h,$,q,ue,d)},moveToTail:$=>{var q;return Ae(q=N,S,Lo).call(q,$)},indexes:$=>{var q;return Ae(q=N,S,wn).call(q,$)},rindexes:$=>{var q;return Ae(q=N,S,_n).call(q,$)},isStale:$=>{var q;return L(q=N,B).call(q,$)}}}get max(){return L(this,C)}get maxSize(){return L(this,b)}get calculatedSize(){return L(this,k)}get size(){return L(this,T)}get fetchMethod(){return L(this,A)}get dispose(){return L(this,v)}get disposeAfter(){return L(this,w)}getRemainingTTL(N){return L(this,E).has(N)?1/0:0}*entries(){for(let N of Ae(this,S,wn).call(this))L(this,U)[N]!==void 0&&L(this,x)[N]!==void 0&&!Ae(this,S,Ye).call(this,L(this,U)[N])&&(yield[L(this,x)[N],L(this,U)[N]])}*rentries(){for(let N of Ae(this,S,_n).call(this))L(this,U)[N]!==void 0&&L(this,x)[N]!==void 0&&!Ae(this,S,Ye).call(this,L(this,U)[N])&&(yield[L(this,x)[N],L(this,U)[N]])}*keys(){for(let N of Ae(this,S,wn).call(this)){let $=L(this,x)[N];$!==void 0&&!Ae(this,S,Ye).call(this,L(this,U)[N])&&(yield $)}}*rkeys(){for(let N of Ae(this,S,_n).call(this)){let $=L(this,x)[N];$!==void 0&&!Ae(this,S,Ye).call(this,L(this,U)[N])&&(yield $)}}*values(){for(let N of Ae(this,S,wn).call(this))L(this,U)[N]!==void 0&&!Ae(this,S,Ye).call(this,L(this,U)[N])&&(yield L(this,U)[N])}*rvalues(){for(let N of Ae(this,S,_n).call(this))L(this,U)[N]!==void 0&&!Ae(this,S,Ye).call(this,L(this,U)[N])&&(yield L(this,U)[N])}[Symbol.iterator](){return this.entries()}find(N,$={}){for(let q of Ae(this,S,wn).call(this)){let ue=L(this,U)[q],d=Ae(this,S,Ye).call(this,ue)?ue.__staleWhileFetching:ue;if(d!==void 0&&N(d,L(this,x)[q],this))return this.get(L(this,x)[q],$)}}forEach(N,$=this){for(let q of Ae(this,S,wn).call(this)){let ue=L(this,U)[q],d=Ae(this,S,Ye).call(this,ue)?ue.__staleWhileFetching:ue;d!==void 0&&N.call($,d,L(this,x)[q],this)}}rforEach(N,$=this){for(let q of Ae(this,S,_n).call(this)){let ue=L(this,U)[q],d=Ae(this,S,Ye).call(this,ue)?ue.__staleWhileFetching:ue;d!==void 0&&N.call($,d,L(this,x)[q],this)}}purgeStale(){let N=!1;for(let $ of Ae(this,S,_n).call(this,{allowStale:!0}))L(this,B).call(this,$)&&(this.delete(L(this,x)[$]),N=!0);return N}dump(){let N=[];for(let $ of Ae(this,S,wn).call(this,{allowStale:!0})){let q=L(this,x)[$],ue=L(this,U)[$],d=Ae(this,S,Ye).call(this,ue)?ue.__staleWhileFetching:ue;if(d===void 0||q===void 0)continue;let h={value:d};if(L(this,j)&&L(this,oe)){h.ttl=L(this,j)[$];let m=t.now()-L(this,oe)[$];h.start=Math.floor(Date.now()-m)}L(this,ye)&&(h.size=L(this,ye)[$]),N.unshift([q,h])}return N}load(N){this.clear();for(let[$,q]of N){if(q.start){let ue=Date.now()-q.start;q.start=t.now()-ue}this.set($,q.value,q)}}set(N,$,q={}){var xe,Re,Oe,Ce,Te;if($===void 0)return this.delete(N),this;let{ttl:ue=this.ttl,start:d,noDisposeOnSet:h=this.noDisposeOnSet,sizeCalculation:m=this.sizeCalculation,status:I}=q,{noUpdateTTL:O=this.noUpdateTTL}=q,z=L(this,ie).call(this,N,$,q.size||0,m);if(this.maxEntrySize&&z>this.maxEntrySize)return I&&(I.set="miss",I.maxEntrySizeExceeded=!0),this.delete(N),this;let ne=L(this,T)===0?void 0:L(this,E).get(N);if(ne===void 0)ne=L(this,T)===0?L(this,V):L(this,te).length!==0?L(this,te).pop():L(this,T)===L(this,C)?Ae(this,S,bl).call(this,!1):L(this,T),L(this,x)[ne]=N,L(this,U)[ne]=$,L(this,E).set(N,ne),L(this,H)[L(this,V)]=ne,L(this,Q)[ne]=L(this,V),Ie(this,V,ne),Rs(this,T)._++,L(this,de).call(this,ne,z,I),I&&(I.set="add"),O=!1;else{Ae(this,S,Lo).call(this,ne);let Pe=L(this,U)[ne];if($!==Pe){if(L(this,G)&&Ae(this,S,Ye).call(this,Pe)){Pe.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:Ve}=Pe;Ve!==void 0&&!h&&(L(this,Z)&&((xe=L(this,v))==null||xe.call(this,Ve,N,"set")),L(this,pe)&&((Re=L(this,J))==null||Re.push([Ve,N,"set"])))}else h||(L(this,Z)&&((Oe=L(this,v))==null||Oe.call(this,Pe,N,"set")),L(this,pe)&&((Ce=L(this,J))==null||Ce.push([Pe,N,"set"])));if(L(this,Y).call(this,ne),L(this,de).call(this,ne,z,I),L(this,U)[ne]=$,I){I.set="replace";let Ve=Pe&&Ae(this,S,Ye).call(this,Pe)?Pe.__staleWhileFetching:Pe;Ve!==void 0&&(I.oldValue=Ve)}}else I&&(I.set="update")}if(ue!==0&&!L(this,j)&&Ae(this,S,Uh).call(this),L(this,j)&&(O||L(this,se).call(this,ne,ue,d),I&&L(this,be).call(this,I,ne)),!h&&L(this,pe)&&L(this,J)){let Pe=L(this,J),Ve;for(;Ve=Pe==null?void 0:Pe.shift();)(Te=L(this,w))==null||Te.call(this,...Ve)}return this}pop(){var N;try{for(;L(this,T);){let $=L(this,U)[L(this,P)];if(Ae(this,S,bl).call(this,!0),Ae(this,S,Ye).call(this,$)){if($.__staleWhileFetching)return $.__staleWhileFetching}else if($!==void 0)return $}}finally{if(L(this,pe)&&L(this,J)){let $=L(this,J),q;for(;q=$==null?void 0:$.shift();)(N=L(this,w))==null||N.call(this,...q)}}}has(N,$={}){let{updateAgeOnHas:q=this.updateAgeOnHas,status:ue}=$,d=L(this,E).get(N);if(d!==void 0){let h=L(this,U)[d];if(Ae(this,S,Ye).call(this,h)&&h.__staleWhileFetching===void 0)return!1;if(L(this,B).call(this,d))ue&&(ue.has="stale",L(this,be).call(this,ue,d));else return q&&L(this,ae).call(this,d),ue&&(ue.has="hit",L(this,be).call(this,ue,d)),!0}else ue&&(ue.has="miss");return!1}peek(N,$={}){let{allowStale:q=this.allowStale}=$,ue=L(this,E).get(N);if(ue!==void 0&&(q||!L(this,B).call(this,ue))){let d=L(this,U)[ue];return Ae(this,S,Ye).call(this,d)?d.__staleWhileFetching:d}}async fetch(N,$={}){let{allowStale:q=this.allowStale,updateAgeOnGet:ue=this.updateAgeOnGet,noDeleteOnStaleGet:d=this.noDeleteOnStaleGet,ttl:h=this.ttl,noDisposeOnSet:m=this.noDisposeOnSet,size:I=0,sizeCalculation:O=this.sizeCalculation,noUpdateTTL:z=this.noUpdateTTL,noDeleteOnFetchRejection:ne=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:xe=this.allowStaleOnFetchRejection,ignoreFetchAbort:Re=this.ignoreFetchAbort,allowStaleOnFetchAbort:Oe=this.allowStaleOnFetchAbort,context:Ce,forceRefresh:Te=!1,status:Pe,signal:Ve}=$;if(!L(this,G))return Pe&&(Pe.fetch="get"),this.get(N,{allowStale:q,updateAgeOnGet:ue,noDeleteOnStaleGet:d,status:Pe});let mt={allowStale:q,updateAgeOnGet:ue,noDeleteOnStaleGet:d,ttl:h,noDisposeOnSet:m,size:I,sizeCalculation:O,noUpdateTTL:z,noDeleteOnFetchRejection:ne,allowStaleOnFetchRejection:xe,allowStaleOnFetchAbort:Oe,ignoreFetchAbort:Re,status:Pe,signal:Ve},lt=L(this,E).get(N);if(lt===void 0){Pe&&(Pe.fetch="miss");let bt=Ae(this,S,Sl).call(this,N,lt,mt,Ce);return bt.__returned=bt}else{let bt=L(this,U)[lt];if(Ae(this,S,Ye).call(this,bt)){let $d=q&&bt.__staleWhileFetching!==void 0;return Pe&&(Pe.fetch="inflight",$d&&(Pe.returnedStale=!0)),$d?bt.__staleWhileFetching:bt.__returned=bt}let Lt=L(this,B).call(this,lt);if(!Te&&!Lt)return Pe&&(Pe.fetch="hit"),Ae(this,S,Lo).call(this,lt),ue&&L(this,ae).call(this,lt),Pe&&L(this,be).call(this,Pe,lt),bt;let gt=Ae(this,S,Sl).call(this,N,lt,mt,Ce),Fd=gt.__staleWhileFetching!==void 0&&q;return Pe&&(Pe.fetch=Lt?"stale":"refresh",Fd&&Lt&&(Pe.returnedStale=!0)),Fd?gt.__staleWhileFetching:gt.__returned=gt}}get(N,$={}){let{allowStale:q=this.allowStale,updateAgeOnGet:ue=this.updateAgeOnGet,noDeleteOnStaleGet:d=this.noDeleteOnStaleGet,status:h}=$,m=L(this,E).get(N);if(m!==void 0){let I=L(this,U)[m],O=Ae(this,S,Ye).call(this,I);return h&&L(this,be).call(this,h,m),L(this,B).call(this,m)?(h&&(h.get="stale"),O?(h&&q&&I.__staleWhileFetching!==void 0&&(h.returnedStale=!0),q?I.__staleWhileFetching:void 0):(d||this.delete(N),h&&q&&(h.returnedStale=!0),q?I:void 0)):(h&&(h.get="hit"),O?I.__staleWhileFetching:(Ae(this,S,Lo).call(this,m),ue&&L(this,ae).call(this,m),I))}else h&&(h.get="miss")}delete(N){var q,ue,d,h;let $=!1;if(L(this,T)!==0){let m=L(this,E).get(N);if(m!==void 0)if($=!0,L(this,T)===1)this.clear();else{L(this,Y).call(this,m);let I=L(this,U)[m];Ae(this,S,Ye).call(this,I)?I.__abortController.abort(new Error("deleted")):(L(this,Z)||L(this,pe))&&(L(this,Z)&&((q=L(this,v))==null||q.call(this,I,N,"delete")),L(this,pe)&&((ue=L(this,J))==null||ue.push([I,N,"delete"]))),L(this,E).delete(N),L(this,x)[m]=void 0,L(this,U)[m]=void 0,m===L(this,V)?Ie(this,V,L(this,Q)[m]):m===L(this,P)?Ie(this,P,L(this,H)[m]):(L(this,H)[L(this,Q)[m]]=L(this,H)[m],L(this,Q)[L(this,H)[m]]=L(this,Q)[m]),Rs(this,T)._--,L(this,te).push(m)}}if(L(this,pe)&&((d=L(this,J))!=null&&d.length)){let m=L(this,J),I;for(;I=m==null?void 0:m.shift();)(h=L(this,w))==null||h.call(this,...I)}return $}clear(){var N,$,q;for(let ue of Ae(this,S,_n).call(this,{allowStale:!0})){let d=L(this,U)[ue];if(Ae(this,S,Ye).call(this,d))d.__abortController.abort(new Error("deleted"));else{let h=L(this,x)[ue];L(this,Z)&&((N=L(this,v))==null||N.call(this,d,h,"delete")),L(this,pe)&&(($=L(this,J))==null||$.push([d,h,"delete"]))}}if(L(this,E).clear(),L(this,U).fill(void 0),L(this,x).fill(void 0),L(this,j)&&L(this,oe)&&(L(this,j).fill(0),L(this,oe).fill(0)),L(this,ye)&&L(this,ye).fill(0),Ie(this,P,0),Ie(this,V,0),L(this,te).length=0,Ie(this,k,0),Ie(this,T,0),L(this,pe)&&L(this,J)){let ue=L(this,J),d;for(;d=ue==null?void 0:ue.shift();)(q=L(this,w))==null||q.call(this,...d)}}},C=new WeakMap,b=new WeakMap,v=new WeakMap,w=new WeakMap,A=new WeakMap,T=new WeakMap,k=new WeakMap,E=new WeakMap,x=new WeakMap,U=new WeakMap,H=new WeakMap,Q=new WeakMap,P=new WeakMap,V=new WeakMap,te=new WeakMap,J=new WeakMap,ye=new WeakMap,oe=new WeakMap,j=new WeakMap,Z=new WeakMap,G=new WeakMap,pe=new WeakMap,S=new WeakSet,Uh=function(){let N=new c(L(this,C)),$=new c(L(this,C));Ie(this,j,N),Ie(this,oe,$),Ie(this,se,(d,h,m=t.now())=>{if($[d]=h!==0?m:0,N[d]=h,h!==0&&this.ttlAutopurge){let I=setTimeout(()=>{L(this,B).call(this,d)&&this.delete(L(this,x)[d])},h+1);I.unref&&I.unref()}}),Ie(this,ae,d=>{$[d]=N[d]!==0?t.now():0}),Ie(this,be,(d,h)=>{if(N[h]){let m=N[h],I=$[h];d.ttl=m,d.start=I,d.now=q||ue();let O=d.now-I;d.remainingTTL=m-O}});let q=0,ue=()=>{let d=t.now();if(this.ttlResolution>0){q=d;let h=setTimeout(()=>q=0,this.ttlResolution);h.unref&&h.unref()}return d};this.getRemainingTTL=d=>{let h=L(this,E).get(d);if(h===void 0)return 0;let m=N[h],I=$[h];if(m===0||I===0)return 1/0;let O=(q||ue())-I;return m-O},Ie(this,B,d=>N[d]!==0&&$[d]!==0&&(q||ue())-$[d]>N[d])},ae=new WeakMap,be=new WeakMap,se=new WeakMap,B=new WeakMap,ov=function(){let N=new c(L(this,C));Ie(this,k,0),Ie(this,ye,N),Ie(this,Y,$=>{Ie(this,k,L(this,k)-N[$]),N[$]=0}),Ie(this,ie,($,q,ue,d)=>{if(Ae(this,S,Ye).call(this,q))return 0;if(!a(ue))if(d){if(typeof d!="function")throw new TypeError("sizeCalculation must be a function");if(ue=d(q,$),!a(ue))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return ue}),Ie(this,de,($,q,ue)=>{if(N[$]=q,L(this,b)){let d=L(this,b)-N[$];for(;L(this,k)>d;)Ae(this,S,bl).call(this,!0)}Ie(this,k,L(this,k)+N[$]),ue&&(ue.entrySize=q,ue.totalCalculatedSize=L(this,k))})},Y=new WeakMap,de=new WeakMap,ie=new WeakMap,wn=function*({allowStale:N=this.allowStale}={}){if(L(this,T))for(let $=L(this,V);!(!Ae(this,S,Fh).call(this,$)||((N||!L(this,B).call(this,$))&&(yield $),$===L(this,P)));)$=L(this,Q)[$]},_n=function*({allowStale:N=this.allowStale}={}){if(L(this,T))for(let $=L(this,P);!(!Ae(this,S,Fh).call(this,$)||((N||!L(this,B).call(this,$))&&(yield $),$===L(this,V)));)$=L(this,H)[$]},Fh=function(N){return N!==void 0&&L(this,E).get(L(this,x)[N])===N},bl=function(N){var d,h;let $=L(this,P),q=L(this,x)[$],ue=L(this,U)[$];return L(this,G)&&Ae(this,S,Ye).call(this,ue)?ue.__abortController.abort(new Error("evicted")):(L(this,Z)||L(this,pe))&&(L(this,Z)&&((d=L(this,v))==null||d.call(this,ue,q,"evict")),L(this,pe)&&((h=L(this,J))==null||h.push([ue,q,"evict"]))),L(this,Y).call(this,$),N&&(L(this,x)[$]=void 0,L(this,U)[$]=void 0,L(this,te).push($)),L(this,T)===1?(Ie(this,P,Ie(this,V,0)),L(this,te).length=0):Ie(this,P,L(this,H)[$]),L(this,E).delete(q),Rs(this,T)._--,$},Sl=function(N,$,q,ue){let d=$===void 0?void 0:L(this,U)[$];if(Ae(this,S,Ye).call(this,d))return d;let h=new i,{signal:m}=q;m==null||m.addEventListener("abort",()=>h.abort(m.reason),{signal:h.signal});let I={signal:h.signal,options:q,context:ue},O=(Ce,Te=!1)=>{let{aborted:Pe}=h.signal,Ve=q.ignoreFetchAbort&&Ce!==void 0;if(q.status&&(Pe&&!Te?(q.status.fetchAborted=!0,q.status.fetchError=h.signal.reason,Ve&&(q.status.fetchAbortIgnored=!0)):q.status.fetchResolved=!0),Pe&&!Ve&&!Te)return ne(h.signal.reason);let mt=Re;return L(this,U)[$]===Re&&(Ce===void 0?mt.__staleWhileFetching?L(this,U)[$]=mt.__staleWhileFetching:this.delete(N):(q.status&&(q.status.fetchUpdated=!0),this.set(N,Ce,I.options))),Ce},z=Ce=>(q.status&&(q.status.fetchRejected=!0,q.status.fetchError=Ce),ne(Ce)),ne=Ce=>{let{aborted:Te}=h.signal,Pe=Te&&q.allowStaleOnFetchAbort,Ve=Pe||q.allowStaleOnFetchRejection,mt=Ve||q.noDeleteOnFetchRejection,lt=Re;if(L(this,U)[$]===Re&&(!mt||lt.__staleWhileFetching===void 0?this.delete(N):Pe||(L(this,U)[$]=lt.__staleWhileFetching)),Ve)return q.status&&lt.__staleWhileFetching!==void 0&&(q.status.returnedStale=!0),lt.__staleWhileFetching;if(lt.__returned===lt)throw Ce},xe=(Ce,Te)=>{var Ve;let Pe=(Ve=L(this,A))==null?void 0:Ve.call(this,N,d,I);Pe&&Pe instanceof Promise&&Pe.then(mt=>Ce(mt===void 0?void 0:mt),Te),h.signal.addEventListener("abort",()=>{(!q.ignoreFetchAbort||q.allowStaleOnFetchAbort)&&(Ce(void 0),q.allowStaleOnFetchAbort&&(Ce=mt=>O(mt,!0)))})};q.status&&(q.status.fetchDispatched=!0);let Re=new Promise(xe).then(O,z),Oe=Object.assign(Re,{__abortController:h,__staleWhileFetching:d,__returned:void 0});return $===void 0?(this.set(N,Oe,{...I.options,status:void 0}),$=L(this,E).get(N)):L(this,U)[$]=Oe,Oe},Ye=function(N){if(!L(this,G))return!1;let $=N;return!!$&&$ instanceof Promise&&$.hasOwnProperty("__staleWhileFetching")&&$.__abortController instanceof i},$h=function(N,$){L(this,Q)[$]=N,L(this,H)[N]=$},Lo=function(N){N!==L(this,V)&&(N===L(this,P)?Ie(this,P,L(this,H)[N]):Ae(this,S,$h).call(this,L(this,Q)[N],L(this,H)[N]),Ae(this,S,$h).call(this,L(this,V),N),Ie(this,V,N))},F);e.LRUCache=p}),pn=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"t",{value:!0}),e.ContainerIterator=e.Container=e.Base=void 0;var t=class{constructor(o=0){this.iteratorType=o}equals(o){return this.o===o.o}};e.ContainerIterator=t;var r=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};e.Base=r;var n=class extends r{};e.Container=n}),jS=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=pn(),r=class extends t.Base{constructor(o=[]){super(),this.S=[];let i=this;o.forEach(function(s){i.push(s)})}clear(){this.i=0,this.S=[]}push(o){return this.S.push(o),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},n=r;e.default=n}),US=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=pn(),r=class extends t.Base{constructor(o=[]){super(),this.j=0,this.q=[];let i=this;o.forEach(function(s){i.push(s)})}clear(){this.q=[],this.i=this.j=0}push(o){let i=this.q.length;if(this.j/i>.5&&this.j+this.i>=i&&i>4096){let s=this.i;for(let l=0;l<s;++l)this.q[l]=this.q[this.j+l];this.j=0,this.q[this.i]=o}else this.q[this.j+this.i]=o;return++this.i}pop(){if(this.i===0)return;let o=this.q[this.j++];return this.i-=1,o}front(){if(this.i!==0)return this.q[this.j]}},n=r;e.default=n}),FS=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=pn(),r=class extends t.Base{constructor(o=[],i=function(l,a){return l>a?-1:l<a?1:0},s=!0){if(super(),this.v=i,Array.isArray(o))this.C=s?[...o]:o;else{this.C=[];let a=this;o.forEach(function(u){a.C.push(u)})}this.i=this.C.length;let l=this.i>>1;for(let a=this.i-1>>1;a>=0;--a)this.k(a,l)}m(o){let i=this.C[o];for(;o>0;){let s=o-1>>1,l=this.C[s];if(this.v(l,i)<=0)break;this.C[o]=l,o=s}this.C[o]=i}k(o,i){let s=this.C[o];for(;o<i;){let l=o<<1|1,a=l+1,u=this.C[l];if(a<this.i&&this.v(u,this.C[a])>0&&(l=a,u=this.C[a]),this.v(u,s)>=0)break;this.C[o]=u,o=l}this.C[o]=s}clear(){this.i=0,this.C.length=0}push(o){this.C.push(o),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let o=this.C[0],i=this.C.pop();return this.i-=1,this.i&&(this.C[0]=i,this.k(0,this.i>>1)),o}top(){return this.C[0]}find(o){return this.C.indexOf(o)>=0}remove(o){let i=this.C.indexOf(o);return i<0?!1:(i===0?this.pop():i===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(i,1,this.C.pop()),this.i-=1,this.m(i),this.k(i,this.i>>1)),!0)}updateItem(o){let i=this.C.indexOf(o);return i<0?!1:(this.m(i),this.k(i,this.i>>1),!0)}toArray(){return[...this.C]}},n=r;e.default=n}),dd=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=pn(),r=class extends t.Container{},n=r;e.default=n}),mn=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"t",{value:!0}),e.throwIteratorAccessError=t;function t(){throw new RangeError("Iterator access denied!")}}),sv=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"t",{value:!0}),e.RandomIterator=void 0;var t=pn(),r=mn(),n=class extends t.ContainerIterator{constructor(o,i){super(i),this.o=o,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,r.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,r.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,r.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,r.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(o){this.container.setElementByPos(this.o,o)}};e.RandomIterator=n}),$S=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=n(dd()),r=sv();function n(l){return l&&l.t?l:{default:l}}var o=class lv extends r.RandomIterator{constructor(a,u,c){super(a,c),this.container=u}copy(){return new lv(this.o,this.container,this.iteratorType)}},i=class extends t.default{constructor(l=[],a=!0){if(super(),Array.isArray(l))this.J=a?[...l]:l,this.i=l.length;else{this.J=[];let u=this;l.forEach(function(c){u.pushBack(c)})}}clear(){this.i=0,this.J.length=0}begin(){return new o(0,this)}end(){return new o(this.i,this)}rBegin(){return new o(this.i-1,this,1)}rEnd(){return new o(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;return this.J[l]}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;return this.J.splice(l,1),this.i-=1,this.i}eraseElementByValue(l){let a=0;for(let u=0;u<this.i;++u)this.J[u]!==l&&(this.J[a++]=this.J[u]);return this.i=this.J.length=a,this.i}eraseElementByIterator(l){let a=l.o;return l=l.next(),this.eraseElementByPos(a),l}pushBack(l){return this.J.push(l),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(l,a){if(l<0||l>this.i-1)throw new RangeError;this.J[l]=a}insert(l,a,u=1){if(l<0||l>this.i)throw new RangeError;return this.J.splice(l,0,...new Array(u).fill(a)),this.i+=u,this.i}find(l){for(let a=0;a<this.i;++a)if(this.J[a]===l)return new o(a,this);return this.end()}reverse(){this.J.reverse()}unique(){let l=1;for(let a=1;a<this.i;++a)this.J[a]!==this.J[a-1]&&(this.J[l++]=this.J[a]);return this.i=this.J.length=l,this.i}sort(l){this.J.sort(l)}forEach(l){for(let a=0;a<this.i;++a)l(this.J[a],a,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},s=i;e.default=s}),DS=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=o(dd()),r=pn(),n=mn();function o(a){return a&&a.t?a:{default:a}}var i=class av extends r.ContainerIterator{constructor(u,c,f,p){super(p),this.o=u,this.h=c,this.container=f,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.l}set pointer(u){this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.l=u}copy(){return new av(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.default{constructor(a=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let u=this;a.forEach(function(c){u.pushBack(c)})}V(a){let{L:u,B:c}=a;u.B=c,c.L=u,a===this.p&&(this.p=c),a===this._&&(this._=u),this.i-=1}G(a,u){let c=u.B,f={l:a,L:u,B:c};u.B=f,c.L=f,u===this.h&&(this.p=f),c===this.h&&(this._=f),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new i(this.p,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this._,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let u=this.p;for(;a--;)u=u.B;return u.l}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let u=this.p;for(;a--;)u=u.B;return this.V(u),this.i}eraseElementByValue(a){let u=this.p;for(;u!==this.h;)u.l===a&&this.V(u),u=u.B;return this.i}eraseElementByIterator(a){let u=a.o;return u===this.h&&(0,n.throwIteratorAccessError)(),a=a.next(),this.V(u),a}pushBack(a){return this.G(a,this._),this.i}popBack(){if(this.i===0)return;let a=this._.l;return this.V(this._),a}pushFront(a){return this.G(a,this.h),this.i}popFront(){if(this.i===0)return;let a=this.p.l;return this.V(this.p),a}setElementByPos(a,u){if(a<0||a>this.i-1)throw new RangeError;let c=this.p;for(;a--;)c=c.B;c.l=u}insert(a,u,c=1){if(a<0||a>this.i)throw new RangeError;if(c<=0)return this.i;if(a===0)for(;c--;)this.pushFront(u);else if(a===this.i)for(;c--;)this.pushBack(u);else{let f=this.p;for(let g=1;g<a;++g)f=f.B;let p=f.B;for(this.i+=c;c--;)f.B={l:u,L:f},f.B.L=f,f=f.B;f.B=p,p.L=f}return this.i}find(a){let u=this.p;for(;u!==this.h;){if(u.l===a)return new i(u,this.h,this);u=u.B}return this.end()}reverse(){if(this.i<=1)return;let a=this.p,u=this._,c=0;for(;c<<1<this.i;){let f=a.l;a.l=u.l,u.l=f,a=a.B,u=u.L,c+=1}}unique(){if(this.i<=1)return this.i;let a=this.p;for(;a!==this.h;){let u=a;for(;u.B!==this.h&&u.l===u.B.l;)u=u.B,this.i-=1;a.B=u.B,a.B.L=a,a=a.B}return this.i}sort(a){if(this.i<=1)return;let u=[];this.forEach(function(f){u.push(f)}),u.sort(a);let c=this.p;u.forEach(function(f){c.l=f,c=c.B})}merge(a){let u=this;if(this.i===0)a.forEach(function(c){u.pushBack(c)});else{let c=this.p;a.forEach(function(f){for(;c!==u.h&&c.l<=f;)c=c.B;u.G(f,c.L)})}return this.i}forEach(a){let u=this.p,c=0;for(;u!==this.h;)a(u.l,c++,this),u=u.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let a=this.p;for(;a!==this.h;)yield a.l,a=a.B}).bind(this)()}},l=s;e.default=l}),WS=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=n(dd()),r=sv();function n(l){return l&&l.t?l:{default:l}}var o=class uv extends r.RandomIterator{constructor(a,u,c){super(a,c),this.container=u}copy(){return new uv(this.o,this.container,this.iteratorType)}},i=class extends t.default{constructor(l=[],a=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let u=(()=>{if(typeof l.length=="number")return l.length;if(typeof l.size=="number")return l.size;if(typeof l.size=="function")return l.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=a,this.P=Math.max(Math.ceil(u/this.F),1);for(let p=0;p<this.P;++p)this.A.push(new Array(this.F));let c=Math.ceil(u/this.F);this.j=this.R=(this.P>>1)-(c>>1),this.D=this.N=this.F-u%this.F>>1;let f=this;l.forEach(function(p){f.pushBack(p)})}T(){let l=[],a=Math.max(this.P>>1,1);for(let u=0;u<a;++u)l[u]=new Array(this.F);for(let u=this.j;u<this.P;++u)l[l.length]=this.A[u];for(let u=0;u<this.R;++u)l[l.length]=this.A[u];l[l.length]=[...this.A[this.R]],this.j=a,this.R=l.length-1;for(let u=0;u<a;++u)l[l.length]=new Array(this.F);this.A=l,this.P=l.length}O(l){let a=this.D+l+1,u=a%this.F,c=u-1,f=this.j+(a-u)/this.F;return u===0&&(f-=1),f%=this.P,c<0&&(c+=this.F),{curNodeBucketIndex:f,curNodePointerIndex:c}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new o(0,this)}end(){return new o(this.i,this)}rBegin(){return new o(this.i-1,this,1)}rEnd(){return new o(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(l){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=l,this.i}popBack(){if(this.i===0)return;let l=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,l}pushFront(l){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=l,this.i}popFront(){if(this.i===0)return;let l=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,l}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let{curNodeBucketIndex:a,curNodePointerIndex:u}=this.O(l);return this.A[a][u]}setElementByPos(l,a){if(l<0||l>this.i-1)throw new RangeError;let{curNodeBucketIndex:u,curNodePointerIndex:c}=this.O(l);this.A[u][c]=a}insert(l,a,u=1){if(l<0||l>this.i)throw new RangeError;if(l===0)for(;u--;)this.pushFront(a);else if(l===this.i)for(;u--;)this.pushBack(a);else{let c=[];for(let f=l;f<this.i;++f)c.push(this.getElementByPos(f));this.cut(l-1);for(let f=0;f<u;++f)this.pushBack(a);for(let f=0;f<c.length;++f)this.pushBack(c[f])}return this.i}cut(l){if(l<0)return this.clear(),0;let{curNodeBucketIndex:a,curNodePointerIndex:u}=this.O(l);return this.R=a,this.N=u,this.i=l+1,this.i}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;if(l===0)this.popFront();else if(l===this.i-1)this.popBack();else{let a=[];for(let c=l+1;c<this.i;++c)a.push(this.getElementByPos(c));this.cut(l),this.popBack();let u=this;a.forEach(function(c){u.pushBack(c)})}return this.i}eraseElementByValue(l){if(this.i===0)return 0;let a=[];for(let c=0;c<this.i;++c){let f=this.getElementByPos(c);f!==l&&a.push(f)}let u=a.length;for(let c=0;c<u;++c)this.setElementByPos(c,a[c]);return this.cut(u-1)}eraseElementByIterator(l){let a=l.o;return this.eraseElementByPos(a),l=l.next(),l}find(l){for(let a=0;a<this.i;++a)if(this.getElementByPos(a)===l)return new o(a,this);return this.end()}reverse(){let l=0,a=this.i-1;for(;l<a;){let u=this.getElementByPos(l);this.setElementByPos(l,this.getElementByPos(a)),this.setElementByPos(a,u),l+=1,a-=1}}unique(){if(this.i<=1)return this.i;let l=1,a=this.getElementByPos(0);for(let u=1;u<this.i;++u){let c=this.getElementByPos(u);c!==a&&(a=c,this.setElementByPos(l++,c))}for(;this.i>l;)this.popBack();return this.i}sort(l){let a=[];for(let u=0;u<this.i;++u)a.push(this.getElementByPos(u));a.sort(l);for(let u=0;u<this.i;++u)this.setElementByPos(u,a[u])}shrinkToFit(){if(this.i===0)return;let l=[];this.forEach(function(a){l.push(a)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let a=0;a<this.P;++a)this.A.push(new Array(this.F));for(let a=0;a<l.length;++a)this.pushBack(l[a])}forEach(l){for(let a=0;a<this.i;++a)l(this.getElementByPos(a),a,this)}[Symbol.iterator](){return(function*(){for(let l=0;l<this.i;++l)yield this.getElementByPos(l)}).bind(this)()}},s=i;e.default=s}),zS=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"t",{value:!0}),e.TreeNodeEnableIndex=e.TreeNode=void 0;var t=class{constructor(n,o){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=n,this.l=o}L(){let n=this;if(n.ee===1&&n.tt.tt===n)n=n.W;else if(n.U)for(n=n.U;n.W;)n=n.W;else{let o=n.tt;for(;o.U===n;)n=o,o=n.tt;n=o}return n}B(){let n=this;if(n.W){for(n=n.W;n.U;)n=n.U;return n}else{let o=n.tt;for(;o.W===n;)n=o,o=n.tt;return n.W!==o?o:n}}te(){let n=this.tt,o=this.W,i=o.U;return n.tt===this?n.tt=o:n.U===this?n.U=o:n.W=o,o.tt=n,o.U=this,this.tt=o,this.W=i,i&&(i.tt=this),o}se(){let n=this.tt,o=this.U,i=o.W;return n.tt===this?n.tt=o:n.U===this?n.U=o:n.W=o,o.tt=n,o.W=this,this.tt=o,this.U=i,i&&(i.tt=this),o}};e.TreeNode=t;var r=class extends t{constructor(){super(...arguments),this.rt=1}te(){let n=super.te();return this.ie(),n.ie(),n}se(){let n=super.se();return this.ie(),n.ie(),n}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};e.TreeNodeEnableIndex=r}),cv=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=zS(),r=pn(),n=mn(),o=class extends r.Container{constructor(s=function(a,u){return a<u?-1:a>u?1:0},l=!1){super(),this.Y=void 0,this.v=s,l?(this.re=t.TreeNodeEnableIndex,this.M=function(a,u,c){let f=this.ne(a,u,c);if(f){let p=f.tt;for(;p!==this.h;)p.rt+=1,p=p.tt;let g=this.he(f);if(g){let{parentNode:y,grandParent:_,curNode:C}=g;y.ie(),_.ie(),C.ie()}}return this.i},this.V=function(a){let u=this.fe(a);for(;u!==this.h;)u.rt-=1,u=u.tt}):(this.re=t.TreeNode,this.M=function(a,u,c){let f=this.ne(a,u,c);return f&&this.he(f),this.i},this.V=this.fe),this.h=new this.re}X(s,l){let a=this.h;for(;s;){let u=this.v(s.u,l);if(u<0)s=s.W;else if(u>0)a=s,s=s.U;else return s}return a}Z(s,l){let a=this.h;for(;s;)this.v(s.u,l)<=0?s=s.W:(a=s,s=s.U);return a}$(s,l){let a=this.h;for(;s;){let u=this.v(s.u,l);if(u<0)a=s,s=s.W;else if(u>0)s=s.U;else return s}return a}rr(s,l){let a=this.h;for(;s;)this.v(s.u,l)<0?(a=s,s=s.W):s=s.U;return a}ue(s){for(;;){let l=s.tt;if(l===this.h)return;if(s.ee===1){s.ee=0;return}if(s===l.U){let a=l.W;if(a.ee===1)a.ee=0,l.ee=1,l===this.Y?this.Y=l.te():l.te();else if(a.W&&a.W.ee===1){a.ee=l.ee,l.ee=0,a.W.ee=0,l===this.Y?this.Y=l.te():l.te();return}else a.U&&a.U.ee===1?(a.ee=1,a.U.ee=0,a.se()):(a.ee=1,s=l)}else{let a=l.U;if(a.ee===1)a.ee=0,l.ee=1,l===this.Y?this.Y=l.se():l.se();else if(a.U&&a.U.ee===1){a.ee=l.ee,l.ee=0,a.U.ee=0,l===this.Y?this.Y=l.se():l.se();return}else a.W&&a.W.ee===1?(a.ee=1,a.W.ee=0,a.te()):(a.ee=1,s=l)}}}fe(s){if(this.i===1)return this.clear(),this.h;let l=s;for(;l.U||l.W;){if(l.W)for(l=l.W;l.U;)l=l.U;else l=l.U;[s.u,l.u]=[l.u,s.u],[s.l,l.l]=[l.l,s.l],s=l}this.h.U===l?this.h.U=l.tt:this.h.W===l&&(this.h.W=l.tt),this.ue(l);let a=l.tt;return l===a.U?a.U=void 0:a.W=void 0,this.i-=1,this.Y.ee=0,a}oe(s,l){return s===void 0?!1:this.oe(s.U,l)||l(s)?!0:this.oe(s.W,l)}he(s){for(;;){let l=s.tt;if(l.ee===0)return;let a=l.tt;if(l===a.U){let u=a.W;if(u&&u.ee===1){if(u.ee=l.ee=0,a===this.Y)return;a.ee=1,s=a;continue}else if(s===l.W){if(s.ee=0,s.U&&(s.U.tt=l),s.W&&(s.W.tt=a),l.W=s.U,a.U=s.W,s.U=l,s.W=a,a===this.Y)this.Y=s,this.h.tt=s;else{let c=a.tt;c.U===a?c.U=s:c.W=s}return s.tt=a.tt,l.tt=s,a.tt=s,a.ee=1,{parentNode:l,grandParent:a,curNode:s}}else l.ee=0,a===this.Y?this.Y=a.se():a.se(),a.ee=1}else{let u=a.U;if(u&&u.ee===1){if(u.ee=l.ee=0,a===this.Y)return;a.ee=1,s=a;continue}else if(s===l.U){if(s.ee=0,s.U&&(s.U.tt=a),s.W&&(s.W.tt=l),a.W=s.U,l.U=s.W,s.U=a,s.W=l,a===this.Y)this.Y=s,this.h.tt=s;else{let c=a.tt;c.U===a?c.U=s:c.W=s}return s.tt=a.tt,l.tt=s,a.tt=s,a.ee=1,{parentNode:l,grandParent:a,curNode:s}}else l.ee=0,a===this.Y?this.Y=a.te():a.te(),a.ee=1}return}}ne(s,l,a){if(this.Y===void 0){this.i+=1,this.Y=new this.re(s,l),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let u,c=this.h.U,f=this.v(c.u,s);if(f===0){c.l=l;return}else if(f>0)c.U=new this.re(s,l),c.U.tt=c,u=c.U,this.h.U=u;else{let p=this.h.W,g=this.v(p.u,s);if(g===0){p.l=l;return}else if(g<0)p.W=new this.re(s,l),p.W.tt=p,u=p.W,this.h.W=u;else{if(a!==void 0){let y=a.o;if(y!==this.h){let _=this.v(y.u,s);if(_===0){y.l=l;return}else if(_>0){let C=y.L(),b=this.v(C.u,s);if(b===0){C.l=l;return}else b<0&&(u=new this.re(s,l),C.W===void 0?(C.W=u,u.tt=C):(y.U=u,u.tt=y))}}}if(u===void 0)for(u=this.Y;;){let y=this.v(u.u,s);if(y>0){if(u.U===void 0){u.U=new this.re(s,l),u.U.tt=u,u=u.U;break}u=u.U}else if(y<0){if(u.W===void 0){u.W=new this.re(s,l),u.W.tt=u,u=u.W;break}u=u.W}else{u.l=l;return}}}}return this.i+=1,u}I(s,l){for(;s;){let a=this.v(s.u,l);if(a<0)s=s.W;else if(a>0)s=s.U;else return s}return s||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(s,l){let a=s.o;if(a===this.h&&(0,n.throwIteratorAccessError)(),this.i===1)return a.u=l,!0;if(a===this.h.U)return this.v(a.B().u,l)>0?(a.u=l,!0):!1;if(a===this.h.W)return this.v(a.L().u,l)<0?(a.u=l,!0):!1;let u=a.L().u;if(this.v(u,l)>=0)return!1;let c=a.B().u;return this.v(c,l)<=0?!1:(a.u=l,!0)}eraseElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let l=0,a=this;return this.oe(this.Y,function(u){return s===l?(a.V(u),!0):(l+=1,!1)}),this.i}eraseElementByKey(s){if(this.i===0)return!1;let l=this.I(this.Y,s);return l===this.h?!1:(this.V(l),!0)}eraseElementByIterator(s){let l=s.o;l===this.h&&(0,n.throwIteratorAccessError)();let a=l.W===void 0;return s.iteratorType===0?a&&s.next():(!a||l.U===void 0)&&s.next(),this.V(l),s}forEach(s){let l=0;for(let a of this)s(a,l++,this)}getElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let l,a=0;for(let u of this){if(a===s){l=u;break}a+=1}return l}getHeight(){if(this.i===0)return 0;let s=function(l){return l?Math.max(s(l.U),s(l.W))+1:0};return s(this.Y)}},i=o;e.default=i}),hv=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=pn(),r=mn(),n=class extends t.ContainerIterator{constructor(i,s,l){super(l),this.o=i,this.h=s,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,r.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,r.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let i=this.o,s=this.h.tt;if(i===this.h)return s?s.rt-1:0;let l=0;for(i.U&&(l+=i.U.rt);i!==s;){let a=i.tt;i===a.W&&(l+=1,a.U&&(l+=a.U.rt)),i=a}return l}},o=n;e.default=o}),HS=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=o(cv()),r=o(hv()),n=mn();function o(a){return a&&a.t?a:{default:a}}var i=class fv extends r.default{constructor(u,c,f,p){super(u,c,p),this.container=f}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.u}copy(){return new fv(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.default{constructor(a=[],u,c){super(u,c);let f=this;a.forEach(function(p){f.insert(p)})}*K(a){a!==void 0&&(yield*this.K(a.U),yield a.u,yield*this.K(a.W))}begin(){return new i(this.h.U||this.h,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this.h.W||this.h,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(a,u){return this.M(a,void 0,u)}find(a){let u=this.I(this.Y,a);return new i(u,this.h,this)}lowerBound(a){let u=this.X(this.Y,a);return new i(u,this.h,this)}upperBound(a){let u=this.Z(this.Y,a);return new i(u,this.h,this)}reverseLowerBound(a){let u=this.$(this.Y,a);return new i(u,this.h,this)}reverseUpperBound(a){let u=this.rr(this.Y,a);return new i(u,this.h,this)}union(a){let u=this;return a.forEach(function(c){u.insert(c)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},l=s;e.default=l}),VS=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=o(cv()),r=o(hv()),n=mn();function o(a){return a&&a.t?a:{default:a}}var i=class dv extends r.default{constructor(u,c,f,p){super(u,c,p),this.container=f}get pointer(){this.o===this.h&&(0,n.throwIteratorAccessError)();let u=this;return new Proxy([],{get(c,f){if(f==="0")return u.o.u;if(f==="1")return u.o.l},set(c,f,p){if(f!=="1")throw new TypeError("props must be 1");return u.o.l=p,!0}})}copy(){return new dv(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.default{constructor(a=[],u,c){super(u,c);let f=this;a.forEach(function(p){f.setElement(p[0],p[1])})}*K(a){a!==void 0&&(yield*this.K(a.U),yield[a.u,a.l],yield*this.K(a.W))}begin(){return new i(this.h.U||this.h,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this.h.W||this.h,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){if(this.i===0)return;let a=this.h.U;return[a.u,a.l]}back(){if(this.i===0)return;let a=this.h.W;return[a.u,a.l]}lowerBound(a){let u=this.X(this.Y,a);return new i(u,this.h,this)}upperBound(a){let u=this.Z(this.Y,a);return new i(u,this.h,this)}reverseLowerBound(a){let u=this.$(this.Y,a);return new i(u,this.h,this)}reverseUpperBound(a){let u=this.rr(this.Y,a);return new i(u,this.h,this)}setElement(a,u,c){return this.M(a,u,c)}find(a){let u=this.I(this.Y,a);return new i(u,this.h,this)}getElementByKey(a){return this.I(this.Y,a).l}union(a){let u=this;return a.forEach(function(c){u.setElement(c[0],c[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},l=s;e.default=l}),pv=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"t",{value:!0}),e.default=t;function t(r){let n=typeof r;return n==="object"&&r!==null||n==="function"}}),mv=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"t",{value:!0}),e.HashContainerIterator=e.HashContainer=void 0;var t=pn(),r=o(pv()),n=mn();function o(l){return l&&l.t?l:{default:l}}var i=class extends t.ContainerIterator{constructor(l,a,u){super(u),this.o=l,this.h=a,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this})}};e.HashContainerIterator=i;var s=class extends t.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(l){let{L:a,B:u}=l;a.B=u,u.L=a,l===this.p&&(this.p=u),l===this._&&(this._=a),this.i-=1}M(l,a,u){u===void 0&&(u=(0,r.default)(l));let c;if(u){let f=l[this.HASH_TAG];if(f!==void 0)return this.H[f].l=a,this.i;Object.defineProperty(l,this.HASH_TAG,{value:this.H.length,configurable:!0}),c={u:l,l:a,L:this._,B:this.h},this.H.push(c)}else{let f=this.g[l];if(f)return f.l=a,this.i;c={u:l,l:a,L:this._,B:this.h},this.g[l]=c}return this.i===0?(this.p=c,this.h.B=c):this._.B=c,this._=c,this.h.L=c,++this.i}I(l,a){if(a===void 0&&(a=(0,r.default)(l)),a){let u=l[this.HASH_TAG];return u===void 0?this.h:this.H[u]}else return this.g[l]||this.h}clear(){let l=this.HASH_TAG;this.H.forEach(function(a){delete a.u[l]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(l,a){let u;if(a===void 0&&(a=(0,r.default)(l)),a){let c=l[this.HASH_TAG];if(c===void 0)return!1;delete l[this.HASH_TAG],u=this.H[c],delete this.H[c]}else{if(u=this.g[l],u===void 0)return!1;delete this.g[l]}return this.V(u),!0}eraseElementByIterator(l){let a=l.o;return a===this.h&&(0,n.throwIteratorAccessError)(),this.V(a),l.next()}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let a=this.p;for(;l--;)a=a.B;return this.V(a),this.i}};e.HashContainer=s}),qS=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=mv(),r=mn(),n=class gv extends t.HashContainerIterator{constructor(l,a,u,c){super(l,a,c),this.container=u}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.u}copy(){return new gv(this.o,this.h,this.container,this.iteratorType)}},o=class extends t.HashContainer{constructor(s=[]){super();let l=this;s.forEach(function(a){l.insert(a)})}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(s,l){return this.M(s,void 0,l)}getElementByPos(s){if(s<0||s>this.i-1)throw new RangeError;let l=this.p;for(;s--;)l=l.B;return l.u}find(s,l){let a=this.I(s,l);return new n(a,this.h,this)}forEach(s){let l=0,a=this.p;for(;a!==this.h;)s(a.u,l++,this),a=a.B}[Symbol.iterator](){return(function*(){let s=this.p;for(;s!==this.h;)yield s.u,s=s.B}).bind(this)()}},i=o;e.default=i}),KS=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"t",{value:!0}),e.default=void 0;var t=mv(),r=o(pv()),n=mn();function o(a){return a&&a.t?a:{default:a}}var i=class yv extends t.HashContainerIterator{constructor(u,c,f,p){super(u,c,p),this.container=f}get pointer(){this.o===this.h&&(0,n.throwIteratorAccessError)();let u=this;return new Proxy([],{get(c,f){if(f==="0")return u.o.u;if(f==="1")return u.o.l},set(c,f,p){if(f!=="1")throw new TypeError("props must be 1");return u.o.l=p,!0}})}copy(){return new yv(this.o,this.h,this.container,this.iteratorType)}},s=class extends t.HashContainer{constructor(a=[]){super();let u=this;a.forEach(function(c){u.setElement(c[0],c[1])})}begin(){return new i(this.p,this.h,this)}end(){return new i(this.h,this.h,this)}rBegin(){return new i(this._,this.h,this,1)}rEnd(){return new i(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(a,u,c){return this.M(a,u,c)}getElementByKey(a,u){if(u===void 0&&(u=(0,r.default)(a)),u){let f=a[this.HASH_TAG];return f!==void 0?this.H[f].l:void 0}let c=this.g[a];return c?c.l:void 0}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let u=this.p;for(;a--;)u=u.B;return[u.u,u.l]}find(a,u){let c=this.I(a,u);return new i(c,this.h,this)}forEach(a){let u=0,c=this.p;for(;c!==this.h;)a([c.u,c.l],u++,this),c=c.B}[Symbol.iterator](){return(function*(){let a=this.p;for(;a!==this.h;)yield[a.u,a.l],a=a.B}).bind(this)()}},l=s;e.default=l}),QS=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"t",{value:!0}),Object.defineProperty(e,"Deque",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"HashMap",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"HashSet",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"LinkList",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"OrderedMap",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"OrderedSet",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"PriorityQueue",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"Queue",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"Stack",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"Vector",{enumerable:!0,get:function(){return o.default}});var t=f(jS()),r=f(US()),n=f(FS()),o=f($S()),i=f(DS()),s=f(WS()),l=f(HS()),a=f(VS()),u=f(qS()),c=f(KS());function f(p){return p&&p.t?p:{default:p}}}),YS=ve((e,t)=>{ce(),fe(),he();var r=QS().OrderedSet,n=hn()("number-allocator:trace"),o=hn()("number-allocator:error");function i(l,a){this.low=l,this.high=a}i.prototype.equals=function(l){return this.low===l.low&&this.high===l.high},i.prototype.compare=function(l){return this.low<l.low&&this.high<l.low?-1:l.low<this.low&&l.high<this.low?1:0};function s(l,a){if(!(this instanceof s))return new s(l,a);this.min=l,this.max=a,this.ss=new r([],(u,c)=>u.compare(c)),n("Create"),this.clear()}s.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},s.prototype.alloc=function(){if(this.ss.size()===0)return n("alloc():empty"),null;let l=this.ss.begin(),a=l.pointer.low,u=l.pointer.high,c=a;return c+1<=u?this.ss.updateKeyByIterator(l,new i(a+1,u)):this.ss.eraseElementByPos(0),n("alloc():"+c),c},s.prototype.use=function(l){let a=new i(l,l),u=this.ss.lowerBound(a);if(!u.equals(this.ss.end())){let c=u.pointer.low,f=u.pointer.high;return u.pointer.equals(a)?(this.ss.eraseElementByIterator(u),n("use():"+l),!0):c>l?!1:c===l?(this.ss.updateKeyByIterator(u,new i(c+1,f)),n("use():"+l),!0):f===l?(this.ss.updateKeyByIterator(u,new i(c,f-1)),n("use():"+l),!0):(this.ss.updateKeyByIterator(u,new i(l+1,f)),this.ss.insert(new i(c,l-1)),n("use():"+l),!0)}return n("use():failed"),!1},s.prototype.free=function(l){if(l<this.min||l>this.max){o("free():"+l+" is out of range");return}let a=new i(l,l),u=this.ss.upperBound(a);if(u.equals(this.ss.end())){if(u.equals(this.ss.begin())){this.ss.insert(a);return}u.pre();let c=u.pointer.high;u.pointer.high+1===l?this.ss.updateKeyByIterator(u,new i(c,l)):this.ss.insert(a)}else if(u.equals(this.ss.begin()))if(l+1===u.pointer.low){let c=u.pointer.high;this.ss.updateKeyByIterator(u,new i(l,c))}else this.ss.insert(a);else{let c=u.pointer.low,f=u.pointer.high;u.pre();let p=u.pointer.low;u.pointer.high+1===l?l+1===c?(this.ss.eraseElementByIterator(u),this.ss.updateKeyByIterator(u,new i(p,f))):this.ss.updateKeyByIterator(u,new i(p,l)):l+1===c?(this.ss.eraseElementByIterator(u.next()),this.ss.insert(new i(l,f))):this.ss.insert(a)}n("free():"+l)},s.prototype.clear=function(){n("clear()"),this.ss.clear(),this.ss.insert(new i(this.min,this.max))},s.prototype.intervalCount=function(){return this.ss.size()},s.prototype.dump=function(){console.log("length:"+this.ss.size());for(let l of this.ss)console.log(l)},t.exports=s}),vv=ve((e,t)=>{ce(),fe(),he();var r=YS();t.exports.NumberAllocator=r}),GS=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"__esModule",{value:!0});var t=LS(),r=vv(),n=class{constructor(o){o>0&&(this.aliasToTopic=new t.LRUCache({max:o}),this.topicToAlias={},this.numberAllocator=new r.NumberAllocator(1,o),this.max=o,this.length=0)}put(o,i){if(i===0||i>this.max)return!1;let s=this.aliasToTopic.get(i);return s&&delete this.topicToAlias[s],this.aliasToTopic.set(i,o),this.topicToAlias[o]=i,this.numberAllocator.use(i),this.length=this.aliasToTopic.size,!0}getTopicByAlias(o){return this.aliasToTopic.get(o)}getAliasByTopic(o){let i=this.topicToAlias[o];return typeof i<"u"&&this.aliasToTopic.get(i),i}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};e.default=n}),JS=ve(e=>{ce(),fe(),he();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var r=Ra(),n=t(GS()),o=po(),i=(s,l)=>{s.log("_handleConnack");let{options:a}=s,u=a.protocolVersion===5?l.reasonCode:l.returnCode;if(clearTimeout(s.connackTimer),delete s.topicAliasSend,l.properties){if(l.properties.topicAliasMaximum){if(l.properties.topicAliasMaximum>65535){s.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}l.properties.topicAliasMaximum>0&&(s.topicAliasSend=new n.default(l.properties.topicAliasMaximum))}l.properties.serverKeepAlive&&a.keepalive&&(a.keepalive=l.properties.serverKeepAlive),l.properties.maximumPacketSize&&(a.properties||(a.properties={}),a.properties.maximumPacketSize=l.properties.maximumPacketSize)}if(u===0)s.reconnecting=!1,s._onConnect(l);else if(u>0){let c=new o.ErrorWithReasonCode(`Connection refused: ${r.ReasonCodes[u]}`,u);s.emit("error",c)}};e.default=i}),XS=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"__esModule",{value:!0});var t=(r,n,o)=>{r.log("handling pubrel packet");let i=typeof o<"u"?o:r.noop,{messageId:s}=n,l={cmd:"pubcomp",messageId:s};r.incomingStore.get(n,(a,u)=>{a?r._sendPacket(l,i):(r.emit("message",u.topic,u.payload,u),r.handleMessage(u,c=>{if(c)return i(c);r.incomingStore.del(u,r.noop),r._sendPacket(l,i)}))})};e.default=t}),ZS=ve(e=>{ce(),fe(),he();var t=e&&e.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var r=t(NS()),n=t(BS()),o=t(JS()),i=t(Ra()),s=t(XS()),l=(a,u,c)=>{let{options:f}=a;if(f.protocolVersion===5&&f.properties&&f.properties.maximumPacketSize&&f.properties.maximumPacketSize<u.length)return a.emit("error",new Error(`exceeding packets size ${u.cmd}`)),a.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),a;switch(a.log("_handlePacket :: emitting packetreceive"),a.emit("packetreceive",u),u.cmd){case"publish":(0,r.default)(a,u,c);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":a.reschedulePing(),(0,i.default)(a,u),c();break;case"pubrel":a.reschedulePing(),(0,s.default)(a,u,c);break;case"connack":(0,o.default)(a,u),c();break;case"auth":a.reschedulePing(),(0,n.default)(a,u),c();break;case"pingresp":a.log("_handlePacket :: received pingresp"),a.reschedulePing(!0),c();break;case"disconnect":a.emit("disconnect",u),c();break;default:a.log("_handlePacket :: unknown command"),c();break}};e.default=l}),eE=ve(e=>{ce(),fe(),he();var t=e&&e.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(e,"__esModule",{value:!0}),e.TypedEventEmitter=void 0;var r=t((fo(),He(_i))),n=po(),o=class{};e.TypedEventEmitter=o,(0,n.applyMixin)(o,r.default)}),Oa=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"__esModule",{value:!0}),e.isReactNativeBrowser=e.isWebWorker=void 0;var t=()=>{var i;return typeof window<"u"?typeof navigator<"u"&&((i=navigator.userAgent)===null||i===void 0?void 0:i.toLowerCase().indexOf(" electron/"))>-1&&Ue!=null&&Ue.versions?!Object.prototype.hasOwnProperty.call(Ue.versions,"electron"):typeof window.document<"u":!1},r=()=>{var i,s;return!!(typeof self=="object"&&!((s=(i=self==null?void 0:self.constructor)===null||i===void 0?void 0:i.name)===null||s===void 0)&&s.includes("WorkerGlobalScope"))},n=()=>typeof navigator<"u"&&navigator.product==="ReactNative",o=t()||r()||n();e.isWebWorker=r(),e.isReactNativeBrowser=n(),e.default=o}),tE=ve((e,t)=>{ce(),fe(),he(),function(r,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):(r=typeof globalThis<"u"?globalThis:r||self,n(r.fastUniqueNumbers={}))}(e,function(r){var n=function(g){return function(y){var _=g(y);return y.add(_),_}},o=function(g){return function(y,_){return g.set(y,_),_}},i=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,s=536870912,l=s*2,a=function(g,y){return function(_){var C=y.get(_),b=C===void 0?_.size:C<l?C+1:0;if(!_.has(b))return g(_,b);if(_.size<s){for(;_.has(b);)b=Math.floor(Math.random()*l);return g(_,b)}if(_.size>i)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;_.has(b);)b=Math.floor(Math.random()*i);return g(_,b)}},u=new WeakMap,c=o(u),f=a(c,u),p=n(f);r.addUniqueNumber=p,r.generateUniqueNumber=f})}),rE=ve((e,t)=>{ce(),fe(),he(),function(r,n){typeof e=="object"&&typeof t<"u"?n(e,tE()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],n):(r=typeof globalThis<"u"?globalThis:r||self,n(r.workerTimersBroker={},r.fastUniqueNumbers))}(e,function(r,n){var o=function(l){return l.method!==void 0&&l.method==="call"},i=function(l){return l.error===null&&typeof l.id=="number"},s=function(l){var a=new Map([[0,function(){}]]),u=new Map([[0,function(){}]]),c=new Map,f=new Worker(l);f.addEventListener("message",function(C){var b=C.data;if(o(b)){var v=b.params,w=v.timerId,A=v.timerType;if(A==="interval"){var T=a.get(w);if(typeof T=="number"){var k=c.get(T);if(k===void 0||k.timerId!==w||k.timerType!==A)throw new Error("The timer is in an undefined state.")}else if(typeof T<"u")T();else throw new Error("The timer is in an undefined state.")}else if(A==="timeout"){var E=u.get(w);if(typeof E=="number"){var x=c.get(E);if(x===void 0||x.timerId!==w||x.timerType!==A)throw new Error("The timer is in an undefined state.")}else if(typeof E<"u")E(),u.delete(w);else throw new Error("The timer is in an undefined state.")}}else if(i(b)){var U=b.id,H=c.get(U);if(H===void 0)throw new Error("The timer is in an undefined state.");var Q=H.timerId,P=H.timerType;c.delete(U),P==="interval"?a.delete(Q):u.delete(Q)}else{var V=b.error.message;throw new Error(V)}});var p=function(C){var b=n.generateUniqueNumber(c);c.set(b,{timerId:C,timerType:"interval"}),a.set(C,b),f.postMessage({id:b,method:"clear",params:{timerId:C,timerType:"interval"}})},g=function(C){var b=n.generateUniqueNumber(c);c.set(b,{timerId:C,timerType:"timeout"}),u.set(C,b),f.postMessage({id:b,method:"clear",params:{timerId:C,timerType:"timeout"}})},y=function(C){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=n.generateUniqueNumber(a);return a.set(v,function(){C(),typeof a.get(v)=="function"&&f.postMessage({id:null,method:"set",params:{delay:b,now:performance.now(),timerId:v,timerType:"interval"}})}),f.postMessage({id:null,method:"set",params:{delay:b,now:performance.now(),timerId:v,timerType:"interval"}}),v},_=function(C){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=n.generateUniqueNumber(u);return u.set(v,C),f.postMessage({id:null,method:"set",params:{delay:b,now:performance.now(),timerId:v,timerType:"timeout"}}),v};return{clearInterval:p,clearTimeout:g,setInterval:y,setTimeout:_}};r.load=s})}),nE=ve((e,t)=>{ce(),fe(),he(),function(r,n){typeof e=="object"&&typeof t<"u"?n(e,rE()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],n):(r=typeof globalThis<"u"?globalThis:r||self,n(r.workerTimers={},r.workerTimersBroker))}(e,function(r,n){var o=function(f,p){var g=null;return function(){if(g!==null)return g;var y=new Blob([p],{type:"application/javascript; charset=utf-8"}),_=URL.createObjectURL(y);return g=f(_),setTimeout(function(){return URL.revokeObjectURL(_)}),g}},i=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,s=o(n.load,i),l=function(f){return s().clearInterval(f)},a=function(f){return s().clearTimeout(f)},u=function(){var f;return(f=s()).setInterval.apply(f,arguments)},c=function(){var f;return(f=s()).setTimeout.apply(f,arguments)};r.clearInterval=l,r.clearTimeout=a,r.setInterval=u,r.setTimeout=c})}),iE=ve(e=>{ce(),fe(),he();var t=e&&e.__createBinding||(Object.create?function(u,c,f,p){p===void 0&&(p=f);var g=Object.getOwnPropertyDescriptor(c,f);(!g||("get"in g?!c.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(u,p,g)}:function(u,c,f,p){p===void 0&&(p=f),u[p]=c[f]}),r=e&&e.__setModuleDefault||(Object.create?function(u,c){Object.defineProperty(u,"default",{enumerable:!0,value:c})}:function(u,c){u.default=c}),n=e&&e.__importStar||function(u){if(u&&u.__esModule)return u;var c={};if(u!=null)for(var f in u)f!=="default"&&Object.prototype.hasOwnProperty.call(u,f)&&t(c,u,f);return r(c,u),c};Object.defineProperty(e,"__esModule",{value:!0});var o=n(Oa()),i=nE(),s={set:i.setInterval,clear:i.clearInterval},l={set:(u,c)=>setInterval(u,c),clear:u=>clearInterval(u)},a=u=>{switch(u){case"native":return l;case"worker":return s;case"auto":default:return o.default&&!o.isWebWorker&&!o.isReactNativeBrowser?s:l}};e.default=a}),wv=ve(e=>{ce(),fe(),he();var t=e&&e.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0});var r=t(iE()),n=class{get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(o,i){this.destroyed=!1,this.client=o,this.timer=typeof i=="object"&&"set"in i&&"clear"in i?i:(0,r.default)(i),this.setKeepalive(o.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(o){if(o*=1e3,isNaN(o)||o<=0||o>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${o}`);this._keepalive=o,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${o}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let o=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+o,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};e.default=n}),Dh=ve(e=>{ce(),fe(),he();var t=e&&e.__createBinding||(Object.create?function(T,k,E,x){x===void 0&&(x=E);var U=Object.getOwnPropertyDescriptor(k,E);(!U||("get"in U?!k.__esModule:U.writable||U.configurable))&&(U={enumerable:!0,get:function(){return k[E]}}),Object.defineProperty(T,x,U)}:function(T,k,E,x){x===void 0&&(x=E),T[x]=k[E]}),r=e&&e.__setModuleDefault||(Object.create?function(T,k){Object.defineProperty(T,"default",{enumerable:!0,value:k})}:function(T,k){T.default=k}),n=e&&e.__importStar||function(T){if(T&&T.__esModule)return T;var k={};if(T!=null)for(var E in T)E!=="default"&&Object.prototype.hasOwnProperty.call(T,E)&&t(k,T,E);return r(k,T),k},o=e&&e.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(Kb()),s=o(PS()),l=o(rv()),a=bi(),u=o(RS()),c=n(OS()),f=o(hn()),p=o(nv()),g=o(ZS()),y=po(),_=eE(),C=o(wv()),b=n(Oa()),v=globalThis.setImmediate||((...T)=>{let k=T.shift();(0,y.nextTick)(()=>{k(...T)})}),w={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},A=class Wh extends _.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(k,E){super(),this.options=E||{};for(let x in w)typeof this.options[x]>"u"?this.options[x]=w[x]:this.options[x]=E[x];this.log=this.options.log||(0,f.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",Wh.VERSION),b.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",b.default?"browser":"node"),this.log("MqttClient :: options.protocol",E.protocol),this.log("MqttClient :: options.protocolVersion",E.protocolVersion),this.log("MqttClient :: options.username",E.username),this.log("MqttClient :: options.keepalive",E.keepalive),this.log("MqttClient :: options.reconnectPeriod",E.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",E.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",E.properties?E.properties.topicAliasMaximum:void 0),this.options.clientId=typeof E.clientId=="string"?E.clientId:Wh.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=E.protocolVersion===5&&E.customHandleAcks?E.customHandleAcks:(...x)=>{x[3](null,0)},this.options.writeCache||(s.default.writeToStream.cacheNumbers=!1),this.streamBuilder=k,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new l.default:this.options.messageIdProvider,this.outgoingStore=E.outgoingStore||new p.default,this.incomingStore=E.incomingStore||new p.default,this.queueQoSZero=E.queueQoSZero===void 0?!0:E.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,E.properties&&E.properties.topicAliasMaximum>0&&(E.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new i.default(E.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:x}=this,U=()=>{let H=x.shift();this.log("deliver :: entry %o",H);let Q=null;if(!H){this._resubscribe();return}Q=H.packet,this.log("deliver :: call _sendPacket for %o",Q);let P=!0;Q.messageId&&Q.messageId!==0&&(this.messageIdProvider.register(Q.messageId)||(P=!1)),P?this._sendPacket(Q,V=>{H.cb&&H.cb(V),U()}):(this.log("messageId: %d has already used. The message is skipped and removed.",Q.messageId),U())};this.log("connect :: sending queued packets"),U()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(k,E){E()}handleMessage(k,E){E()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var k;let E=new a.Writable,x=s.default.parser(this.options),U=null,H=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new p.default,this.outgoingStore=this.options.outgoingStore||new p.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),x.on("packet",J=>{this.log("parser :: on packet push to packets array."),H.push(J)});let Q=()=>{this.log("work :: getting next packet in queue");let J=H.shift();if(J)this.log("work :: packet pulled from queue"),(0,g.default)(this,J,P);else{this.log("work :: no packets in queue");let ye=U;U=null,this.log("work :: done flag is %s",!!ye),ye&&ye()}},P=()=>{if(H.length)(0,y.nextTick)(Q);else{let J=U;U=null,J()}};E._write=(J,ye,oe)=>{U=oe,this.log("writable stream :: parsing buffer"),x.parse(J),Q()};let V=J=>{this.log("streamErrorHandler :: error",J.message),J.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",J)):this.noop(J)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(E),this.stream.on("error",V),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let te={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(te.will=Object.assign(Object.assign({},this.options.will),{payload:(k=this.options.will)===null||k===void 0?void 0:k.payload})),this.topicAliasRecv&&(te.properties||(te.properties={}),this.topicAliasRecv&&(te.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(te),x.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let J=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(J)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(k,E,x,U){this.log("publish :: message `%s` to topic `%s`",E,k);let{options:H}=this;typeof x=="function"&&(U=x,x=null),x=x||{},x=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),x);let{qos:Q,retain:P,dup:V,properties:te,cbStorePut:J}=x;if(this._checkDisconnecting(U))return this;let ye=()=>{let oe=0;if((Q===1||Q===2)&&(oe=this._nextId(),oe===null))return this.log("No messageId left"),!1;let j={cmd:"publish",topic:k,payload:E,qos:Q,retain:P,messageId:oe,dup:V};switch(H.protocolVersion===5&&(j.properties=te),this.log("publish :: qos",Q),Q){case 1:case 2:this.outgoing[j.messageId]={volatile:!1,cb:U||this.noop},this.log("MqttClient:publish: packet cmd: %s",j.cmd),this._sendPacket(j,void 0,J);break;default:this.log("MqttClient:publish: packet cmd: %s",j.cmd),this._sendPacket(j,U,J);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ye())&&this._storeProcessingQueue.push({invoke:ye,cbStorePut:x.cbStorePut,callback:U}),this}publishAsync(k,E,x){return new Promise((U,H)=>{this.publish(k,E,x,(Q,P)=>{Q?H(Q):U(P)})})}subscribe(k,E,x){let U=this.options.protocolVersion;typeof E=="function"&&(x=E),x=x||this.noop;let H=!1,Q=[];typeof k=="string"?(k=[k],Q=k):Array.isArray(k)?Q=k:typeof k=="object"&&(H=k.resubscribe,delete k.resubscribe,Q=Object.keys(k));let P=c.validateTopics(Q);if(P!==null)return v(x,new Error(`Invalid topic ${P}`)),this;if(this._checkDisconnecting(x))return this.log("subscribe: discconecting true"),this;let V={qos:0};U===5&&(V.nl=!1,V.rap=!1,V.rh=0),E=Object.assign(Object.assign({},V),E);let te=E.properties,J=[],ye=(j,Z)=>{if(Z=Z||E,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,j)||this._resubscribeTopics[j].qos<Z.qos||H){let G={topic:j,qos:Z.qos};U===5&&(G.nl=Z.nl,G.rap=Z.rap,G.rh=Z.rh,G.properties=te),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",G.topic,G.qos),J.push(G)}};if(Array.isArray(k)?k.forEach(j=>{this.log("subscribe: array topic %s",j),ye(j)}):Object.keys(k).forEach(j=>{this.log("subscribe: object topic %s, %o",j,k[j]),ye(j,k[j])}),!J.length)return x(null,[]),this;let oe=()=>{let j=this._nextId();if(j===null)return this.log("No messageId left"),!1;let Z={cmd:"subscribe",subscriptions:J,messageId:j};if(te&&(Z.properties=te),this.options.resubscribe){this.log("subscribe :: resubscribe true");let G=[];J.forEach(pe=>{if(this.options.reconnectPeriod>0){let S={qos:pe.qos};U===5&&(S.nl=pe.nl||!1,S.rap=pe.rap||!1,S.rh=pe.rh||0,S.properties=pe.properties),this._resubscribeTopics[pe.topic]=S,G.push(pe.topic)}}),this.messageIdToTopic[Z.messageId]=G}return this.outgoing[Z.messageId]={volatile:!0,cb(G,pe){if(!G){let{granted:S}=pe;for(let X=0;X<S.length;X+=1)J[X].qos=S[X]}x(G,J,pe)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(Z),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!oe())&&this._storeProcessingQueue.push({invoke:oe,callback:x}),this}subscribeAsync(k,E){return new Promise((x,U)=>{this.subscribe(k,E,(H,Q)=>{H?U(H):x(Q)})})}unsubscribe(k,E,x){typeof k=="string"&&(k=[k]),typeof E=="function"&&(x=E),x=x||this.noop;let U=c.validateTopics(k);if(U!==null)return v(x,new Error(`Invalid topic ${U}`)),this;if(this._checkDisconnecting(x))return this;let H=()=>{let Q=this._nextId();if(Q===null)return this.log("No messageId left"),!1;let P={cmd:"unsubscribe",messageId:Q,unsubscriptions:[]};return typeof k=="string"?P.unsubscriptions=[k]:Array.isArray(k)&&(P.unsubscriptions=k),this.options.resubscribe&&P.unsubscriptions.forEach(V=>{delete this._resubscribeTopics[V]}),typeof E=="object"&&E.properties&&(P.properties=E.properties),this.outgoing[P.messageId]={volatile:!0,cb:x},this.log("unsubscribe: call _sendPacket"),this._sendPacket(P),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!H())&&this._storeProcessingQueue.push({invoke:H,callback:x}),this}unsubscribeAsync(k,E){return new Promise((x,U)=>{this.unsubscribe(k,E,(H,Q)=>{H?U(H):x(Q)})})}end(k,E,x){this.log("end :: (%s)",this.options.clientId),(k==null||typeof k!="boolean")&&(x=x||E,E=k,k=!1),typeof E!="object"&&(x=x||E,E=null),this.log("end :: cb? %s",!!x),(!x||typeof x!="function")&&(x=this.noop);let U=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(Q=>{this.outgoingStore.close(P=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),x){let V=Q||P;this.log("end :: closeStores: invoking callback with args"),x(V)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},H=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,k),this._cleanUp(k,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,y.nextTick)(U)},E)};return this.disconnecting?(x(),this):(this._clearReconnect(),this.disconnecting=!0,!k&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,H,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),H()),this)}endAsync(k,E){return new Promise((x,U)=>{this.end(k,E,H=>{H?U(H):x()})})}removeOutgoingMessage(k){if(this.outgoing[k]){let{cb:E}=this.outgoing[k];this._removeOutgoingAndStoreMessage(k,()=>{E(new Error("Message removed"))})}return this}reconnect(k){this.log("client reconnect");let E=()=>{k?(this.options.incomingStore=k.incomingStore,this.options.outgoingStore=k.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new p.default,this.outgoingStore=this.options.outgoingStore||new p.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=E:E(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(k=>{this.outgoing[k].volatile&&typeof this.outgoing[k].cb=="function"&&(this.outgoing[k].cb(new Error("Connection closed")),delete this.outgoing[k])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(k=>{typeof this.outgoing[k].cb=="function"&&(this.outgoing[k].cb(new Error("Connection closed")),delete this.outgoing[k])}))}_removeTopicAliasAndRecoverTopicName(k){let E;k.properties&&(E=k.properties.topicAlias);let x=k.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",E,x),x.length===0){if(typeof E>"u")return new Error("Unregistered Topic Alias");if(x=this.topicAliasSend.getTopicByAlias(E),typeof x>"u")return new Error("Unregistered Topic Alias");k.topic=x}E&&delete k.properties.topicAlias}_checkDisconnecting(k){return this.disconnecting&&(k&&k!==this.noop?k(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(k,E,x={}){if(E&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",E)),this.log("_cleanUp :: forced? %s",k),k)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let U=Object.assign({cmd:"disconnect"},x);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(U,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),v(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),E&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",E),E())}_storeAndSend(k,E,x){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",k.cmd);let U=k,H;if(U.cmd==="publish"&&(U=(0,u.default)(k),H=this._removeTopicAliasAndRecoverTopicName(U),H))return E&&E(H);this.outgoingStore.put(U,Q=>{if(Q)return E&&E(Q);x(),this._writePacket(k,E)})}_applyTopicAlias(k){if(this.options.protocolVersion===5&&k.cmd==="publish"){let E;k.properties&&(E=k.properties.topicAlias);let x=k.topic.toString();if(this.topicAliasSend)if(E){if(x.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",x,E),!this.topicAliasSend.put(x,E)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",x,E),new Error("Sending Topic Alias out of range")}else x.length!==0&&(this.options.autoAssignTopicAlias?(E=this.topicAliasSend.getAliasByTopic(x),E?(k.topic="",k.properties=Object.assign(Object.assign({},k.properties),{topicAlias:E}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",x,E)):(E=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(x,E),k.properties=Object.assign(Object.assign({},k.properties),{topicAlias:E}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",x,E))):this.options.autoUseTopicAlias&&(E=this.topicAliasSend.getAliasByTopic(x),E&&(k.topic="",k.properties=Object.assign(Object.assign({},k.properties),{topicAlias:E}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",x,E))));else if(E)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",x,E),new Error("Sending Topic Alias out of range")}}_noop(k){this.log("noop ::",k)}_writePacket(k,E){this.log("_writePacket :: packet: %O",k),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",k),this.log("_writePacket :: writing to stream");let x=s.default.writeToStream(k,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",x),!x&&E&&E!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",E)):E&&(this.log("_writePacket :: invoking cb"),E())}_sendPacket(k,E,x,U){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),x=x||this.noop,E=E||this.noop;let H=this._applyTopicAlias(k);if(H){E(H);return}if(!this.connected){if(k.cmd==="auth"){this._writePacket(k,E);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(k,E,x);return}if(U){this._writePacket(k,E);return}switch(k.cmd){case"publish":break;case"pubrel":this._storeAndSend(k,E,x);return;default:this._writePacket(k,E);return}switch(k.qos){case 2:case 1:this._storeAndSend(k,E,x);break;case 0:default:this._writePacket(k,E);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(k,E,x){this.log("_storePacket :: packet: %o",k),this.log("_storePacket :: cb? %s",!!E),x=x||this.noop;let U=k;if(U.cmd==="publish"){U=(0,u.default)(k);let Q=this._removeTopicAliasAndRecoverTopicName(U);if(Q)return E&&E(Q)}let H=U.qos||0;H===0&&this.queueQoSZero||U.cmd!=="publish"?this.queue.push({packet:U,cb:E}):H>0?(E=this.outgoing[U.messageId]?this.outgoing[U.messageId].cb:null,this.outgoingStore.put(U,Q=>{if(Q)return E&&E(Q);x()})):E&&E(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new C.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(k=!1){this.keepaliveManager&&this.options.keepalive&&(k||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let k=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&k.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let E=0;E<k.length;E++){let x={};x[k[E]]=this._resubscribeTopics[k[E]],x.resubscribe=!0,this.subscribe(x,{properties:x[k[E]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(k){if(this.disconnected){this.emit("connect",k);return}this.connackPacket=k,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let E=()=>{let x=this.outgoingStore.createStream(),U=()=>{x.destroy(),x=null,this._flushStoreProcessingQueue(),H()},H=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",U),x.on("error",P=>{H(),this._flushStoreProcessingQueue(),this.removeListener("close",U),this.emit("error",P)});let Q=()=>{if(!x)return;let P=x.read(1),V;if(!P){x.once("readable",Q);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[P.messageId]){Q();return}!this.disconnecting&&!this.reconnectTimer?(V=this.outgoing[P.messageId]?this.outgoing[P.messageId].cb:null,this.outgoing[P.messageId]={volatile:!1,cb(te,J){V&&V(te,J),Q()}},this._packetIdsDuringStoreProcessing[P.messageId]=!0,this.messageIdProvider.register(P.messageId)?this._sendPacket(P,void 0,void 0,!0):this.log("messageId: %d has already used.",P.messageId)):x.destroy&&x.destroy()};x.on("end",()=>{let P=!0;for(let V in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[V]){P=!1;break}this.removeListener("close",U),P?(H(),this._invokeAllStoreProcessingQueue(),this.emit("connect",k)):E()}),Q()};E()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let k=this._storeProcessingQueue[0];if(k&&k.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let k of this._storeProcessingQueue)k.cbStorePut&&k.cbStorePut(new Error("Connection closed")),k.callback&&k.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(k,E){delete this.outgoing[k],this.outgoingStore.del({messageId:k},(x,U)=>{E(x,U),this.messageIdProvider.deallocate(k),this._invokeStoreProcessingQueue()})}};A.VERSION=y.MQTTJS_VERSION,e.default=A}),oE=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"__esModule",{value:!0});var t=vv(),r=class{constructor(){this.numberAllocator=new t.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(n){return this.numberAllocator.use(n)}deallocate(n){this.numberAllocator.free(n)}clear(){this.numberAllocator.clear()}};e.default=r});function qn(e){throw new RangeError(bv[e])}function gm(e,t){let r=e.split("@"),n="";r.length>1&&(n=r[0]+"@",e=r[1]);let o=function(i,s){let l=[],a=i.length;for(;a--;)l[a]=s(i[a]);return l}((e=e.replace(_v,".")).split("."),t).join(".");return n+o}function ym(e){let t=[],r=0,n=e.length;for(;r<n;){let o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){let i=e.charCodeAt(r++);(64512&i)==56320?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),r--)}else t.push(o)}return t}var vm,wm,_v,bv,mr,Gs,yu,vu,wu,_u,bn,sE=It(()=>{ce(),fe(),he(),vm=/^xn--/,wm=/[^\0-\x7E]/,_v=/[\x2E\u3002\uFF0E\uFF61]/g,bv={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},mr=Math.floor,Gs=String.fromCharCode,yu=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},vu=function(e,t,r){let n=0;for(e=r?mr(e/700):e>>1,e+=mr(e/t);e>455;n+=36)e=mr(e/35);return mr(n+36*e/(e+38))},wu=function(e){let t=[],r=e.length,n=0,o=128,i=72,s=e.lastIndexOf("-");s<0&&(s=0);for(let a=0;a<s;++a)e.charCodeAt(a)>=128&&qn("not-basic"),t.push(e.charCodeAt(a));for(let a=s>0?s+1:0;a<r;){let u=n;for(let f=1,p=36;;p+=36){a>=r&&qn("invalid-input");let g=(l=e.charCodeAt(a++))-48<10?l-22:l-65<26?l-65:l-97<26?l-97:36;(g>=36||g>mr((2147483647-n)/f))&&qn("overflow"),n+=g*f;let y=p<=i?1:p>=i+26?26:p-i;if(g<y)break;let _=36-y;f>mr(2147483647/_)&&qn("overflow"),f*=_}let c=t.length+1;i=vu(n-u,c,u==0),mr(n/c)>2147483647-o&&qn("overflow"),o+=mr(n/c),n%=c,t.splice(n++,0,o)}var l;return String.fromCodePoint(...t)},_u=function(e){let t=[],r=(e=ym(e)).length,n=128,o=0,i=72;for(let a of e)a<128&&t.push(Gs(a));let s=t.length,l=s;for(s&&t.push("-");l<r;){let a=2147483647;for(let c of e)c>=n&&c<a&&(a=c);let u=l+1;a-n>mr((2147483647-o)/u)&&qn("overflow"),o+=(a-n)*u,n=a;for(let c of e)if(c<n&&++o>2147483647&&qn("overflow"),c==n){let f=o;for(let p=36;;p+=36){let g=p<=i?1:p>=i+26?26:p-i;if(f<g)break;let y=f-g,_=36-g;t.push(Gs(yu(g+y%_,0))),f=mr(y/_)}t.push(Gs(yu(f,0))),i=vu(o,u,l==s),o=0,++l}++o,++n}return t.join("")},bn={version:"2.1.0",ucs2:{decode:ym,encode:e=>String.fromCodePoint(...e)},decode:wu,encode:_u,toASCII:function(e){return gm(e,function(t){return wm.test(t)?"xn--"+_u(t):t})},toUnicode:function(e){return gm(e,function(t){return vm.test(t)?wu(t.slice(4).toLowerCase()):t})}},bn.decode,bn.encode,bn.toASCII,bn.toUnicode,bn.ucs2,bn.version});function lE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var _m,ki,bm,Nr,aE=It(()=>{ce(),fe(),he(),_m=function(e,t,r,n){t=t||"&",r=r||"=";var o={};if(typeof e!="string"||e.length===0)return o;var i=/\+/g;e=e.split(t);var s=1e3;n&&typeof n.maxKeys=="number"&&(s=n.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var a=0;a<l;++a){var u,c,f,p,g=e[a].replace(i,"%20"),y=g.indexOf(r);y>=0?(u=g.substr(0,y),c=g.substr(y+1)):(u=g,c=""),f=decodeURIComponent(u),p=decodeURIComponent(c),lE(o,f)?Array.isArray(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o},ki=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},bm=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(o){var i=encodeURIComponent(ki(o))+r;return Array.isArray(e[o])?e[o].map(function(s){return i+encodeURIComponent(ki(s))}).join(t):i+encodeURIComponent(ki(e[o]))}).join(t):n?encodeURIComponent(ki(n))+r+encodeURIComponent(ki(e)):""},Nr={},Nr.decode=Nr.parse=_m,Nr.encode=Nr.stringify=bm,Nr.decode,Nr.encode,Nr.parse,Nr.stringify});function zh(){throw new Error("setTimeout has not been defined")}function Hh(){throw new Error("clearTimeout has not been defined")}function Sv(e){if(Yr===setTimeout)return setTimeout(e,0);if((Yr===zh||!Yr)&&setTimeout)return Yr=setTimeout,setTimeout(e,0);try{return Yr(e,0)}catch{try{return Yr.call(null,e,0)}catch{return Yr.call(this||ai,e,0)}}}function uE(){ui&&ni&&(ui=!1,ni.length?Fr=ni.concat(Fr):Zo=-1,Fr.length&&Ev())}function Ev(){if(!ui){var e=Sv(uE);ui=!0;for(var t=Fr.length;t;){for(ni=Fr,Fr=[];++Zo<t;)ni&&ni[Zo].run();Zo=-1,t=Fr.length}ni=null,ui=!1,function(r){if(Gr===clearTimeout)return clearTimeout(r);if((Gr===Hh||!Gr)&&clearTimeout)return Gr=clearTimeout,clearTimeout(r);try{Gr(r)}catch{try{return Gr.call(null,r)}catch{return Gr.call(this||ai,r)}}}(e)}}function Sm(e,t){(this||ai).fun=e,(this||ai).array=t}function zr(){}var Em,Yr,Gr,ai,ot,ni,Fr,ui,Zo,tt,cE=It(()=>{ce(),fe(),he(),ai=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,ot=Em={},function(){try{Yr=typeof setTimeout=="function"?setTimeout:zh}catch{Yr=zh}try{Gr=typeof clearTimeout=="function"?clearTimeout:Hh}catch{Gr=Hh}}(),Fr=[],ui=!1,Zo=-1,ot.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];Fr.push(new Sm(e,t)),Fr.length!==1||ui||Sv(Ev)},Sm.prototype.run=function(){(this||ai).fun.apply(null,(this||ai).array)},ot.title="browser",ot.browser=!0,ot.env={},ot.argv=[],ot.version="",ot.versions={},ot.on=zr,ot.addListener=zr,ot.once=zr,ot.off=zr,ot.removeListener=zr,ot.removeAllListeners=zr,ot.emit=zr,ot.prependListener=zr,ot.prependOnceListener=zr,ot.listeners=function(e){return[]},ot.binding=function(e){throw new Error("process.binding is not supported")},ot.cwd=function(){return"/"},ot.chdir=function(e){throw new Error("process.chdir is not supported")},ot.umask=function(){return 0},tt=Em,tt.addListener,tt.argv,tt.binding,tt.browser,tt.chdir,tt.cwd,tt.emit,tt.env,tt.listeners,tt.nextTick,tt.off,tt.on,tt.once,tt.prependListener,tt.prependOnceListener,tt.removeAllListeners,tt.removeListener,tt.title,tt.umask,tt.version,tt.versions});function hE(){if(Vh)return El;Vh=!0;var e=El={},t,r;function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=n}catch{t=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=o}catch{r=o}})();function i(_){if(t===setTimeout)return setTimeout(_,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(_,0);try{return t(_,0)}catch{try{return t.call(null,_,0)}catch{return t.call(this||Gn,_,0)}}}function s(_){if(r===clearTimeout)return clearTimeout(_);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(_);try{return r(_)}catch{try{return r.call(null,_)}catch{return r.call(this||Gn,_)}}}var l=[],a=!1,u,c=-1;function f(){!a||!u||(a=!1,u.length?l=u.concat(l):c=-1,l.length&&p())}function p(){if(!a){var _=i(f);a=!0;for(var C=l.length;C;){for(u=l,l=[];++c<C;)u&&u[c].run();c=-1,C=l.length}u=null,a=!1,s(_)}}e.nextTick=function(_){var C=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)C[b-1]=arguments[b];l.push(new g(_,C)),l.length===1&&!a&&i(p)};function g(_,C){(this||Gn).fun=_,(this||Gn).array=C}g.prototype.run=function(){(this||Gn).fun.apply(null,(this||Gn).array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function y(){}return e.on=y,e.addListener=y,e.once=y,e.off=y,e.removeListener=y,e.removeAllListeners=y,e.emit=y,e.prependListener=y,e.prependOnceListener=y,e.listeners=function(_){return[]},e.binding=function(_){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(_){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},El}var El,Vh,Gn,Ge,kv=It(()=>{ce(),fe(),he(),El={},Vh=!1,Gn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Ge=hE(),Ge.platform="browser",Ge.addListener,Ge.argv,Ge.binding,Ge.browser,Ge.chdir,Ge.cwd,Ge.emit,Ge.env,Ge.listeners,Ge.nextTick,Ge.off,Ge.on,Ge.once,Ge.prependListener,Ge.prependOnceListener,Ge.removeAllListeners,Ge.removeListener,Ge.title,Ge.umask,Ge.version,Ge.versions});function fE(){if(qh)return kl;qh=!0;var e=Ge;function t(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}function r(i,s){for(var l="",a=0,u=-1,c=0,f,p=0;p<=i.length;++p){if(p<i.length)f=i.charCodeAt(p);else{if(f===47)break;f=47}if(f===47){if(!(u===p-1||c===1))if(u!==p-1&&c===2){if(l.length<2||a!==2||l.charCodeAt(l.length-1)!==46||l.charCodeAt(l.length-2)!==46){if(l.length>2){var g=l.lastIndexOf("/");if(g!==l.length-1){g===-1?(l="",a=0):(l=l.slice(0,g),a=l.length-1-l.lastIndexOf("/")),u=p,c=0;continue}}else if(l.length===2||l.length===1){l="",a=0,u=p,c=0;continue}}s&&(l.length>0?l+="/..":l="..",a=2)}else l.length>0?l+="/"+i.slice(u+1,p):l=i.slice(u+1,p),a=p-u-1;u=p,c=0}else f===46&&c!==-1?++c:c=-1}return l}function n(i,s){var l=s.dir||s.root,a=s.base||(s.name||"")+(s.ext||"");return l?l===s.root?l+a:l+i+a:a}var o={resolve:function(){for(var i="",s=!1,l,a=arguments.length-1;a>=-1&&!s;a--){var u;a>=0?u=arguments[a]:(l===void 0&&(l=e.cwd()),u=l),t(u),u.length!==0&&(i=u+"/"+i,s=u.charCodeAt(0)===47)}return i=r(i,!s),s?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(i){if(t(i),i.length===0)return".";var s=i.charCodeAt(0)===47,l=i.charCodeAt(i.length-1)===47;return i=r(i,!s),i.length===0&&!s&&(i="."),i.length>0&&l&&(i+="/"),s?"/"+i:i},isAbsolute:function(i){return t(i),i.length>0&&i.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var i,s=0;s<arguments.length;++s){var l=arguments[s];t(l),l.length>0&&(i===void 0?i=l:i+="/"+l)}return i===void 0?".":o.normalize(i)},relative:function(i,s){if(t(i),t(s),i===s||(i=o.resolve(i),s=o.resolve(s),i===s))return"";for(var l=1;l<i.length&&i.charCodeAt(l)===47;++l);for(var a=i.length,u=a-l,c=1;c<s.length&&s.charCodeAt(c)===47;++c);for(var f=s.length,p=f-c,g=u<p?u:p,y=-1,_=0;_<=g;++_){if(_===g){if(p>g){if(s.charCodeAt(c+_)===47)return s.slice(c+_+1);if(_===0)return s.slice(c+_)}else u>g&&(i.charCodeAt(l+_)===47?y=_:_===0&&(y=0));break}var C=i.charCodeAt(l+_),b=s.charCodeAt(c+_);if(C!==b)break;C===47&&(y=_)}var v="";for(_=l+y+1;_<=a;++_)(_===a||i.charCodeAt(_)===47)&&(v.length===0?v+="..":v+="/..");return v.length>0?v+s.slice(c+y):(c+=y,s.charCodeAt(c)===47&&++c,s.slice(c))},_makeLong:function(i){return i},dirname:function(i){if(t(i),i.length===0)return".";for(var s=i.charCodeAt(0),l=s===47,a=-1,u=!0,c=i.length-1;c>=1;--c)if(s=i.charCodeAt(c),s===47){if(!u){a=c;break}}else u=!1;return a===-1?l?"/":".":l&&a===1?"//":i.slice(0,a)},basename:function(i,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');t(i);var l=0,a=-1,u=!0,c;if(s!==void 0&&s.length>0&&s.length<=i.length){if(s.length===i.length&&s===i)return"";var f=s.length-1,p=-1;for(c=i.length-1;c>=0;--c){var g=i.charCodeAt(c);if(g===47){if(!u){l=c+1;break}}else p===-1&&(u=!1,p=c+1),f>=0&&(g===s.charCodeAt(f)?--f===-1&&(a=c):(f=-1,a=p))}return l===a?a=p:a===-1&&(a=i.length),i.slice(l,a)}else{for(c=i.length-1;c>=0;--c)if(i.charCodeAt(c)===47){if(!u){l=c+1;break}}else a===-1&&(u=!1,a=c+1);return a===-1?"":i.slice(l,a)}},extname:function(i){t(i);for(var s=-1,l=0,a=-1,u=!0,c=0,f=i.length-1;f>=0;--f){var p=i.charCodeAt(f);if(p===47){if(!u){l=f+1;break}continue}a===-1&&(u=!1,a=f+1),p===46?s===-1?s=f:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||a===-1||c===0||c===1&&s===a-1&&s===l+1?"":i.slice(s,a)},format:function(i){if(i===null||typeof i!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof i);return n("/",i)},parse:function(i){t(i);var s={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return s;var l=i.charCodeAt(0),a=l===47,u;a?(s.root="/",u=1):u=0;for(var c=-1,f=0,p=-1,g=!0,y=i.length-1,_=0;y>=u;--y){if(l=i.charCodeAt(y),l===47){if(!g){f=y+1;break}continue}p===-1&&(g=!1,p=y+1),l===46?c===-1?c=y:_!==1&&(_=1):c!==-1&&(_=-1)}return c===-1||p===-1||_===0||_===1&&c===p-1&&c===f+1?p!==-1&&(f===0&&a?s.base=s.name=i.slice(1,p):s.base=s.name=i.slice(f,p)):(f===0&&a?(s.name=i.slice(1,c),s.base=i.slice(1,p)):(s.name=i.slice(f,c),s.base=i.slice(f,p)),s.ext=i.slice(c,p)),f>0?s.dir=i.slice(0,f-1):a&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return o.posix=o,kl=o,kl}var kl,qh,Kh,dE=It(()=>{ce(),fe(),he(),kv(),kl={},qh=!1,Kh=fE()}),Av={};vi(Av,{URL:()=>zv,Url:()=>Uv,default:()=>We,fileURLToPath:()=>Cv,format:()=>Fv,parse:()=>Wv,pathToFileURL:()=>Iv,resolve:()=>$v,resolveObject:()=>Dv});function lr(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function Po(e,t,r){if(e&&yr.isObject(e)&&e instanceof lr)return e;var n=new lr;return n.parse(e,t,r),n}function pE(){if(Qh)return Al;Qh=!0;var e=tt;function t(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}function r(i,s){for(var l="",a=0,u=-1,c=0,f,p=0;p<=i.length;++p){if(p<i.length)f=i.charCodeAt(p);else{if(f===47)break;f=47}if(f===47){if(!(u===p-1||c===1))if(u!==p-1&&c===2){if(l.length<2||a!==2||l.charCodeAt(l.length-1)!==46||l.charCodeAt(l.length-2)!==46){if(l.length>2){var g=l.lastIndexOf("/");if(g!==l.length-1){g===-1?(l="",a=0):(l=l.slice(0,g),a=l.length-1-l.lastIndexOf("/")),u=p,c=0;continue}}else if(l.length===2||l.length===1){l="",a=0,u=p,c=0;continue}}s&&(l.length>0?l+="/..":l="..",a=2)}else l.length>0?l+="/"+i.slice(u+1,p):l=i.slice(u+1,p),a=p-u-1;u=p,c=0}else f===46&&c!==-1?++c:c=-1}return l}function n(i,s){var l=s.dir||s.root,a=s.base||(s.name||"")+(s.ext||"");return l?l===s.root?l+a:l+i+a:a}var o={resolve:function(){for(var i="",s=!1,l,a=arguments.length-1;a>=-1&&!s;a--){var u;a>=0?u=arguments[a]:(l===void 0&&(l=e.cwd()),u=l),t(u),u.length!==0&&(i=u+"/"+i,s=u.charCodeAt(0)===47)}return i=r(i,!s),s?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(i){if(t(i),i.length===0)return".";var s=i.charCodeAt(0)===47,l=i.charCodeAt(i.length-1)===47;return i=r(i,!s),i.length===0&&!s&&(i="."),i.length>0&&l&&(i+="/"),s?"/"+i:i},isAbsolute:function(i){return t(i),i.length>0&&i.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var i,s=0;s<arguments.length;++s){var l=arguments[s];t(l),l.length>0&&(i===void 0?i=l:i+="/"+l)}return i===void 0?".":o.normalize(i)},relative:function(i,s){if(t(i),t(s),i===s||(i=o.resolve(i),s=o.resolve(s),i===s))return"";for(var l=1;l<i.length&&i.charCodeAt(l)===47;++l);for(var a=i.length,u=a-l,c=1;c<s.length&&s.charCodeAt(c)===47;++c);for(var f=s.length,p=f-c,g=u<p?u:p,y=-1,_=0;_<=g;++_){if(_===g){if(p>g){if(s.charCodeAt(c+_)===47)return s.slice(c+_+1);if(_===0)return s.slice(c+_)}else u>g&&(i.charCodeAt(l+_)===47?y=_:_===0&&(y=0));break}var C=i.charCodeAt(l+_),b=s.charCodeAt(c+_);if(C!==b)break;C===47&&(y=_)}var v="";for(_=l+y+1;_<=a;++_)(_===a||i.charCodeAt(_)===47)&&(v.length===0?v+="..":v+="/..");return v.length>0?v+s.slice(c+y):(c+=y,s.charCodeAt(c)===47&&++c,s.slice(c))},_makeLong:function(i){return i},dirname:function(i){if(t(i),i.length===0)return".";for(var s=i.charCodeAt(0),l=s===47,a=-1,u=!0,c=i.length-1;c>=1;--c)if(s=i.charCodeAt(c),s===47){if(!u){a=c;break}}else u=!1;return a===-1?l?"/":".":l&&a===1?"//":i.slice(0,a)},basename:function(i,s){if(s!==void 0&&typeof s!="string")throw new TypeError('"ext" argument must be a string');t(i);var l=0,a=-1,u=!0,c;if(s!==void 0&&s.length>0&&s.length<=i.length){if(s.length===i.length&&s===i)return"";var f=s.length-1,p=-1;for(c=i.length-1;c>=0;--c){var g=i.charCodeAt(c);if(g===47){if(!u){l=c+1;break}}else p===-1&&(u=!1,p=c+1),f>=0&&(g===s.charCodeAt(f)?--f===-1&&(a=c):(f=-1,a=p))}return l===a?a=p:a===-1&&(a=i.length),i.slice(l,a)}else{for(c=i.length-1;c>=0;--c)if(i.charCodeAt(c)===47){if(!u){l=c+1;break}}else a===-1&&(u=!1,a=c+1);return a===-1?"":i.slice(l,a)}},extname:function(i){t(i);for(var s=-1,l=0,a=-1,u=!0,c=0,f=i.length-1;f>=0;--f){var p=i.charCodeAt(f);if(p===47){if(!u){l=f+1;break}continue}a===-1&&(u=!1,a=f+1),p===46?s===-1?s=f:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||a===-1||c===0||c===1&&s===a-1&&s===l+1?"":i.slice(s,a)},format:function(i){if(i===null||typeof i!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof i);return n("/",i)},parse:function(i){t(i);var s={root:"",dir:"",base:"",ext:"",name:""};if(i.length===0)return s;var l=i.charCodeAt(0),a=l===47,u;a?(s.root="/",u=1):u=0;for(var c=-1,f=0,p=-1,g=!0,y=i.length-1,_=0;y>=u;--y){if(l=i.charCodeAt(y),l===47){if(!g){f=y+1;break}continue}p===-1&&(g=!1,p=y+1),l===46?c===-1?c=y:_!==1&&(_=1):c!==-1&&(_=-1)}return c===-1||p===-1||_===0||_===1&&c===p-1&&c===f+1?p!==-1&&(f===0&&a?s.base=s.name=i.slice(1,p):s.base=s.name=i.slice(f,p)):(f===0&&a?(s.name=i.slice(1,c),s.base=i.slice(1,p)):(s.name=i.slice(f,c),s.base=i.slice(f,p)),s.ext=i.slice(c,p)),f>0?s.dir=i.slice(0,f-1):a&&(s.dir="/"),s},sep:"/",delimiter:":",win32:null,posix:null};return o.posix=o,Al=o,Al}function mE(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return oa?gE(e):yE(e)}function gE(e){let t=e.hostname,r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){let o=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&o===102||r[n+1]==="5"&&o===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(Ov,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{let n=r.codePointAt(1)|32,o=r[2];if(n<Tv||n>Rv||o!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function yE(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){let n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function vE(e){let t=Yh.resolve(e),r=e.charCodeAt(e.length-1);(r===Pv||oa&&r===xv)&&t[t.length-1]!==Yh.sep&&(t+="/");let n=new URL("file://");return t.includes("%")&&(t=t.replace(Nv,"%25")),!oa&&t.includes("\\")&&(t=t.replace(Mv,"%5C")),t.includes(`
`)&&(t=t.replace(Bv,"%0A")),t.includes("\r")&&(t=t.replace(Lv,"%0D")),t.includes("	")&&(t=t.replace(jv,"%09")),n.pathname=t,n}function Cv(e){if(typeof e=="string")e=new URL(e);else if(!(e instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(e.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return sa?wE(e):_E(e)}function wE(e){let t=e.hostname,r=e.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){let o=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&o===102||r[n+1]==="5"&&o===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(Qv,"\\"),r=decodeURIComponent(r),t!=="")return`\\\\${t}${r}`;{let n=r.codePointAt(1)|32,o=r[2];if(n<qv||n>Kv||o!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function _E(e){if(e.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let t=e.pathname;for(let r=0;r<t.length;r++)if(t[r]==="%"){let n=t.codePointAt(r+2)||32;if(t[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(t)}function Iv(e){let t=Kh.resolve(e),r=e.charCodeAt(e.length-1);(r===Vv||sa&&r===Hv)&&t[t.length-1]!==Kh.sep&&(t+="/");let n=new URL("file://");return t.includes("%")&&(t=t.replace(Yv,"%25")),!sa&&t.includes("\\")&&(t=t.replace(Gv,"%5C")),t.includes(`
`)&&(t=t.replace(Jv,"%0A")),t.includes("\r")&&(t=t.replace(Xv,"%0D")),t.includes("	")&&(t=t.replace(Zv,"%09")),n.pathname=t,n}var We,km,yr,Am,Cm,Im,xm,Js,bu,Su,Eu,Pm,Tm,Xs,Kn,Zs,Al,Qh,Yh,Rm,xv,Pv,Tv,Rv,oa,Ov,Nv,Mv,Bv,Lv,jv,Om,Uv,Fv,$v,Dv,Wv,zv,Hv,Vv,qv,Kv,sa,Qv,Yv,Gv,Jv,Xv,Zv,bE=It(()=>{ce(),fe(),he(),sE(),aE(),cE(),dE(),kv(),We={},km=bn,yr={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},We.parse=Po,We.resolve=function(e,t){return Po(e,!1,!0).resolve(t)},We.resolveObject=function(e,t){return e?Po(e,!1,!0).resolveObject(t):t},We.format=function(e){return yr.isString(e)&&(e=Po(e)),e instanceof lr?e.format():lr.prototype.format.call(e)},We.Url=lr,Am=/^([a-z0-9.+-]+:)/i,Cm=/:[0-9]*$/,Im=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,xm=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),Js=["'"].concat(xm),bu=["%","/","?",";","#"].concat(Js),Su=["/","?","#"],Eu=/^[+a-z0-9A-Z_-]{0,63}$/,Pm=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Tm={javascript:!0,"javascript:":!0},Xs={javascript:!0,"javascript:":!0},Kn={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Zs=Nr,lr.prototype.parse=function(e,t,r){if(!yr.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),o=n!==-1&&n<e.indexOf("#")?"?":"#",i=e.split(o);i[0]=i[0].replace(/\\/g,"/");var s=e=i.join(o);if(s=s.trim(),!r&&e.split("#").length===1){var l=Im.exec(s);if(l)return this.path=s,this.href=s,this.pathname=l[1],l[2]?(this.search=l[2],this.query=t?Zs.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var a=Am.exec(s);if(a){var u=(a=a[0]).toLowerCase();this.protocol=u,s=s.substr(a.length)}if(r||a||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var c=s.substr(0,2)==="//";!c||a&&Xs[a]||(s=s.substr(2),this.slashes=!0)}if(!Xs[a]&&(c||a&&!Kn[a])){for(var f,p,g=-1,y=0;y<Su.length;y++)(_=s.indexOf(Su[y]))!==-1&&(g===-1||_<g)&&(g=_);for((p=g===-1?s.lastIndexOf("@"):s.lastIndexOf("@",g))!==-1&&(f=s.slice(0,p),s=s.slice(p+1),this.auth=decodeURIComponent(f)),g=-1,y=0;y<bu.length;y++){var _;(_=s.indexOf(bu[y]))!==-1&&(g===-1||_<g)&&(g=_)}g===-1&&(g=s.length),this.host=s.slice(0,g),s=s.slice(g),this.parseHost(),this.hostname=this.hostname||"";var C=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!C)for(var b=this.hostname.split(/\./),v=(y=0,b.length);y<v;y++){var w=b[y];if(w&&!w.match(Eu)){for(var A="",T=0,k=w.length;T<k;T++)w.charCodeAt(T)>127?A+="x":A+=w[T];if(!A.match(Eu)){var E=b.slice(0,y),x=b.slice(y+1),U=w.match(Pm);U&&(E.push(U[1]),x.unshift(U[2])),x.length&&(s="/"+x.join(".")+s),this.hostname=E.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=km.toASCII(this.hostname));var H=this.port?":"+this.port:"",Q=this.hostname||"";this.host=Q+H,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),s[0]!=="/"&&(s="/"+s))}if(!Tm[u])for(y=0,v=Js.length;y<v;y++){var P=Js[y];if(s.indexOf(P)!==-1){var V=encodeURIComponent(P);V===P&&(V=escape(P)),s=s.split(P).join(V)}}var te=s.indexOf("#");te!==-1&&(this.hash=s.substr(te),s=s.slice(0,te));var J=s.indexOf("?");if(J!==-1?(this.search=s.substr(J),this.query=s.substr(J+1),t&&(this.query=Zs.parse(this.query)),s=s.slice(0,J)):t&&(this.search="",this.query={}),s&&(this.pathname=s),Kn[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){H=this.pathname||"";var ye=this.search||"";this.path=H+ye}return this.href=this.format(),this},lr.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&yr.isObject(this.query)&&Object.keys(this.query).length&&(i=Zs.stringify(this.query));var s=this.search||i&&"?"+i||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Kn[t])&&o!==!1?(o="//"+(o||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):o||(o=""),n&&n.charAt(0)!=="#"&&(n="#"+n),s&&s.charAt(0)!=="?"&&(s="?"+s),t+o+(r=r.replace(/[?#]/g,function(l){return encodeURIComponent(l)}))+(s=s.replace("#","%23"))+n},lr.prototype.resolve=function(e){return this.resolveObject(Po(e,!1,!0)).format()},lr.prototype.resolveObject=function(e){if(yr.isString(e)){var t=new lr;t.parse(e,!1,!0),e=t}for(var r=new lr,n=Object.keys(this),o=0;o<n.length;o++){var i=n[o];r[i]=this[i]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),l=0;l<s.length;l++){var a=s[l];a!=="protocol"&&(r[a]=e[a])}return Kn[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!Kn[e.protocol]){for(var u=Object.keys(e),c=0;c<u.length;c++){var f=u[c];r[f]=e[f]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||Xs[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),p[0]!==""&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||"",y=r.search||"";r.path=g+y}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",C=e.host||e.pathname&&e.pathname.charAt(0)==="/",b=C||_||r.host&&e.pathname,v=b,w=r.pathname&&r.pathname.split("/")||[],A=(p=e.pathname&&e.pathname.split("/")||[],r.protocol&&!Kn[r.protocol]);if(A&&(r.hostname="",r.port=null,r.host&&(w[0]===""?w[0]=r.host:w.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(p[0]===""?p[0]=e.host:p.unshift(e.host)),e.host=null),b=b&&(p[0]===""||w[0]==="")),C)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),r.search=e.search,r.query=e.query;else if(!yr.isNullOrUndefined(e.search))return A&&(r.hostname=r.host=w.shift(),(U=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=U.shift(),r.host=r.hostname=U.shift())),r.search=e.search,r.query=e.query,yr.isNull(r.pathname)&&yr.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var T=w.slice(-1)[0],k=(r.host||e.host||w.length>1)&&(T==="."||T==="..")||T==="",E=0,x=w.length;x>=0;x--)(T=w[x])==="."?w.splice(x,1):T===".."?(w.splice(x,1),E++):E&&(w.splice(x,1),E--);if(!b&&!v)for(;E--;E)w.unshift("..");!b||w[0]===""||w[0]&&w[0].charAt(0)==="/"||w.unshift(""),k&&w.join("/").substr(-1)!=="/"&&w.push("");var U,H=w[0]===""||w[0]&&w[0].charAt(0)==="/";return A&&(r.hostname=r.host=H?"":w.length?w.shift():"",(U=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=U.shift(),r.host=r.hostname=U.shift())),(b=b||r.host&&w.length)&&!H&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),yr.isNull(r.pathname)&&yr.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},lr.prototype.parseHost=function(){var e=this.host,t=Cm.exec(e);t&&((t=t[0])!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},We.Url,We.format,We.resolve,We.resolveObject,Al={},Qh=!1,Yh=pE(),Rm=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,We.URL=typeof URL<"u"?URL:null,We.pathToFileURL=vE,We.fileURLToPath=mE,We.Url,We.format,We.resolve,We.resolveObject,We.URL,xv=92,Pv=47,Tv=97,Rv=122,oa=Rm==="win32",Ov=/\//g,Nv=/%/g,Mv=/\\/g,Bv=/\n/g,Lv=/\r/g,jv=/\t/g,Om=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,We.URL=typeof URL<"u"?URL:null,We.pathToFileURL=Iv,We.fileURLToPath=Cv,Uv=We.Url,Fv=We.format,$v=We.resolve,Dv=We.resolveObject,Wv=We.parse,zv=We.URL,Hv=92,Vv=47,qv=97,Kv=122,sa=Om==="win32",Qv=/\//g,Yv=/%/g,Gv=/\\/g,Jv=/\n/g,Xv=/\r/g,Zv=/\t/g}),SE=ve((e,t)=>{ce(),fe(),he(),t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),pd=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"__esModule",{value:!0}),e.BufferedDuplex=e.writev=void 0;var t=bi(),r=(Pt(),He(xt));function n(i,s){let l=new Array(i.length);for(let a=0;a<i.length;a++)typeof i[a].chunk=="string"?l[a]=r.Buffer.from(i[a].chunk,"utf8"):l[a]=i[a].chunk;this._write(r.Buffer.concat(l),"binary",s)}e.writev=n;var o=class extends t.Duplex{constructor(i,s,l){super({objectMode:!0}),this.proxy=s,this.socket=l,this.writeQueue=[],i.objectMode||(this._writev=n.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",a=>{this.destroyed||this.push(a)})}_read(i){this.proxy.read(i)}_write(i,s,l){this.isSocketOpen?this.writeToProxy(i,s,l):this.writeQueue.push({chunk:i,encoding:s,cb:l})}_final(i){this.writeQueue=[],this.proxy.end(i)}_destroy(i,s){this.writeQueue=[],this.proxy.destroy(),s(i)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(i,s,l){this.proxy.write(i,s)===!1?this.proxy.once("drain",l):l()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:i,encoding:s,cb:l}=this.writeQueue.shift();this.writeToProxy(i,s,l)}}};e.BufferedDuplex=o}),el=ve(e=>{ce(),fe(),he();var t=e&&e.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0}),e.streamBuilder=e.browserStreamBuilder=void 0;var r=(Pt(),He(xt)),n=t(SE()),o=t(hn()),i=bi(),s=t(Oa()),l=pd(),a=(0,o.default)("mqttjs:ws"),u=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function c(b,v){let w=`${b.protocol}://${b.hostname}:${b.port}${b.path}`;return typeof b.transformWsUrl=="function"&&(w=b.transformWsUrl(w,b,v)),w}function f(b){let v=b;return b.port||(b.protocol==="wss"?v.port=443:v.port=80),b.path||(v.path="/"),b.wsOptions||(v.wsOptions={}),!s.default&&!b.forceNativeWebSocket&&b.protocol==="wss"&&u.forEach(w=>{Object.prototype.hasOwnProperty.call(b,w)&&!Object.prototype.hasOwnProperty.call(b.wsOptions,w)&&(v.wsOptions[w]=b[w])}),v}function p(b){let v=f(b);if(v.hostname||(v.hostname=v.host),!v.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let w=new URL(document.URL);v.hostname=w.hostname,v.port||(v.port=Number(w.port))}return v.objectMode===void 0&&(v.objectMode=!(v.binary===!0||v.binary===void 0)),v}function g(b,v,w){a("createWebSocket"),a(`protocol: ${w.protocolId} ${w.protocolVersion}`);let A=w.protocolId==="MQIsdp"&&w.protocolVersion===3?"mqttv3.1":"mqtt";a(`creating new Websocket for url: ${v} and protocol: ${A}`);let T;return w.createWebsocket?T=w.createWebsocket(v,[A],w):T=new n.default(v,[A],w.wsOptions),T}function y(b,v){let w=v.protocolId==="MQIsdp"&&v.protocolVersion===3?"mqttv3.1":"mqtt",A=c(v,b),T;return v.createWebsocket?T=v.createWebsocket(A,[w],v):T=new WebSocket(A,[w]),T.binaryType="arraybuffer",T}var _=(b,v)=>{a("streamBuilder");let w=f(v);w.hostname=w.hostname||w.host||"localhost";let A=c(w,b),T=g(b,A,w),k=n.default.createWebSocketStream(T,w.wsOptions);return k.url=A,T.on("close",()=>{k.destroy()}),k};e.streamBuilder=_;var C=(b,v)=>{a("browserStreamBuilder");let w,A=p(v).browserBufferSize||1024*512,T=v.browserBufferTimeout||1e3,k=!v.objectMode,E=y(b,v),x=H(v,J,ye);v.objectMode||(x._writev=l.writev.bind(x)),x.on("close",()=>{E.close()});let U=typeof E.addEventListener<"u";E.readyState===E.OPEN?(w=x,w.socket=E):(w=new l.BufferedDuplex(v,x,E),U?E.addEventListener("open",Q):E.onopen=Q),U?(E.addEventListener("close",P),E.addEventListener("error",V),E.addEventListener("message",te)):(E.onclose=P,E.onerror=V,E.onmessage=te);function H(oe,j,Z){let G=new i.Transform({objectMode:oe.objectMode});return G._write=j,G._flush=Z,G}function Q(){a("WebSocket onOpen"),w instanceof l.BufferedDuplex&&w.socketReady()}function P(oe){a("WebSocket onClose",oe),w.end(),w.destroy()}function V(oe){a("WebSocket onError",oe);let j=new Error("WebSocket error");j.event=oe,w.destroy(j)}async function te(oe){let{data:j}=oe;j instanceof ArrayBuffer?j=r.Buffer.from(j):j instanceof Blob?j=r.Buffer.from(await new Response(j).arrayBuffer()):j=r.Buffer.from(j,"utf8"),x&&!x.destroyed&&x.push(j)}function J(oe,j,Z){if(E.bufferedAmount>A){setTimeout(J,T,oe,j,Z);return}k&&typeof oe=="string"&&(oe=r.Buffer.from(oe,"utf8"));try{E.send(oe)}catch(G){return Z(G)}Z()}function ye(oe){E.close(),oe()}return w};e.browserStreamBuilder=C}),md={};vi(md,{Server:()=>Je,Socket:()=>Je,Stream:()=>Je,_createServerHandle:()=>Je,_normalizeArgs:()=>Je,_setSimultaneousAccepts:()=>Je,connect:()=>Je,createConnection:()=>Je,createServer:()=>Je,default:()=>e1,isIP:()=>Je,isIPv4:()=>Je,isIPv6:()=>Je});function Je(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var e1,t1=It(()=>{ce(),fe(),he(),e1={_createServerHandle:Je,_normalizeArgs:Je,_setSimultaneousAccepts:Je,connect:Je,createConnection:Je,createServer:Je,isIP:Je,isIPv4:Je,isIPv6:Je,Server:Je,Socket:Je,Stream:Je}}),Nm=ve(e=>{ce(),fe(),he();var t=e&&e.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var r=t((t1(),He(md))),n=t(hn()),o=(0,n.default)("mqttjs:tcp"),i=(s,l)=>{l.port=l.port||1883,l.hostname=l.hostname||l.host||"localhost";let{port:a,path:u}=l,c=l.hostname;return o("port %d and host %s",a,c),r.default.createConnection({port:a,host:c,path:u})};e.default=i}),r1={};vi(r1,{default:()=>n1});var n1,EE=It(()=>{ce(),fe(),he(),n1={}}),Mm=ve(e=>{ce(),fe(),he();var t=e&&e.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0});var r=t((EE(),He(r1))),n=t((t1(),He(md))),o=t(hn()),i=(0,o.default)("mqttjs:tls"),s=(l,a)=>{a.port=a.port||8883,a.host=a.hostname||a.host||"localhost",n.default.isIP(a.host)===0&&(a.servername=a.host),a.rejectUnauthorized=a.rejectUnauthorized!==!1,delete a.path,i("port %d host %s rejectUnauthorized %b",a.port,a.host,a.rejectUnauthorized);let u=r.default.connect(a);u.on("secureConnect",()=>{a.rejectUnauthorized&&!u.authorized?u.emit("error",new Error("TLS not authorized")):u.removeListener("error",c)});function c(f){a.rejectUnauthorized&&l.emit("error",f),u.end()}return u.on("error",c),u};e.default=s}),Bm=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"__esModule",{value:!0});var t=(Pt(),He(xt)),r=bi(),n=pd(),o,i,s;function l(){let p=new r.Transform;return p._write=(g,y,_)=>{o.send({data:g.buffer,success(){_()},fail(C){_(new Error(C))}})},p._flush=g=>{o.close({success(){g()}})},p}function a(p){p.hostname||(p.hostname="localhost"),p.path||(p.path="/"),p.wsOptions||(p.wsOptions={})}function u(p,g){let y=p.protocol==="wxs"?"wss":"ws",_=`${y}://${p.hostname}${p.path}`;return p.port&&p.port!==80&&p.port!==443&&(_=`${y}://${p.hostname}:${p.port}${p.path}`),typeof p.transformWsUrl=="function"&&(_=p.transformWsUrl(_,p,g)),_}function c(){o.onOpen(()=>{s.socketReady()}),o.onMessage(p=>{let{data:g}=p;g instanceof ArrayBuffer?g=t.Buffer.from(g):g=t.Buffer.from(g,"utf8"),i.push(g)}),o.onClose(()=>{s.emit("close"),s.end(),s.destroy()}),o.onError(p=>{let g=new Error(p.errMsg);s.destroy(g)})}var f=(p,g)=>{if(g.hostname=g.hostname||g.host,!g.hostname)throw new Error("Could not determine host. Specify host manually.");let y=g.protocolId==="MQIsdp"&&g.protocolVersion===3?"mqttv3.1":"mqtt";a(g);let _=u(g,p);o=wx.connectSocket({url:_,protocols:[y]}),i=l(),s=new n.BufferedDuplex(g,i,o),s._destroy=(b,v)=>{o.close({success(){v&&v(b)}})};let C=s.destroy;return s.destroy=(b,v)=>(s.destroy=C,setTimeout(()=>{o.close({fail(){s._destroy(b,v)}})},0),s),c(),s};e.default=f}),Lm=ve(e=>{ce(),fe(),he(),Object.defineProperty(e,"__esModule",{value:!0});var t=(Pt(),He(xt)),r=bi(),n=pd(),o,i,s,l=!1;function a(){let g=new r.Transform;return g._write=(y,_,C)=>{o.sendSocketMessage({data:y.buffer,success(){C()},fail(){C(new Error)}})},g._flush=y=>{o.closeSocket({success(){y()}})},g}function u(g){g.hostname||(g.hostname="localhost"),g.path||(g.path="/"),g.wsOptions||(g.wsOptions={})}function c(g,y){let _=g.protocol==="alis"?"wss":"ws",C=`${_}://${g.hostname}${g.path}`;return g.port&&g.port!==80&&g.port!==443&&(C=`${_}://${g.hostname}:${g.port}${g.path}`),typeof g.transformWsUrl=="function"&&(C=g.transformWsUrl(C,g,y)),C}function f(){l||(l=!0,o.onSocketOpen(()=>{s.socketReady()}),o.onSocketMessage(g=>{if(typeof g.data=="string"){let y=t.Buffer.from(g.data,"base64");i.push(y)}else{let y=new FileReader;y.addEventListener("load",()=>{let _=y.result;_ instanceof ArrayBuffer?_=t.Buffer.from(_):_=t.Buffer.from(_,"utf8"),i.push(_)}),y.readAsArrayBuffer(g.data)}}),o.onSocketClose(()=>{s.end(),s.destroy()}),o.onSocketError(g=>{s.destroy(g)}))}var p=(g,y)=>{if(y.hostname=y.hostname||y.host,!y.hostname)throw new Error("Could not determine host. Specify host manually.");let _=y.protocolId==="MQIsdp"&&y.protocolVersion===3?"mqttv3.1":"mqtt";u(y);let C=c(y,g);return o=y.my,o.connectSocket({url:C,protocols:_}),i=a(),s=new n.BufferedDuplex(y,i,o),f(),s};e.default=p}),kE=ve(e=>{ce(),fe(),he();var t=e&&e.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.connectAsync=void 0;var r=t(hn()),n=t((bE(),He(Av))),o=t(Dh()),i=t(Oa());typeof(Ue==null?void 0:Ue.nextTick)!="function"&&(Ue.nextTick=setImmediate);var s=(0,r.default)("mqttjs"),l=null;function a(f){let p;f.auth&&(p=f.auth.match(/^(.+):(.+)$/),p?(f.username=p[1],f.password=p[2]):f.username=f.auth)}function u(f,p){var g,y,_,C;if(s("connecting to an MQTT broker..."),typeof f=="object"&&!p&&(p=f,f=""),p=p||{},f&&typeof f=="string"){let w=n.default.parse(f,!0),A={};if(w.port!=null&&(A.port=Number(w.port)),A.host=w.hostname,A.query=w.query,A.auth=w.auth,A.protocol=w.protocol,A.path=w.path,A.protocol=(g=A.protocol)===null||g===void 0?void 0:g.replace(/:$/,""),p=Object.assign(Object.assign({},A),p),!p.protocol)throw new Error("Missing protocol")}if(p.unixSocket=p.unixSocket||((y=p.protocol)===null||y===void 0?void 0:y.includes("+unix")),p.unixSocket?p.protocol=p.protocol.replace("+unix",""):!(!((_=p.protocol)===null||_===void 0)&&_.startsWith("ws"))&&!(!((C=p.protocol)===null||C===void 0)&&C.startsWith("wx"))&&delete p.path,a(p),p.query&&typeof p.query.clientId=="string"&&(p.clientId=p.query.clientId),p.cert&&p.key)if(p.protocol){if(["mqtts","wss","wxs","alis"].indexOf(p.protocol)===-1)switch(p.protocol){case"mqtt":p.protocol="mqtts";break;case"ws":p.protocol="wss";break;case"wx":p.protocol="wxs";break;case"ali":p.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${p.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(l||(l={},!i.default&&!p.forceNativeWebSocket?(l.ws=el().streamBuilder,l.wss=el().streamBuilder,l.mqtt=Nm().default,l.tcp=Nm().default,l.ssl=Mm().default,l.tls=l.ssl,l.mqtts=Mm().default):(l.ws=el().browserStreamBuilder,l.wss=el().browserStreamBuilder,l.wx=Bm().default,l.wxs=Bm().default,l.ali=Lm().default,l.alis=Lm().default)),!l[p.protocol]){let w=["mqtts","wss"].indexOf(p.protocol)!==-1;p.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((A,T)=>w&&T%2===0?!1:typeof l[A]=="function")[0]}if(p.clean===!1&&!p.clientId)throw new Error("Missing clientId for unclean clients");p.protocol&&(p.defaultProtocol=p.protocol);function b(w){return p.servers&&((!w._reconnectCount||w._reconnectCount===p.servers.length)&&(w._reconnectCount=0),p.host=p.servers[w._reconnectCount].host,p.port=p.servers[w._reconnectCount].port,p.protocol=p.servers[w._reconnectCount].protocol?p.servers[w._reconnectCount].protocol:p.defaultProtocol,p.hostname=p.host,w._reconnectCount++),s("calling streambuilder for",p.protocol),l[p.protocol](w,p)}let v=new o.default(b,p);return v.on("error",()=>{}),v}function c(f,p,g=!0){return new Promise((y,_)=>{let C=u(f,p),b={connect:w=>{v(),y(C)},end:()=>{v(),y(C)},error:w=>{v(),C.end(),_(w)}};g===!1&&(b.close=()=>{b.error(new Error("Couldn't connect to server"))});function v(){Object.keys(b).forEach(w=>{C.off(w,b[w])})}Object.keys(b).forEach(w=>{C.on(w,b[w])})})}e.connectAsync=c,e.default=u}),jm=ve(e=>{ce(),fe(),he();var t=e&&e.__createBinding||(Object.create?function(g,y,_,C){C===void 0&&(C=_);var b=Object.getOwnPropertyDescriptor(y,_);(!b||("get"in b?!y.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return y[_]}}),Object.defineProperty(g,C,b)}:function(g,y,_,C){C===void 0&&(C=_),g[C]=y[_]}),r=e&&e.__setModuleDefault||(Object.create?function(g,y){Object.defineProperty(g,"default",{enumerable:!0,value:y})}:function(g,y){g.default=y}),n=e&&e.__importStar||function(g){if(g&&g.__esModule)return g;var y={};if(g!=null)for(var _ in g)_!=="default"&&Object.prototype.hasOwnProperty.call(g,_)&&t(y,g,_);return r(y,g),y},o=e&&e.__exportStar||function(g,y){for(var _ in g)_!=="default"&&!Object.prototype.hasOwnProperty.call(y,_)&&t(y,g,_)},i=e&&e.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0}),e.ReasonCodes=e.KeepaliveManager=e.UniqueMessageIdProvider=e.DefaultMessageIdProvider=e.Store=e.MqttClient=e.connectAsync=e.connect=e.Client=void 0;var s=i(Dh());e.MqttClient=s.default;var l=i(rv());e.DefaultMessageIdProvider=l.default;var a=i(oE());e.UniqueMessageIdProvider=a.default;var u=i(nv());e.Store=u.default;var c=n(kE());e.connect=c.default,Object.defineProperty(e,"connectAsync",{enumerable:!0,get:function(){return c.connectAsync}});var f=i(wv());e.KeepaliveManager=f.default,e.Client=s.default,o(Dh(),e),o(po(),e);var p=Ra();Object.defineProperty(e,"ReasonCodes",{enumerable:!0,get:function(){return p.ReasonCodes}})}),AE=ve(e=>{ce(),fe(),he();var t=e&&e.__createBinding||(Object.create?function(s,l,a,u){u===void 0&&(u=a);var c=Object.getOwnPropertyDescriptor(l,a);(!c||("get"in c?!l.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return l[a]}}),Object.defineProperty(s,u,c)}:function(s,l,a,u){u===void 0&&(u=a),s[u]=l[a]}),r=e&&e.__setModuleDefault||(Object.create?function(s,l){Object.defineProperty(s,"default",{enumerable:!0,value:l})}:function(s,l){s.default=l}),n=e&&e.__importStar||function(s){if(s&&s.__esModule)return s;var l={};if(s!=null)for(var a in s)a!=="default"&&Object.prototype.hasOwnProperty.call(s,a)&&t(l,s,a);return r(l,s),l},o=e&&e.__exportStar||function(s,l){for(var a in s)a!=="default"&&!Object.prototype.hasOwnProperty.call(l,a)&&t(l,s,a)};Object.defineProperty(e,"__esModule",{value:!0});var i=n(jm());e.default=i,o(jm(),e)});const CE=AE();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/const ku=({value:e,minValue:t,maxValue:r,title:n,needleColor:o,color:i})=>{const l=-90+(Math.min(Math.max(e,t),r)-t)/(r-t)*180;return Ee.jsxs("div",{className:"gauge",children:[Ee.jsxs("div",{className:"gauge-body",children:[Ee.jsx("div",{className:"gauge-fill",style:{background:i}}),Ee.jsx("div",{className:"gauge-ticks",children:[...Array(11)].map((a,u)=>Ee.jsx("div",{className:"gauge-tick",style:{transform:`rotate(${-90+u*18}deg)`}},u))}),Ee.jsx("div",{className:"gauge-needle",style:{transform:`translateX(-50%) rotate(${l}deg)`,backgroundColor:o,color:o}}),Ee.jsx("div",{className:"gauge-center",style:{backgroundColor:o}})]}),Ee.jsxs("div",{className:"gauge-labels",children:[Ee.jsx("span",{children:t}),Ee.jsx("span",{children:r})]})]})},IE="/assets/plantlogo-jG6F8Vea.jpg",Gh="RFC3986",Jh={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:e=>String(e)},xE="RFC1738",PE=Array.isArray,Or=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),Au=1024,TE=(e,t,r,n,o)=>{if(e.length===0)return e;let i=e;if(typeof e=="symbol"?i=Symbol.prototype.toString.call(e):typeof e!="string"&&(i=String(e)),r==="iso-8859-1")return escape(i).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let s="";for(let l=0;l<i.length;l+=Au){const a=i.length>=Au?i.slice(l,l+Au):i,u=[];for(let c=0;c<a.length;++c){let f=a.charCodeAt(c);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||o===xE&&(f===40||f===41)){u[u.length]=a.charAt(c);continue}if(f<128){u[u.length]=Or[f];continue}if(f<2048){u[u.length]=Or[192|f>>6]+Or[128|f&63];continue}if(f<55296||f>=57344){u[u.length]=Or[224|f>>12]+Or[128|f>>6&63]+Or[128|f&63];continue}c+=1,f=65536+((f&1023)<<10|a.charCodeAt(c)&1023),u[u.length]=Or[240|f>>18]+Or[128|f>>12&63]+Or[128|f>>6&63]+Or[128|f&63]}s+=u.join("")}return s};function RE(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Um(e,t){if(PE(e)){const r=[];for(let n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)}const OE=Object.prototype.hasOwnProperty,i1={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},Br=Array.isArray,NE=Array.prototype.push,o1=function(e,t){NE.apply(e,Br(t)?t:[t])},ME=Date.prototype.toISOString,ht={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:TE,encodeValuesOnly:!1,format:Gh,formatter:Jh[Gh],indices:!1,serializeDate(e){return ME.call(e)},skipNulls:!1,strictNullHandling:!1};function BE(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const Cu={};function s1(e,t,r,n,o,i,s,l,a,u,c,f,p,g,y,_,C,b){let v=e,w=b,A=0,T=!1;for(;(w=w.get(Cu))!==void 0&&!T;){const H=w.get(e);if(A+=1,typeof H<"u"){if(H===A)throw new RangeError("Cyclic object value");T=!0}typeof w.get(Cu)>"u"&&(A=0)}if(typeof u=="function"?v=u(t,v):v instanceof Date?v=p==null?void 0:p(v):r==="comma"&&Br(v)&&(v=Um(v,function(H){return H instanceof Date?p==null?void 0:p(H):H})),v===null){if(i)return a&&!_?a(t,ht.encoder,C,"key",g):t;v=""}if(BE(v)||RE(v)){if(a){const H=_?t:a(t,ht.encoder,C,"key",g);return[(y==null?void 0:y(H))+"="+(y==null?void 0:y(a(v,ht.encoder,C,"value",g)))]}return[(y==null?void 0:y(t))+"="+(y==null?void 0:y(String(v)))]}const k=[];if(typeof v>"u")return k;let E;if(r==="comma"&&Br(v))_&&a&&(v=Um(v,a)),E=[{value:v.length>0?v.join(",")||null:void 0}];else if(Br(u))E=u;else{const H=Object.keys(v);E=c?H.sort(c):H}const x=l?String(t).replace(/\./g,"%2E"):String(t),U=n&&Br(v)&&v.length===1?x+"[]":x;if(o&&Br(v)&&v.length===0)return U+"[]";for(let H=0;H<E.length;++H){const Q=E[H],P=typeof Q=="object"&&typeof Q.value<"u"?Q.value:v[Q];if(s&&P===null)continue;const V=f&&l?Q.replace(/\./g,"%2E"):Q,te=Br(v)?typeof r=="function"?r(U,V):U:U+(f?"."+V:"["+V+"]");b.set(e,A);const J=new WeakMap;J.set(Cu,b),o1(k,s1(P,te,r,n,o,i,s,l,r==="comma"&&_&&Br(v)?null:a,u,c,f,p,g,y,_,C,J))}return k}function LE(e=ht){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||ht.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=Gh;if(typeof e.format<"u"){if(!OE.call(Jh,e.format))throw new TypeError("Unknown format option provided.");r=e.format}const n=Jh[r];let o=ht.filter;(typeof e.filter=="function"||Br(e.filter))&&(o=e.filter);let i;if(e.arrayFormat&&e.arrayFormat in i1?i=e.arrayFormat:"indices"in e?i=e.indices?"indices":"repeat":i=ht.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const s=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:ht.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ht.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ht.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ht.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?ht.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ht.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:ht.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:ht.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ht.encodeValuesOnly,filter:o,format:r,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ht.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ht.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ht.strictNullHandling}}function jE(e,t={}){let r=e;const n=LE(t);let o,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):Br(n.filter)&&(i=n.filter,o=i);const s=[];if(typeof r!="object"||r===null)return"";const l=i1[n.arrayFormat],a=l==="comma"&&n.commaRoundTrip;o||(o=Object.keys(r)),n.sort&&o.sort(n.sort);const u=new WeakMap;for(let p=0;p<o.length;++p){const g=o[p];n.skipNulls&&r[g]===null||o1(s,s1(r[g],g,l,a,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}const c=s.join(n.delimiter);let f=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),c.length>0?f+c:""}const xi="4.72.0";let Fm=!1,es,l1,a1,Xh,u1,c1,h1,f1,d1;function UE(e,t={auto:!1}){if(Fm)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(es)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${es}'\``);Fm=t.auto,es=e.kind,l1=e.fetch,a1=e.FormData,Xh=e.File,u1=e.ReadableStream,c1=e.getMultipartRequestOptions,h1=e.getDefaultAgent,f1=e.fileFromPath,d1=e.isFsReadStream}class FE{constructor(t){this.body=t}get[Symbol.toStringTag](){return"MultipartBody"}}function $E({manuallyImported:e}={}){const t=e?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let r,n,o,i;try{r=fetch,n=Request,o=Response,i=Headers}catch(s){throw new Error(`this environment is missing the following Web Fetch API type: ${s.message}. ${t}`)}return{kind:"web",fetch:r,Request:n,Response:o,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(s,l)=>({...l,body:new FE(s)}),getDefaultAgent:s=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:s=>!1}}es||UE($E(),{auto:!0});class Me extends Error{}class Ct extends Me{constructor(t,r,n,o){super(`${Ct.makeMessage(t,r,n)}`),this.status=t,this.headers=o,this.request_id=o==null?void 0:o["x-request-id"];const i=r;this.error=i,this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(t,r,n){const o=r!=null&&r.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,r,n,o){if(!t)return new Na({message:n,cause:ef(r)});const i=r==null?void 0:r.error;return t===400?new p1(t,i,n,o):t===401?new m1(t,i,n,o):t===403?new g1(t,i,n,o):t===404?new y1(t,i,n,o):t===409?new v1(t,i,n,o):t===422?new w1(t,i,n,o):t===429?new _1(t,i,n,o):t>=500?new b1(t,i,n,o):new Ct(t,i,n,o)}}class kr extends Ct{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0),this.status=void 0}}class Na extends Ct{constructor({message:t,cause:r}){super(void 0,void 0,t||"Connection error.",void 0),this.status=void 0,r&&(this.cause=r)}}class gd extends Na{constructor({message:t}={}){super({message:t??"Request timed out."})}}class p1 extends Ct{constructor(){super(...arguments),this.status=400}}class m1 extends Ct{constructor(){super(...arguments),this.status=401}}class g1 extends Ct{constructor(){super(...arguments),this.status=403}}class y1 extends Ct{constructor(){super(...arguments),this.status=404}}class v1 extends Ct{constructor(){super(...arguments),this.status=409}}class w1 extends Ct{constructor(){super(...arguments),this.status=422}}class _1 extends Ct{constructor(){super(...arguments),this.status=429}}class b1 extends Ct{}class S1 extends Me{constructor(){super("Could not parse response content as the length limit was reached")}}class E1 extends Me{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class mi{constructor(){this.buffer=[],this.trailingCR=!1}decode(t){let r=this.decodeText(t);if(this.trailingCR&&(r="\r"+r,this.trailingCR=!1),r.endsWith("\r")&&(this.trailingCR=!0,r=r.slice(0,-1)),!r)return[];const n=mi.NEWLINE_CHARS.has(r[r.length-1]||"");let o=r.split(mi.NEWLINE_REGEXP);return n&&o.pop(),o.length===1&&!n?(this.buffer.push(o[0]),[]):(this.buffer.length>0&&(o=[this.buffer.join("")+o[0],...o.slice(1)],this.buffer=[]),n||(this.buffer=[o.pop()||""]),o)}decodeText(t){if(t==null)return"";if(typeof t=="string")return t;if(typeof Buffer<"u"){if(t instanceof Buffer)return t.toString();if(t instanceof Uint8Array)return Buffer.from(t).toString();throw new Me(`Unexpected: received non-Uint8Array (${t.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(t instanceof Uint8Array||t instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(t);throw new Me(`Unexpected: received non-Uint8Array/ArrayBuffer (${t.constructor.name}) in a web platform. Please report this error.`)}throw new Me("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const t=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,t}}mi.NEWLINE_CHARS=new Set([`
`,"\r"]);mi.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class $r{constructor(t,r){this.iterator=t,this.controller=r}static fromSSEResponse(t,r){let n=!1;async function*o(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let i=!1;try{for await(const s of DE(t,r))if(!i){if(s.data.startsWith("[DONE]")){i=!0;continue}if(s.event===null){let l;try{l=JSON.parse(s.data)}catch(a){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),a}if(l&&l.error)throw new Ct(void 0,l.error,void 0,void 0);yield l}else{let l;try{l=JSON.parse(s.data)}catch(a){throw console.error("Could not parse message into JSON:",s.data),console.error("From chunk:",s.raw),a}if(s.event=="error")throw new Ct(void 0,l.error,l.message,void 0);yield{event:s.event,data:l}}}i=!0}catch(s){if(s instanceof Error&&s.name==="AbortError")return;throw s}finally{i||r.abort()}}return new $r(o,r)}static fromReadableStream(t,r){let n=!1;async function*o(){const s=new mi,l=k1(t);for await(const a of l)for(const u of s.decode(a))yield u;for(const a of s.flush())yield a}async function*i(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let s=!1;try{for await(const l of o())s||l&&(yield JSON.parse(l));s=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{s||r.abort()}}return new $r(i,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],r=[],n=this.iterator(),o=i=>({next:()=>{if(i.length===0){const s=n.next();t.push(s),r.push(s)}return i.shift()}});return[new $r(()=>o(t),this.controller),new $r(()=>o(r),this.controller)]}toReadableStream(){const t=this;let r;const n=new TextEncoder;return new u1({async start(){r=t[Symbol.asyncIterator]()},async pull(o){try{const{value:i,done:s}=await r.next();if(s)return o.close();const l=n.encode(JSON.stringify(i)+`
`);o.enqueue(l)}catch(i){o.error(i)}},async cancel(){var o;await((o=r.return)==null?void 0:o.call(r))}})}}async function*DE(e,t){if(!e.body)throw t.abort(),new Me("Attempted to iterate over a response with no body");const r=new HE,n=new mi,o=k1(e.body);for await(const i of WE(o))for(const s of n.decode(i)){const l=r.decode(s);l&&(yield l)}for(const i of n.flush()){const s=r.decode(i);s&&(yield s)}}async function*WE(e){let t=new Uint8Array;for await(const r of e){if(r==null)continue;const n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?new TextEncoder().encode(r):r;let o=new Uint8Array(t.length+n.length);o.set(t),o.set(n,t.length),t=o;let i;for(;(i=zE(t))!==-1;)yield t.slice(0,i),t=t.slice(i)}t.length>0&&(yield t)}function zE(e){for(let n=0;n<e.length-2;n++){if(e[n]===10&&e[n+1]===10||e[n]===13&&e[n+1]===13)return n+2;if(e[n]===13&&e[n+1]===10&&n+3<e.length&&e[n+2]===13&&e[n+3]===10)return n+4}return-1}class HE{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(t),t.startsWith(":"))return null;let[r,n,o]=VE(t,":");return o.startsWith(" ")&&(o=o.substring(1)),r==="event"?this.event=o:r==="data"&&this.data.push(o),null}}function VE(e,t){const r=e.indexOf(t);return r!==-1?[e.substring(0,r),t,e.substring(r+t.length)]:[e,"",""]}function k1(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const r=await t.read();return r!=null&&r.done&&t.releaseLock(),r}catch(r){throw t.releaseLock(),r}},async return(){const r=t.cancel();return t.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const A1=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function",C1=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Ma(e),Ma=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",qE=e=>C1(e)||A1(e)||d1(e);async function I1(e,t,r){var o;if(e=await e,C1(e))return e;if(A1(e)){const i=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const s=Ma(i)?[await i.arrayBuffer()]:[i];return new Xh(s,t,r)}const n=await KE(e);if(t||(t=YE(e)??"unknown_file"),!(r!=null&&r.type)){const i=(o=n[0])==null?void 0:o.type;typeof i=="string"&&(r={...r,type:i})}return new Xh(n,t,r)}async function KE(e){var r;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(Ma(e))t.push(await e.arrayBuffer());else if(GE(e))for await(const n of e)t.push(n);else throw new Error(`Unexpected data type: ${typeof e}; constructor: ${(r=e==null?void 0:e.constructor)==null?void 0:r.name}; props: ${QE(e)}`);return t}function QE(e){return`[${Object.getOwnPropertyNames(e).map(r=>`"${r}"`).join(", ")}]`}function YE(e){var t;return Iu(e.name)||Iu(e.filename)||((t=Iu(e.path))==null?void 0:t.split(/[\\/]/).pop())}const Iu=e=>{if(typeof e=="string")return e;if(typeof Buffer<"u"&&e instanceof Buffer)return String(e)},GE=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",$m=e=>e&&typeof e=="object"&&e.body&&e[Symbol.toStringTag]==="MultipartBody",lo=async e=>{const t=await JE(e.body);return c1(t,e)},JE=async e=>{const t=new a1;return await Promise.all(Object.entries(e||{}).map(([r,n])=>Zh(t,r,n))),t},Zh=async(e,t,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")e.append(t,String(r));else if(qE(r)){const n=await I1(r);e.append(t,n)}else if(Array.isArray(r))await Promise.all(r.map(n=>Zh(e,t+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,o])=>Zh(e,`${t}[${n}]`,o)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}};var Gi={},XE=function(e,t,r,n,o){if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r},ZE=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},tl;async function x1(e){const{response:t}=e;if(e.options.stream)return Ji("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):$r.fromSSEResponse(t,e.controller);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const r=t.headers.get("content-type");if((r==null?void 0:r.includes("application/json"))||(r==null?void 0:r.includes("application/vnd.api+json"))){const i=await t.json();return Ji("response",t.status,t.url,t.headers,i),P1(i,t)}const o=await t.text();return Ji("response",t.status,t.url,t.headers,o),o}function P1(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}class Ba extends Promise{constructor(t,r=x1){super(n=>{n(null)}),this.responsePromise=t,this.parseResponse=r}_thenUnwrap(t){return new Ba(this.responsePromise,async r=>P1(t(await this.parseResponse(r),r),r.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(t,r){return this.parse().then(t,r)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}class ek{constructor({baseURL:t,maxRetries:r=2,timeout:n=6e5,httpAgent:o,fetch:i}){this.baseURL=t,this.maxRetries=xu("maxRetries",r),this.timeout=xu("timeout",n),this.httpAgent=o,this.fetch=i??l1}authHeaders(t){return{}}defaultHeaders(t){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...sk(),...this.authHeaders(t)}}validateHeaders(t,r){}defaultIdempotencyKey(){return`stainless-node-retry-${ck()}`}get(t,r){return this.methodRequest("get",t,r)}post(t,r){return this.methodRequest("post",t,r)}patch(t,r){return this.methodRequest("patch",t,r)}put(t,r){return this.methodRequest("put",t,r)}delete(t,r){return this.methodRequest("delete",t,r)}methodRequest(t,r,n){return this.request(Promise.resolve(n).then(async o=>{const i=o&&Ma(o==null?void 0:o.body)?new DataView(await o.body.arrayBuffer()):(o==null?void 0:o.body)instanceof DataView?o.body:(o==null?void 0:o.body)instanceof ArrayBuffer?new DataView(o.body):o&&ArrayBuffer.isView(o==null?void 0:o.body)?new DataView(o.body.buffer):o==null?void 0:o.body;return{method:t,path:r,...o,body:i}}))}getAPIList(t,r,n){return this.requestAPIList(r,{method:"get",path:t,...n})}calculateContentLength(t){if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.byteLength(t,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(t).length.toString()}else if(ArrayBuffer.isView(t))return t.byteLength.toString();return null}buildRequest(t,{retryCount:r=0}={}){var _;const{method:n,path:o,query:i,headers:s={}}=t,l=ArrayBuffer.isView(t.body)||t.__binaryRequest&&typeof t.body=="string"?t.body:$m(t.body)?t.body.body:t.body?JSON.stringify(t.body,null,2):null,a=this.calculateContentLength(l),u=this.buildURL(o,i);"timeout"in t&&xu("timeout",t.timeout);const c=t.timeout??this.timeout,f=t.httpAgent??this.httpAgent??h1(u),p=c+1e3;typeof((_=f==null?void 0:f.options)==null?void 0:_.timeout)=="number"&&p>(f.options.timeout??0)&&(f.options.timeout=p),this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),s[this.idempotencyHeader]=t.idempotencyKey);const g=this.buildHeaders({options:t,headers:s,contentLength:a,retryCount:r});return{req:{method:n,...l&&{body:l},headers:g,...f&&{agent:f},signal:t.signal??null},url:u,timeout:c}}buildHeaders({options:t,headers:r,contentLength:n,retryCount:o}){const i={};n&&(i["content-length"]=n);const s=this.defaultHeaders(t);return Hm(i,s),Hm(i,r),$m(t.body)&&es!=="node"&&delete i["content-type"],Vm(s,"x-stainless-retry-count")===void 0&&Vm(r,"x-stainless-retry-count")===void 0&&(i["x-stainless-retry-count"]=String(o)),this.validateHeaders(i,r),i}async prepareOptions(t){}async prepareRequest(t,{url:r,options:n}){}parseHeaders(t){return t?Symbol.iterator in t?Object.fromEntries(Array.from(t).map(r=>[...r])):{...t}:{}}makeStatusError(t,r,n,o){return Ct.generate(t,r,n,o)}request(t,r=null){return new Ba(this.makeRequest(t,r))}async makeRequest(t,r){var f,p;const n=await t,o=n.maxRetries??this.maxRetries;r==null&&(r=o),await this.prepareOptions(n);const{req:i,url:s,timeout:l}=this.buildRequest(n,{retryCount:o-r});if(await this.prepareRequest(i,{url:s,options:n}),Ji("request",s,n,i.headers),(f=n.signal)!=null&&f.aborted)throw new kr;const a=new AbortController,u=await this.fetchWithTimeout(s,i,l,a).catch(ef);if(u instanceof Error){if((p=n.signal)!=null&&p.aborted)throw new kr;if(r)return this.retryRequest(n,r);throw u.name==="AbortError"?new gd:new Na({cause:u})}const c=rk(u.headers);if(!u.ok){if(r&&this.shouldRetry(u)){const v=`retrying, ${r} attempts remaining`;return Ji(`response (error; ${v})`,u.status,s,c),this.retryRequest(n,r,c)}const g=await u.text().catch(v=>ef(v).message),y=lk(g),_=y?void 0:g;throw Ji(`response (error; ${r?"(error; no more retries left)":"(error; not retryable)"})`,u.status,s,c,_),this.makeStatusError(u.status,y,_,c)}return{response:u,options:n,controller:a}}requestAPIList(t,r){const n=this.makeRequest(r,null);return new tk(this,n,t)}buildURL(t,r){const n=uk(t)?new URL(t):new URL(this.baseURL+(this.baseURL.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),o=this.defaultQuery();return R1(o)||(r={...o,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(n.search=this.stringifyQuery(r)),n.toString()}stringifyQuery(t){return Object.entries(t).filter(([r,n])=>typeof n<"u").map(([r,n])=>{if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")return`${encodeURIComponent(r)}=${encodeURIComponent(n)}`;if(n===null)return`${encodeURIComponent(r)}=`;throw new Me(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(t,r,n,o){const{signal:i,...s}=r||{};i&&i.addEventListener("abort",()=>o.abort());const l=setTimeout(()=>o.abort(),n);return this.getRequestClient().fetch.call(void 0,t,{signal:o.signal,...s}).finally(()=>{clearTimeout(l)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(t){const r=t.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,r,n){let o;const i=n==null?void 0:n["retry-after-ms"];if(i){const l=parseFloat(i);Number.isNaN(l)||(o=l)}const s=n==null?void 0:n["retry-after"];if(s&&!o){const l=parseFloat(s);Number.isNaN(l)?o=Date.parse(s)-Date.now():o=l*1e3}if(!(o&&0<=o&&o<60*1e3)){const l=t.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(r,l)}return await Cs(o),this.makeRequest(t,r-1)}calculateDefaultRetryTimeoutMillis(t,r){const i=r-t,s=Math.min(.5*Math.pow(2,i),8),l=1-Math.random()*.25;return s*l*1e3}getUserAgent(){return`${this.constructor.name}/JS ${xi}`}}class T1{constructor(t,r,n,o){tl.set(this,void 0),XE(this,tl,t),this.options=o,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const t=this.nextPageInfo();if(!t)throw new Me("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const r={...this.options};if("params"in t&&typeof r.query=="object")r.query={...r.query,...t.params};else if("url"in t){const n=[...Object.entries(r.query||{}),...t.url.searchParams.entries()];for(const[o,i]of n)t.url.searchParams.set(o,i);r.query=void 0,r.path=t.url.toString()}return await ZE(this,tl,"f").requestAPIList(this.constructor,r)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(tl=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const r of t.getPaginatedItems())yield r}}class tk extends Ba{constructor(t,r,n){super(r,async o=>new n(t,o.response,await x1(o),o.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const r of t)yield r}}const rk=e=>new Proxy(Object.fromEntries(e.entries()),{get(t,r){const n=r.toString();return t[n.toLowerCase()]||t[n]}}),nk={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0},Yt=e=>typeof e=="object"&&e!==null&&!R1(e)&&Object.keys(e).every(t=>O1(nk,t)),ik=()=>{var t;if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xi,"X-Stainless-OS":Wm(Deno.build.os),"X-Stainless-Arch":Dm(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((t=Deno.version)==null?void 0:t.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xi,"X-Stainless-OS":Wm(process.platform),"X-Stainless-Arch":Dm(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=ok();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":xi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ok(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:r}of e){const n=r.exec(navigator.userAgent);if(n){const o=n[1]||0,i=n[2]||0,s=n[3]||0;return{browser:t,version:`${o}.${i}.${s}`}}}return null}const Dm=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Wm=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let zm;const sk=()=>zm??(zm=ik()),lk=e=>{try{return JSON.parse(e)}catch{return}},ak=new RegExp("^(?:[a-z]+:)?//","i"),uk=e=>ak.test(e),Cs=e=>new Promise(t=>setTimeout(t,e)),xu=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Me(`${e} must be an integer`);if(t<0)throw new Me(`${e} must be a positive integer`);return t},ef=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},rl=e=>{var t,r,n,o;if(typeof process<"u")return((t=Gi==null?void 0:Gi[e])==null?void 0:t.trim())??void 0;if(typeof Deno<"u")return(o=(n=(r=Deno.env)==null?void 0:r.get)==null?void 0:n.call(r,e))==null?void 0:o.trim()};function R1(e){if(!e)return!0;for(const t in e)return!1;return!0}function O1(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Hm(e,t){for(const r in t){if(!O1(t,r))continue;const n=r.toLowerCase();if(!n)continue;const o=t[r];o===null?delete e[n]:o!==void 0&&(e[n]=o)}}function Ji(e,...t){typeof process<"u"&&(Gi==null?void 0:Gi.DEBUG)==="true"&&console.log(`OpenAI:DEBUG:${e}`,...t)}const ck=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)}),hk=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u",fk=e=>typeof(e==null?void 0:e.get)=="function",Vm=(e,t)=>{var n;const r=t.toLowerCase();if(fk(e)){const o=((n=t[0])==null?void 0:n.toUpperCase())+t.substring(1).replace(/([^\w])(\w)/g,(i,s,l)=>s+l.toUpperCase());for(const i of[t,r,t.toUpperCase(),o]){const s=e.get(i);if(s)return s}}for(const[o,i]of Object.entries(e))if(o.toLowerCase()===r)return Array.isArray(i)?(i.length<=1||console.warn(`Received ${i.length} entries for the ${t} header, using the first entry.`),i[0]):i};function Pu(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}class dk extends T1{constructor(t,r,n,o){super(t,r,n,o),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Pr extends T1{constructor(t,r,n,o){super(t,r,n,o),this.data=n.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const t=this.nextPageInfo();if(!t)return null;if("params"in t)return t.params;const r=Object.fromEntries(t.url.searchParams);return Object.keys(r).length?r:null}nextPageInfo(){var n;const t=this.getPaginatedItems();if(!t.length)return null;const r=(n=t[t.length-1])==null?void 0:n.id;return r?{params:{after:r}}:null}}class $e{constructor(t){this._client=t}}let N1=class extends $e{create(t,r){return this._client.post("/chat/completions",{body:t,...r,stream:t.stream??!1})}},yd=class extends $e{constructor(){super(...arguments),this.completions=new N1(this._client)}};yd.Completions=N1;class M1 extends $e{create(t,r){return this._client.post("/audio/speech",{body:t,...r,__binaryResponse:!0})}}class B1 extends $e{create(t,r){return this._client.post("/audio/transcriptions",lo({body:t,...r}))}}class L1 extends $e{create(t,r){return this._client.post("/audio/translations",lo({body:t,...r}))}}class Is extends $e{constructor(){super(...arguments),this.transcriptions=new B1(this._client),this.translations=new L1(this._client),this.speech=new M1(this._client)}}Is.Transcriptions=B1;Is.Translations=L1;Is.Speech=M1;class vd extends $e{create(t,r){return this._client.post("/batches",{body:t,...r})}retrieve(t,r){return this._client.get(`/batches/${t}`,r)}list(t={},r){return Yt(t)?this.list({},t):this._client.getAPIList("/batches",wd,{query:t,...r})}cancel(t,r){return this._client.post(`/batches/${t}/cancel`,r)}}class wd extends Pr{}vd.BatchesPage=wd;class _d extends $e{create(t,r){return this._client.post("/assistants",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,r){return this._client.get(`/assistants/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,r,n){return this._client.post(`/assistants/${t}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(t={},r){return Yt(t)?this.list({},t):this._client.getAPIList("/assistants",bd,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,r){return this._client.delete(`/assistants/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class bd extends Pr{}_d.AssistantsPage=bd;function qm(e){return typeof e.parse=="function"}const Xi=e=>(e==null?void 0:e.role)==="assistant",j1=e=>(e==null?void 0:e.role)==="function",U1=e=>(e==null?void 0:e.role)==="tool";var vr=function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},et=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},tf,Cl,Il,jo,Uo,xl,Fo,Kr,$o,la,aa,Pi,F1;class $1{constructor(){tf.add(this),this.controller=new AbortController,Cl.set(this,void 0),Il.set(this,()=>{}),jo.set(this,()=>{}),Uo.set(this,void 0),xl.set(this,()=>{}),Fo.set(this,()=>{}),Kr.set(this,{}),$o.set(this,!1),la.set(this,!1),aa.set(this,!1),Pi.set(this,!1),vr(this,Cl,new Promise((t,r)=>{vr(this,Il,t,"f"),vr(this,jo,r,"f")}),"f"),vr(this,Uo,new Promise((t,r)=>{vr(this,xl,t,"f"),vr(this,Fo,r,"f")}),"f"),et(this,Cl,"f").catch(()=>{}),et(this,Uo,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},et(this,tf,"m",F1).bind(this))},0)}_connected(){this.ended||(et(this,Il,"f").call(this),this._emit("connect"))}get ended(){return et(this,$o,"f")}get errored(){return et(this,la,"f")}get aborted(){return et(this,aa,"f")}abort(){this.controller.abort()}on(t,r){return(et(this,Kr,"f")[t]||(et(this,Kr,"f")[t]=[])).push({listener:r}),this}off(t,r){const n=et(this,Kr,"f")[t];if(!n)return this;const o=n.findIndex(i=>i.listener===r);return o>=0&&n.splice(o,1),this}once(t,r){return(et(this,Kr,"f")[t]||(et(this,Kr,"f")[t]=[])).push({listener:r,once:!0}),this}emitted(t){return new Promise((r,n)=>{vr(this,Pi,!0,"f"),t!=="error"&&this.once("error",n),this.once(t,r)})}async done(){vr(this,Pi,!0,"f"),await et(this,Uo,"f")}_emit(t,...r){if(et(this,$o,"f"))return;t==="end"&&(vr(this,$o,!0,"f"),et(this,xl,"f").call(this));const n=et(this,Kr,"f")[t];if(n&&(et(this,Kr,"f")[t]=n.filter(o=>!o.once),n.forEach(({listener:o})=>o(...r))),t==="abort"){const o=r[0];!et(this,Pi,"f")&&!(n!=null&&n.length)&&Promise.reject(o),et(this,jo,"f").call(this,o),et(this,Fo,"f").call(this,o),this._emit("end");return}if(t==="error"){const o=r[0];!et(this,Pi,"f")&&!(n!=null&&n.length)&&Promise.reject(o),et(this,jo,"f").call(this,o),et(this,Fo,"f").call(this,o),this._emit("end")}}_emitFinal(){}}Cl=new WeakMap,Il=new WeakMap,jo=new WeakMap,Uo=new WeakMap,xl=new WeakMap,Fo=new WeakMap,Kr=new WeakMap,$o=new WeakMap,la=new WeakMap,aa=new WeakMap,Pi=new WeakMap,tf=new WeakSet,F1=function(t){if(vr(this,la,!0,"f"),t instanceof Error&&t.name==="AbortError"&&(t=new kr),t instanceof kr)return vr(this,aa,!0,"f"),this._emit("abort",t);if(t instanceof Me)return this._emit("error",t);if(t instanceof Error){const r=new Me(t.message);return r.cause=t,this._emit("error",r)}return this._emit("error",new Me(String(t)))};function D1(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function xs(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function pk(e,t){return!t||!W1(t)?{...e,choices:e.choices.map(r=>({...r,message:{...r.message,parsed:null,tool_calls:r.message.tool_calls??[]}}))}:Sd(e,t)}function Sd(e,t){const r=e.choices.map(n=>{var o;if(n.finish_reason==="length")throw new S1;if(n.finish_reason==="content_filter")throw new E1;return{...n,message:{...n.message,tool_calls:((o=n.message.tool_calls)==null?void 0:o.map(i=>gk(t,i)))??[],parsed:n.message.content&&!n.message.refusal?mk(t,n.message.content):null}}});return{...e,choices:r}}function mk(e,t){var r,n;return((r=e.response_format)==null?void 0:r.type)!=="json_schema"?null:((n=e.response_format)==null?void 0:n.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function gk(e,t){var n;const r=(n=e.tools)==null?void 0:n.find(o=>{var i;return((i=o.function)==null?void 0:i.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:xs(r)?r.$parseRaw(t.function.arguments):r!=null&&r.function.strict?JSON.parse(t.function.arguments):null}}}function yk(e,t){var n;if(!e)return!1;const r=(n=e.tools)==null?void 0:n.find(o=>{var i;return((i=o.function)==null?void 0:i.name)===t.function.name});return xs(r)||(r==null?void 0:r.function.strict)||!1}function W1(e){var t;return D1(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(r=>xs(r)||r.type==="function"&&r.function.strict===!0))??!1}function vk(e){for(const t of e??[]){if(t.type!=="function")throw new Me(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new Me(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}var zt=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Nt,rf,ua,nf,of,sf,z1,lf;const Km=10;class H1 extends $1{constructor(){super(...arguments),Nt.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var n;this._chatCompletions.push(t),this._emit("chatCompletion",t);const r=(n=t.choices[0])==null?void 0:n.message;return r&&this._addMessage(r),t}_addMessage(t,r=!0){if("content"in t||(t.content=null),this.messages.push(t),r){if(this._emit("message",t),(j1(t)||U1(t))&&t.content)this._emit("functionCallResult",t.content);else if(Xi(t)&&t.function_call)this._emit("functionCall",t.function_call);else if(Xi(t)&&t.tool_calls)for(const n of t.tool_calls)n.type==="function"&&this._emit("functionCall",n.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new Me("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),zt(this,Nt,"m",rf).call(this)}async finalMessage(){return await this.done(),zt(this,Nt,"m",ua).call(this)}async finalFunctionCall(){return await this.done(),zt(this,Nt,"m",nf).call(this)}async finalFunctionCallResult(){return await this.done(),zt(this,Nt,"m",of).call(this)}async totalUsage(){return await this.done(),zt(this,Nt,"m",sf).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const r=zt(this,Nt,"m",ua).call(this);r&&this._emit("finalMessage",r);const n=zt(this,Nt,"m",rf).call(this);n&&this._emit("finalContent",n);const o=zt(this,Nt,"m",nf).call(this);o&&this._emit("finalFunctionCall",o);const i=zt(this,Nt,"m",of).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(s=>s.usage)&&this._emit("totalUsage",zt(this,Nt,"m",sf).call(this))}async _createChatCompletion(t,r,n){const o=n==null?void 0:n.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),zt(this,Nt,"m",z1).call(this,r);const i=await t.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Sd(i,r))}async _runChatCompletion(t,r,n){for(const o of r.messages)this._addMessage(o,!1);return await this._createChatCompletion(t,r,n)}async _runFunctions(t,r,n){var p;const o="function",{function_call:i="auto",stream:s,...l}=r,a=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:u=Km}=n||{},c={};for(const g of r.functions)c[g.name||g.function.name]=g;const f=r.functions.map(g=>({name:g.name||g.function.name,parameters:g.parameters,description:g.description}));for(const g of r.messages)this._addMessage(g,!1);for(let g=0;g<u;++g){const _=(p=(await this._createChatCompletion(t,{...l,function_call:i,functions:f,messages:[...this.messages]},n)).choices[0])==null?void 0:p.message;if(!_)throw new Me("missing message in ChatCompletion response");if(!_.function_call)return;const{name:C,arguments:b}=_.function_call,v=c[C];if(v){if(a&&a!==C){const k=`Invalid function_call: ${JSON.stringify(C)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:o,name:C,content:k});continue}}else{const k=`Invalid function_call: ${JSON.stringify(C)}. Available options are: ${f.map(E=>JSON.stringify(E.name)).join(", ")}. Please try again`;this._addMessage({role:o,name:C,content:k});continue}let w;try{w=qm(v)?await v.parse(b):b}catch(k){this._addMessage({role:o,name:C,content:k instanceof Error?k.message:String(k)});continue}const A=await v.function(w,this),T=zt(this,Nt,"m",lf).call(this,A);if(this._addMessage({role:o,name:C,content:T}),a)return}}async _runTools(t,r,n){var g,y,_;const o="tool",{tool_choice:i="auto",stream:s,...l}=r,a=typeof i!="string"&&((g=i==null?void 0:i.function)==null?void 0:g.name),{maxChatCompletions:u=Km}=n||{},c=r.tools.map(C=>{if(xs(C)){if(!C.$callback)throw new Me("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:C.$callback,name:C.function.name,description:C.function.description||"",parameters:C.function.parameters,parse:C.$parseRaw,strict:!0}}}return C}),f={};for(const C of c)C.type==="function"&&(f[C.function.name||C.function.function.name]=C.function);const p="tools"in r?c.map(C=>C.type==="function"?{type:"function",function:{name:C.function.name||C.function.function.name,parameters:C.function.parameters,description:C.function.description,strict:C.function.strict}}:C):void 0;for(const C of r.messages)this._addMessage(C,!1);for(let C=0;C<u;++C){const v=(y=(await this._createChatCompletion(t,{...l,tool_choice:i,tools:p,messages:[...this.messages]},n)).choices[0])==null?void 0:y.message;if(!v)throw new Me("missing message in ChatCompletion response");if(!((_=v.tool_calls)!=null&&_.length))return;for(const w of v.tool_calls){if(w.type!=="function")continue;const A=w.id,{name:T,arguments:k}=w.function,E=f[T];if(E){if(a&&a!==T){const Q=`Invalid tool_call: ${JSON.stringify(T)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:o,tool_call_id:A,content:Q});continue}}else{const Q=`Invalid tool_call: ${JSON.stringify(T)}. Available options are: ${Object.keys(f).map(P=>JSON.stringify(P)).join(", ")}. Please try again`;this._addMessage({role:o,tool_call_id:A,content:Q});continue}let x;try{x=qm(E)?await E.parse(k):k}catch(Q){const P=Q instanceof Error?Q.message:String(Q);this._addMessage({role:o,tool_call_id:A,content:P});continue}const U=await E.function(x,this),H=zt(this,Nt,"m",lf).call(this,U);if(this._addMessage({role:o,tool_call_id:A,content:H}),a)return}}}}Nt=new WeakSet,rf=function(){return zt(this,Nt,"m",ua).call(this).content??null},ua=function(){let t=this.messages.length;for(;t-- >0;){const r=this.messages[t];if(Xi(r)){const{function_call:n,...o}=r,i={...o,content:r.content??null,refusal:r.refusal??null};return n&&(i.function_call=n),i}}throw new Me("stream ended without producing a ChatCompletionMessage with role=assistant")},nf=function(){var t,r;for(let n=this.messages.length-1;n>=0;n--){const o=this.messages[n];if(Xi(o)&&(o!=null&&o.function_call))return o.function_call;if(Xi(o)&&((t=o==null?void 0:o.tool_calls)!=null&&t.length))return(r=o.tool_calls.at(-1))==null?void 0:r.function}},of=function(){for(let t=this.messages.length-1;t>=0;t--){const r=this.messages[t];if(j1(r)&&r.content!=null||U1(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>{var o;return n.role==="assistant"&&((o=n.tool_calls)==null?void 0:o.some(i=>i.type==="function"&&i.id===r.tool_call_id))}))return r.content}},sf=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:r}of this._chatCompletions)r&&(t.completion_tokens+=r.completion_tokens,t.prompt_tokens+=r.prompt_tokens,t.total_tokens+=r.total_tokens);return t},z1=function(t){if(t.n!=null&&t.n>1)throw new Me("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},lf=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class ws extends H1{static runFunctions(t,r,n){const o=new ws,i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}};return o._run(()=>o._runFunctions(t,r,i)),o}static runTools(t,r,n){const o=new ws,i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(t,r,i)),o}_addMessage(t,r=!0){super._addMessage(t,r),Xi(t)&&t.content&&this._emit("content",t.content)}}const V1=1,q1=2,K1=4,Q1=8,Y1=16,G1=32,J1=64,X1=128,Z1=256,wk=X1|Z1,_k=Y1|G1|wk|J1,bk=V1|q1|_k,Sk=K1|Q1,Ek=bk|Sk,vt={STR:V1,NUM:q1,ARR:K1,OBJ:Q1,NULL:Y1,BOOL:G1,NAN:J1,INFINITY:X1,MINUS_INFINITY:Z1,ALL:Ek};class kk extends Error{}class Ak extends Error{}function Ck(e,t=vt.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return Ik(e.trim(),t)}const Ik=(e,t)=>{const r=e.length;let n=0;const o=p=>{throw new kk(`${p} at position ${n}`)},i=p=>{throw new Ak(`${p} at position ${n}`)},s=()=>(f(),n>=r&&o("Unexpected end of input"),e[n]==='"'?l():e[n]==="{"?a():e[n]==="["?u():e.substring(n,n+4)==="null"||vt.NULL&t&&r-n<4&&"null".startsWith(e.substring(n))?(n+=4,null):e.substring(n,n+4)==="true"||vt.BOOL&t&&r-n<4&&"true".startsWith(e.substring(n))?(n+=4,!0):e.substring(n,n+5)==="false"||vt.BOOL&t&&r-n<5&&"false".startsWith(e.substring(n))?(n+=5,!1):e.substring(n,n+8)==="Infinity"||vt.INFINITY&t&&r-n<8&&"Infinity".startsWith(e.substring(n))?(n+=8,1/0):e.substring(n,n+9)==="-Infinity"||vt.MINUS_INFINITY&t&&1<r-n&&r-n<9&&"-Infinity".startsWith(e.substring(n))?(n+=9,-1/0):e.substring(n,n+3)==="NaN"||vt.NAN&t&&r-n<3&&"NaN".startsWith(e.substring(n))?(n+=3,NaN):c()),l=()=>{const p=n;let g=!1;for(n++;n<r&&(e[n]!=='"'||g&&e[n-1]==="\\");)g=e[n]==="\\"?!g:!1,n++;if(e.charAt(n)=='"')try{return JSON.parse(e.substring(p,++n-Number(g)))}catch(y){i(String(y))}else if(vt.STR&t)try{return JSON.parse(e.substring(p,n-Number(g))+'"')}catch{return JSON.parse(e.substring(p,e.lastIndexOf("\\"))+'"')}o("Unterminated string literal")},a=()=>{n++,f();const p={};try{for(;e[n]!=="}";){if(f(),n>=r&&vt.OBJ&t)return p;const g=l();f(),n++;try{const y=s();Object.defineProperty(p,g,{value:y,writable:!0,enumerable:!0,configurable:!0})}catch(y){if(vt.OBJ&t)return p;throw y}f(),e[n]===","&&n++}}catch{if(vt.OBJ&t)return p;o("Expected '}' at end of object")}return n++,p},u=()=>{n++;const p=[];try{for(;e[n]!=="]";)p.push(s()),f(),e[n]===","&&n++}catch{if(vt.ARR&t)return p;o("Expected ']' at end of array")}return n++,p},c=()=>{if(n===0){e==="-"&&vt.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(e)}catch(g){if(vt.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}i(String(g))}}const p=n;for(e[n]==="-"&&n++;e[n]&&!",]}".includes(e[n]);)n++;n==r&&!(vt.NUM&t)&&o("Unterminated number literal");try{return JSON.parse(e.substring(p,n))}catch{e.substring(p,n)==="-"&&vt.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(e.substring(p,e.lastIndexOf("e")))}catch(y){i(String(y))}}},f=()=>{for(;n<r&&` 
\r	`.includes(e[n]);)n++};return s()},Qm=e=>Ck(e,vt.ALL^vt.NUM);var Ai=function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},De=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},ct,Hr,Ci,yn,Tu,nl,Ru,Ou,Nu,il,Mu,Ym;class _s extends H1{constructor(t){super(),ct.add(this),Hr.set(this,void 0),Ci.set(this,void 0),yn.set(this,void 0),Ai(this,Hr,t,"f"),Ai(this,Ci,[],"f")}get currentChatCompletionSnapshot(){return De(this,yn,"f")}static fromReadableStream(t){const r=new _s(null);return r._run(()=>r._fromReadableStream(t)),r}static createChatCompletion(t,r,n){const o=new _s(r);return o._run(()=>o._runChatCompletion(t,{...r,stream:!0},{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createChatCompletion(t,r,n){var s;super._createChatCompletion;const o=n==null?void 0:n.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort())),De(this,ct,"m",Tu).call(this);const i=await t.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const l of i)De(this,ct,"m",Ru).call(this,l);if((s=i.controller.signal)!=null&&s.aborted)throw new kr;return this._addChatCompletion(De(this,ct,"m",il).call(this))}async _fromReadableStream(t,r){var s;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),De(this,ct,"m",Tu).call(this),this._connected();const o=$r.fromReadableStream(t,this.controller);let i;for await(const l of o)i&&i!==l.id&&this._addChatCompletion(De(this,ct,"m",il).call(this)),De(this,ct,"m",Ru).call(this,l),i=l.id;if((s=o.controller.signal)!=null&&s.aborted)throw new kr;return this._addChatCompletion(De(this,ct,"m",il).call(this))}[(Hr=new WeakMap,Ci=new WeakMap,yn=new WeakMap,ct=new WeakSet,Tu=function(){this.ended||Ai(this,yn,void 0,"f")},nl=function(r){let n=De(this,Ci,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},De(this,Ci,"f")[r.index]=n,n)},Ru=function(r){var o,i,s,l,a,u,c,f,p,g,y,_,C,b,v;if(this.ended)return;const n=De(this,ct,"m",Ym).call(this,r);this._emit("chunk",r,n);for(const w of r.choices){const A=n.choices[w.index];w.delta.content!=null&&((o=A.message)==null?void 0:o.role)==="assistant"&&((i=A.message)!=null&&i.content)&&(this._emit("content",w.delta.content,A.message.content),this._emit("content.delta",{delta:w.delta.content,snapshot:A.message.content,parsed:A.message.parsed})),w.delta.refusal!=null&&((s=A.message)==null?void 0:s.role)==="assistant"&&((l=A.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:w.delta.refusal,snapshot:A.message.refusal}),((a=w.logprobs)==null?void 0:a.content)!=null&&((u=A.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(c=w.logprobs)==null?void 0:c.content,snapshot:((f=A.logprobs)==null?void 0:f.content)??[]}),((p=w.logprobs)==null?void 0:p.refusal)!=null&&((g=A.message)==null?void 0:g.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(y=w.logprobs)==null?void 0:y.refusal,snapshot:((_=A.logprobs)==null?void 0:_.refusal)??[]});const T=De(this,ct,"m",nl).call(this,A);A.finish_reason&&(De(this,ct,"m",Nu).call(this,A),T.current_tool_call_index!=null&&De(this,ct,"m",Ou).call(this,A,T.current_tool_call_index));for(const k of w.delta.tool_calls??[])T.current_tool_call_index!==k.index&&(De(this,ct,"m",Nu).call(this,A),T.current_tool_call_index!=null&&De(this,ct,"m",Ou).call(this,A,T.current_tool_call_index)),T.current_tool_call_index=k.index;for(const k of w.delta.tool_calls??[]){const E=(C=A.message.tool_calls)==null?void 0:C[k.index];E!=null&&E.type&&((E==null?void 0:E.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(b=E.function)==null?void 0:b.name,index:k.index,arguments:E.function.arguments,parsed_arguments:E.function.parsed_arguments,arguments_delta:((v=k.function)==null?void 0:v.arguments)??""}):(E==null||E.type,void 0))}}},Ou=function(r,n){var s,l,a;if(De(this,ct,"m",nl).call(this,r).done_tool_calls.has(n))return;const i=(s=r.message.tool_calls)==null?void 0:s[n];if(!i)throw new Error("no tool call snapshot");if(!i.type)throw new Error("tool call snapshot missing `type`");if(i.type==="function"){const u=(a=(l=De(this,Hr,"f"))==null?void 0:l.tools)==null?void 0:a.find(c=>c.type==="function"&&c.function.name===i.function.name);this._emit("tool_calls.function.arguments.done",{name:i.function.name,index:n,arguments:i.function.arguments,parsed_arguments:xs(u)?u.$parseRaw(i.function.arguments):u!=null&&u.function.strict?JSON.parse(i.function.arguments):null})}else i.type},Nu=function(r){var o,i;const n=De(this,ct,"m",nl).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;const s=De(this,ct,"m",Mu).call(this);this._emit("content.done",{content:r.message.content,parsed:s?s.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),(o=r.logprobs)!=null&&o.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),(i=r.logprobs)!=null&&i.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},il=function(){if(this.ended)throw new Me("stream has ended, this shouldn't happen");const r=De(this,yn,"f");if(!r)throw new Me("request ended without sending any chunks");return Ai(this,yn,void 0,"f"),Ai(this,Ci,[],"f"),xk(r,De(this,Hr,"f"))},Mu=function(){var n;const r=(n=De(this,Hr,"f"))==null?void 0:n.response_format;return D1(r)?r:null},Ym=function(r){var n,o,i,s;let l=De(this,yn,"f");const{choices:a,...u}=r;l?Object.assign(l,u):l=Ai(this,yn,{...u,choices:[]},"f");for(const{delta:c,finish_reason:f,index:p,logprobs:g=null,...y}of r.choices){let _=l.choices[p];if(_||(_=l.choices[p]={finish_reason:f,index:p,message:{},logprobs:g,...y}),g)if(!_.logprobs)_.logprobs=Object.assign({},g);else{const{content:k,refusal:E,...x}=g;Object.assign(_.logprobs,x),k&&((n=_.logprobs).content??(n.content=[]),_.logprobs.content.push(...k)),E&&((o=_.logprobs).refusal??(o.refusal=[]),_.logprobs.refusal.push(...E))}if(f&&(_.finish_reason=f,De(this,Hr,"f")&&W1(De(this,Hr,"f")))){if(f==="length")throw new S1;if(f==="content_filter")throw new E1}if(Object.assign(_,y),!c)continue;const{content:C,refusal:b,function_call:v,role:w,tool_calls:A,...T}=c;if(Object.assign(_.message,T),b&&(_.message.refusal=(_.message.refusal||"")+b),w&&(_.message.role=w),v&&(_.message.function_call?(v.name&&(_.message.function_call.name=v.name),v.arguments&&((i=_.message.function_call).arguments??(i.arguments=""),_.message.function_call.arguments+=v.arguments)):_.message.function_call=v),C&&(_.message.content=(_.message.content||"")+C,!_.message.refusal&&De(this,ct,"m",Mu).call(this)&&(_.message.parsed=Qm(_.message.content))),A){_.message.tool_calls||(_.message.tool_calls=[]);for(const{index:k,id:E,type:x,function:U,...H}of A){const Q=(s=_.message.tool_calls)[k]??(s[k]={});Object.assign(Q,H),E&&(Q.id=E),x&&(Q.type=x),U&&(Q.function??(Q.function={name:U.name??"",arguments:""})),U!=null&&U.name&&(Q.function.name=U.name),U!=null&&U.arguments&&(Q.function.arguments+=U.arguments,yk(De(this,Hr,"f"),Q)&&(Q.function.parsed_arguments=Qm(Q.function.arguments)))}}}return l},Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("chunk",o=>{const i=r.shift();i?i.resolve(o):t.push(o)}),this.on("end",()=>{n=!0;for(const o of r)o.resolve(void 0);r.length=0}),this.on("abort",o=>{n=!0;for(const i of r)i.reject(o);r.length=0}),this.on("error",o=>{n=!0;for(const i of r)i.reject(o);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,s)=>r.push({resolve:i,reject:s})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new $r(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function xk(e,t){const{id:r,choices:n,created:o,model:i,system_fingerprint:s,...l}=e,a={...l,id:r,choices:n.map(({message:u,finish_reason:c,index:f,logprobs:p,...g})=>{if(!c)throw new Me(`missing finish_reason for choice ${f}`);const{content:y=null,function_call:_,tool_calls:C,...b}=u,v=u.role;if(!v)throw new Me(`missing role for choice ${f}`);if(_){const{arguments:w,name:A}=_;if(w==null)throw new Me(`missing function_call.arguments for choice ${f}`);if(!A)throw new Me(`missing function_call.name for choice ${f}`);return{...g,message:{content:y,function_call:{arguments:w,name:A},role:v,refusal:u.refusal??null},finish_reason:c,index:f,logprobs:p}}return C?{...g,index:f,finish_reason:c,logprobs:p,message:{...b,role:v,content:y,refusal:u.refusal??null,tool_calls:C.map((w,A)=>{const{function:T,type:k,id:E,...x}=w,{arguments:U,name:H,...Q}=T||{};if(E==null)throw new Me(`missing choices[${f}].tool_calls[${A}].id
${ol(e)}`);if(k==null)throw new Me(`missing choices[${f}].tool_calls[${A}].type
${ol(e)}`);if(H==null)throw new Me(`missing choices[${f}].tool_calls[${A}].function.name
${ol(e)}`);if(U==null)throw new Me(`missing choices[${f}].tool_calls[${A}].function.arguments
${ol(e)}`);return{...x,id:E,type:k,function:{...Q,name:H,arguments:U}}})}}:{...g,message:{...b,content:y,role:v,refusal:u.refusal??null},finish_reason:c,index:f,logprobs:p}}),created:o,model:i,object:"chat.completion",...s?{system_fingerprint:s}:{}};return pk(a,t)}function ol(e){return JSON.stringify(e)}class Zi extends _s{static fromReadableStream(t){const r=new Zi(null);return r._run(()=>r._fromReadableStream(t)),r}static runFunctions(t,r,n){const o=new Zi(null),i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runFunctions"}};return o._run(()=>o._runFunctions(t,r,i)),o}static runTools(t,r,n){const o=new Zi(r),i={...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"runTools"}};return o._run(()=>o._runTools(t,r,i)),o}}let ew=class extends $e{parse(t,r){return vk(t.tools),this._client.chat.completions.create(t,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"beta.chat.completions.parse"}})._thenUnwrap(n=>Sd(n,t))}runFunctions(t,r){return t.stream?Zi.runFunctions(this._client,t,r):ws.runFunctions(this._client,t,r)}runTools(t,r){return t.stream?Zi.runTools(this._client,t,r):ws.runTools(this._client,t,r)}stream(t,r){return _s.createChatCompletion(this._client,t,r)}};class af extends $e{constructor(){super(...arguments),this.completions=new ew(this._client)}}(function(e){e.Completions=ew})(af||(af={}));var ke=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Xt=function(e,t,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(e,r):o?o.value=r:t.set(e,r),r},Et,uf,Lr,Pl,_r,ii,zi,Xn,ca,Zt,Tl,Rl,ts,Do,Wo,Gm,Jm,Xm,Zm,eg,tg,rg;class Ar extends $1{constructor(){super(...arguments),Et.add(this),uf.set(this,[]),Lr.set(this,{}),Pl.set(this,{}),_r.set(this,void 0),ii.set(this,void 0),zi.set(this,void 0),Xn.set(this,void 0),ca.set(this,void 0),Zt.set(this,void 0),Tl.set(this,void 0),Rl.set(this,void 0),ts.set(this,void 0)}[(uf=new WeakMap,Lr=new WeakMap,Pl=new WeakMap,_r=new WeakMap,ii=new WeakMap,zi=new WeakMap,Xn=new WeakMap,ca=new WeakMap,Zt=new WeakMap,Tl=new WeakMap,Rl=new WeakMap,ts=new WeakMap,Et=new WeakSet,Symbol.asyncIterator)](){const t=[],r=[];let n=!1;return this.on("event",o=>{const i=r.shift();i?i.resolve(o):t.push(o)}),this.on("end",()=>{n=!0;for(const o of r)o.resolve(void 0);r.length=0}),this.on("abort",o=>{n=!0;for(const i of r)i.reject(o);r.length=0}),this.on("error",o=>{n=!0;for(const i of r)i.reject(o);r.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((i,s)=>r.push({resolve:i,reject:s})).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const r=new Ar;return r._run(()=>r._fromReadableStream(t)),r}async _fromReadableStream(t,r){var i;const n=r==null?void 0:r.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const o=$r.fromReadableStream(t,this.controller);for await(const s of o)ke(this,Et,"m",Do).call(this,s);if((i=o.controller.signal)!=null&&i.aborted)throw new kr;return this._addRun(ke(this,Et,"m",Wo).call(this))}toReadableStream(){return new $r(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,r,n,o,i){const s=new Ar;return s._run(()=>s._runToolAssistantStream(t,r,n,o,{...i,headers:{...i==null?void 0:i.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createToolAssistantStream(t,r,n,o,i){var u;const s=i==null?void 0:i.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const l={...o,stream:!0},a=await t.submitToolOutputs(r,n,l,{...i,signal:this.controller.signal});this._connected();for await(const c of a)ke(this,Et,"m",Do).call(this,c);if((u=a.controller.signal)!=null&&u.aborted)throw new kr;return this._addRun(ke(this,Et,"m",Wo).call(this))}static createThreadAssistantStream(t,r,n){const o=new Ar;return o._run(()=>o._threadAssistantStream(t,r,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"stream"}})),o}static createAssistantStream(t,r,n,o){const i=new Ar;return i._run(()=>i._runAssistantStream(t,r,n,{...o,headers:{...o==null?void 0:o.headers,"X-Stainless-Helper-Method":"stream"}})),i}currentEvent(){return ke(this,Tl,"f")}currentRun(){return ke(this,Rl,"f")}currentMessageSnapshot(){return ke(this,_r,"f")}currentRunStepSnapshot(){return ke(this,ts,"f")}async finalRunSteps(){return await this.done(),Object.values(ke(this,Lr,"f"))}async finalMessages(){return await this.done(),Object.values(ke(this,Pl,"f"))}async finalRun(){if(await this.done(),!ke(this,ii,"f"))throw Error("Final run was not received.");return ke(this,ii,"f")}async _createThreadAssistantStream(t,r,n){var l;const o=n==null?void 0:n.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const i={...r,stream:!0},s=await t.createAndRun(i,{...n,signal:this.controller.signal});this._connected();for await(const a of s)ke(this,Et,"m",Do).call(this,a);if((l=s.controller.signal)!=null&&l.aborted)throw new kr;return this._addRun(ke(this,Et,"m",Wo).call(this))}async _createAssistantStream(t,r,n,o){var a;const i=o==null?void 0:o.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",()=>this.controller.abort()));const s={...n,stream:!0},l=await t.create(r,s,{...o,signal:this.controller.signal});this._connected();for await(const u of l)ke(this,Et,"m",Do).call(this,u);if((a=l.controller.signal)!=null&&a.aborted)throw new kr;return this._addRun(ke(this,Et,"m",Wo).call(this))}static accumulateDelta(t,r){for(const[n,o]of Object.entries(r)){if(!t.hasOwnProperty(n)){t[n]=o;continue}let i=t[n];if(i==null){t[n]=o;continue}if(n==="index"||n==="type"){t[n]=o;continue}if(typeof i=="string"&&typeof o=="string")i+=o;else if(typeof i=="number"&&typeof o=="number")i+=o;else if(Pu(i)&&Pu(o))i=this.accumulateDelta(i,o);else if(Array.isArray(i)&&Array.isArray(o)){if(i.every(s=>typeof s=="string"||typeof s=="number")){i.push(...o);continue}for(const s of o){if(!Pu(s))throw new Error(`Expected array delta entry to be an object but got: ${s}`);const l=s.index;if(l==null)throw console.error(s),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${l}`);const a=i[l];a==null?i.push(s):i[l]=this.accumulateDelta(a,s)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${o}, accValue: ${i}`);t[n]=i}return t}_addRun(t){return t}async _threadAssistantStream(t,r,n){return await this._createThreadAssistantStream(r,t,n)}async _runAssistantStream(t,r,n,o){return await this._createAssistantStream(r,t,n,o)}async _runToolAssistantStream(t,r,n,o,i){return await this._createToolAssistantStream(n,t,r,o,i)}}Do=function(t){if(!this.ended)switch(Xt(this,Tl,t,"f"),ke(this,Et,"m",Xm).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":ke(this,Et,"m",rg).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ke(this,Et,"m",Jm).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":ke(this,Et,"m",Gm).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Wo=function(){if(this.ended)throw new Me("stream has ended, this shouldn't happen");if(!ke(this,ii,"f"))throw Error("Final run has not been received");return ke(this,ii,"f")},Gm=function(t){const[r,n]=ke(this,Et,"m",eg).call(this,t,ke(this,_r,"f"));Xt(this,_r,r,"f"),ke(this,Pl,"f")[r.id]=r;for(const o of n){const i=r.content[o.index];(i==null?void 0:i.type)=="text"&&this._emit("textCreated",i.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,r),t.data.delta.content)for(const o of t.data.delta.content){if(o.type=="text"&&o.text){let i=o.text,s=r.content[o.index];if(s&&s.type=="text")this._emit("textDelta",i,s.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(o.index!=ke(this,zi,"f")){if(ke(this,Xn,"f"))switch(ke(this,Xn,"f").type){case"text":this._emit("textDone",ke(this,Xn,"f").text,ke(this,_r,"f"));break;case"image_file":this._emit("imageFileDone",ke(this,Xn,"f").image_file,ke(this,_r,"f"));break}Xt(this,zi,o.index,"f")}Xt(this,Xn,r.content[o.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(ke(this,zi,"f")!==void 0){const o=t.data.content[ke(this,zi,"f")];if(o)switch(o.type){case"image_file":this._emit("imageFileDone",o.image_file,ke(this,_r,"f"));break;case"text":this._emit("textDone",o.text,ke(this,_r,"f"));break}}ke(this,_r,"f")&&this._emit("messageDone",t.data),Xt(this,_r,void 0,"f")}},Jm=function(t){const r=ke(this,Et,"m",Zm).call(this,t);switch(Xt(this,ts,r,"f"),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const n=t.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(const i of n.step_details.tool_calls)i.index==ke(this,ca,"f")?this._emit("toolCallDelta",i,r.step_details.tool_calls[i.index]):(ke(this,Zt,"f")&&this._emit("toolCallDone",ke(this,Zt,"f")),Xt(this,ca,i.index,"f"),Xt(this,Zt,r.step_details.tool_calls[i.index],"f"),ke(this,Zt,"f")&&this._emit("toolCallCreated",ke(this,Zt,"f")));this._emit("runStepDelta",t.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Xt(this,ts,void 0,"f"),t.data.step_details.type=="tool_calls"&&ke(this,Zt,"f")&&(this._emit("toolCallDone",ke(this,Zt,"f")),Xt(this,Zt,void 0,"f")),this._emit("runStepDone",t.data,r);break}},Xm=function(t){ke(this,uf,"f").push(t),this._emit("event",t)},Zm=function(t){switch(t.event){case"thread.run.step.created":return ke(this,Lr,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let r=ke(this,Lr,"f")[t.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=t.data;if(n.delta){const o=Ar.accumulateDelta(r,n.delta);ke(this,Lr,"f")[t.data.id]=o}return ke(this,Lr,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":ke(this,Lr,"f")[t.data.id]=t.data;break}if(ke(this,Lr,"f")[t.data.id])return ke(this,Lr,"f")[t.data.id];throw new Error("No snapshot available")},eg=function(t,r){let n=[];switch(t.event){case"thread.message.created":return[t.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let o=t.data;if(o.delta.content)for(const i of o.delta.content)if(i.index in r.content){let s=r.content[i.index];r.content[i.index]=ke(this,Et,"m",tg).call(this,i,s)}else r.content[i.index]=i,n.push(i);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},tg=function(t,r){return Ar.accumulateDelta(r,t)},rg=function(t){switch(Xt(this,Rl,t.data,"f"),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":Xt(this,ii,t.data,"f"),ke(this,Zt,"f")&&(this._emit("toolCallDone",ke(this,Zt,"f")),Xt(this,Zt,void 0,"f"));break}};class Ed extends $e{create(t,r,n){return this._client.post(`/threads/${t}/messages`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,r,n){return this._client.get(`/threads/${t}/messages/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,r,n,o){return this._client.post(`/threads/${t}/messages/${r}`,{body:n,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(t,r={},n){return Yt(r)?this.list(t,{},r):this._client.getAPIList(`/threads/${t}/messages`,kd,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,r,n){return this._client.delete(`/threads/${t}/messages/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}}class kd extends Pr{}Ed.MessagesPage=kd;class Ad extends $e{retrieve(t,r,n,o={},i){return Yt(o)?this.retrieve(t,r,n,{},o):this._client.get(`/threads/${t}/runs/${r}/steps/${n}`,{query:o,...i,headers:{"OpenAI-Beta":"assistants=v2",...i==null?void 0:i.headers}})}list(t,r,n={},o){return Yt(n)?this.list(t,r,{},n):this._client.getAPIList(`/threads/${t}/runs/${r}/steps`,Cd,{query:n,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}}class Cd extends Pr{}Ad.RunStepsPage=Cd;class Ps extends $e{constructor(){super(...arguments),this.steps=new Ad(this._client)}create(t,r,n){const{include:o,...i}=r;return this._client.post(`/threads/${t}/runs`,{query:{include:o},body:i,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers},stream:r.stream??!1})}retrieve(t,r,n){return this._client.get(`/threads/${t}/runs/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}update(t,r,n,o){return this._client.post(`/threads/${t}/runs/${r}`,{body:n,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}list(t,r={},n){return Yt(r)?this.list(t,{},r):this._client.getAPIList(`/threads/${t}/runs`,Id,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}cancel(t,r,n){return this._client.post(`/threads/${t}/runs/${r}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(t,r,n){const o=await this.create(t,r,n);return await this.poll(t,o.id,n)}createAndStream(t,r,n){return Ar.createAssistantStream(t,this._client.beta.threads.runs,r,n)}async poll(t,r,n){const o={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:i,response:s}=await this.retrieve(t,r,{...n,headers:{...n==null?void 0:n.headers,...o}}).withResponse();switch(i.status){case"queued":case"in_progress":case"cancelling":let l=5e3;if(n!=null&&n.pollIntervalMs)l=n.pollIntervalMs;else{const a=s.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await Cs(l);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return i}}}stream(t,r,n){return Ar.createAssistantStream(t,this._client.beta.threads.runs,r,n)}submitToolOutputs(t,r,n,o){return this._client.post(`/threads/${t}/runs/${r}/submit_tool_outputs`,{body:n,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers},stream:n.stream??!1})}async submitToolOutputsAndPoll(t,r,n,o){const i=await this.submitToolOutputs(t,r,n,o);return await this.poll(t,i.id,o)}submitToolOutputsStream(t,r,n,o){return Ar.createToolAssistantStream(t,r,this._client.beta.threads.runs,n,o)}}class Id extends Pr{}Ps.RunsPage=Id;Ps.Steps=Ad;Ps.RunStepsPage=Cd;class mo extends $e{constructor(){super(...arguments),this.runs=new Ps(this._client),this.messages=new Ed(this._client)}create(t={},r){return Yt(t)?this.create({},t):this._client.post("/threads",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,r){return this._client.get(`/threads/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,r,n){return this._client.post(`/threads/${t}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,r){return this._client.delete(`/threads/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}createAndRun(t,r){return this._client.post("/threads/runs",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers},stream:t.stream??!1})}async createAndRunPoll(t,r){const n=await this.createAndRun(t,r);return await this.runs.poll(n.thread_id,n.id,r)}createAndRunStream(t,r){return Ar.createThreadAssistantStream(t,this._client.beta.threads,r)}}mo.Runs=Ps;mo.RunsPage=Id;mo.Messages=Ed;mo.MessagesPage=kd;const Pk=async e=>{const t=await Promise.allSettled(e),r=t.filter(o=>o.status==="rejected");if(r.length){for(const o of r)console.error(o.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}const n=[];for(const o of t)o.status==="fulfilled"&&n.push(o.value);return n};let xd=class extends $e{create(t,r,n){return this._client.post(`/vector_stores/${t}/files`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,r,n){return this._client.get(`/vector_stores/${t}/files/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(t,r={},n){return Yt(r)?this.list(t,{},r):this._client.getAPIList(`/vector_stores/${t}/files`,La,{query:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}del(t,r,n){return this._client.delete(`/vector_stores/${t}/files/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(t,r,n){const o=await this.create(t,r,n);return await this.poll(t,o.id,n)}async poll(t,r,n){const o={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const i=await this.retrieve(t,r,{...n,headers:o}).withResponse(),s=i.data;switch(s.status){case"in_progress":let l=5e3;if(n!=null&&n.pollIntervalMs)l=n.pollIntervalMs;else{const a=i.response.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await Cs(l);break;case"failed":case"completed":return s}}}async upload(t,r,n){const o=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(t,{file_id:o.id},n)}async uploadAndPoll(t,r,n){const o=await this.upload(t,r,n);return await this.poll(t,o.id,n)}};class La extends Pr{}xd.VectorStoreFilesPage=La;class tw extends $e{create(t,r,n){return this._client.post(`/vector_stores/${t}/file_batches`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}retrieve(t,r,n){return this._client.get(`/vector_stores/${t}/file_batches/${r}`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}cancel(t,r,n){return this._client.post(`/vector_stores/${t}/file_batches/${r}/cancel`,{...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}async createAndPoll(t,r,n){const o=await this.create(t,r);return await this.poll(t,o.id,n)}listFiles(t,r,n={},o){return Yt(n)?this.listFiles(t,r,{},n):this._client.getAPIList(`/vector_stores/${t}/file_batches/${r}/files`,La,{query:n,...o,headers:{"OpenAI-Beta":"assistants=v2",...o==null?void 0:o.headers}})}async poll(t,r,n){const o={...n==null?void 0:n.headers,"X-Stainless-Poll-Helper":"true"};for(n!=null&&n.pollIntervalMs&&(o["X-Stainless-Custom-Poll-Interval"]=n.pollIntervalMs.toString());;){const{data:i,response:s}=await this.retrieve(t,r,{...n,headers:o}).withResponse();switch(i.status){case"in_progress":let l=5e3;if(n!=null&&n.pollIntervalMs)l=n.pollIntervalMs;else{const a=s.headers.get("openai-poll-after-ms");if(a){const u=parseInt(a);isNaN(u)||(l=u)}}await Cs(l);break;case"failed":case"cancelled":case"completed":return i}}}async uploadAndPoll(t,{files:r,fileIds:n=[]},o){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=(o==null?void 0:o.maxConcurrency)??5,s=Math.min(i,r.length),l=this._client,a=r.values(),u=[...n];async function c(p){for(let g of p){const y=await l.files.create({file:g,purpose:"assistants"},o);u.push(y.id)}}const f=Array(s).fill(a).map(c);return await Pk(f),await this.createAndPoll(t,{file_ids:u})}}class go extends $e{constructor(){super(...arguments),this.files=new xd(this._client),this.fileBatches=new tw(this._client)}create(t,r){return this._client.post("/vector_stores",{body:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}retrieve(t,r){return this._client.get(`/vector_stores/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}update(t,r,n){return this._client.post(`/vector_stores/${t}`,{body:r,...n,headers:{"OpenAI-Beta":"assistants=v2",...n==null?void 0:n.headers}})}list(t={},r){return Yt(t)?this.list({},t):this._client.getAPIList("/vector_stores",Pd,{query:t,...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}del(t,r){return this._client.delete(`/vector_stores/${t}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r==null?void 0:r.headers}})}}class Pd extends Pr{}go.VectorStoresPage=Pd;go.Files=xd;go.VectorStoreFilesPage=La;go.FileBatches=tw;class Si extends $e{constructor(){super(...arguments),this.vectorStores=new go(this._client),this.chat=new af(this._client),this.assistants=new _d(this._client),this.threads=new mo(this._client)}}Si.VectorStores=go;Si.VectorStoresPage=Pd;Si.Assistants=_d;Si.AssistantsPage=bd;Si.Threads=mo;class rw extends $e{create(t,r){return this._client.post("/completions",{body:t,...r,stream:t.stream??!1})}}class nw extends $e{create(t,r){return this._client.post("/embeddings",{body:t,...r})}}class Td extends $e{create(t,r){return this._client.post("/files",lo({body:t,...r}))}retrieve(t,r){return this._client.get(`/files/${t}`,r)}list(t={},r){return Yt(t)?this.list({},t):this._client.getAPIList("/files",Rd,{query:t,...r})}del(t,r){return this._client.delete(`/files/${t}`,r)}content(t,r){return this._client.get(`/files/${t}/content`,{...r,__binaryResponse:!0})}retrieveContent(t,r){return this._client.get(`/files/${t}/content`,{...r,headers:{Accept:"application/json",...r==null?void 0:r.headers}})}async waitForProcessing(t,{pollInterval:r=5e3,maxWait:n=30*60*1e3}={}){const o=new Set(["processed","error","deleted"]),i=Date.now();let s=await this.retrieve(t);for(;!s.status||!o.has(s.status);)if(await Cs(r),s=await this.retrieve(t),Date.now()-i>n)throw new gd({message:`Giving up on waiting for file ${t} to finish processing after ${n} milliseconds.`});return s}}class Rd extends Pr{}Td.FileObjectsPage=Rd;class Od extends $e{list(t,r={},n){return Yt(r)?this.list(t,{},r):this._client.getAPIList(`/fine_tuning/jobs/${t}/checkpoints`,Nd,{query:r,...n})}}class Nd extends Pr{}Od.FineTuningJobCheckpointsPage=Nd;class yo extends $e{constructor(){super(...arguments),this.checkpoints=new Od(this._client)}create(t,r){return this._client.post("/fine_tuning/jobs",{body:t,...r})}retrieve(t,r){return this._client.get(`/fine_tuning/jobs/${t}`,r)}list(t={},r){return Yt(t)?this.list({},t):this._client.getAPIList("/fine_tuning/jobs",Md,{query:t,...r})}cancel(t,r){return this._client.post(`/fine_tuning/jobs/${t}/cancel`,r)}listEvents(t,r={},n){return Yt(r)?this.listEvents(t,{},r):this._client.getAPIList(`/fine_tuning/jobs/${t}/events`,Bd,{query:r,...n})}}class Md extends Pr{}class Bd extends Pr{}yo.FineTuningJobsPage=Md;yo.FineTuningJobEventsPage=Bd;yo.Checkpoints=Od;yo.FineTuningJobCheckpointsPage=Nd;class Ts extends $e{constructor(){super(...arguments),this.jobs=new yo(this._client)}}Ts.Jobs=yo;Ts.FineTuningJobsPage=Md;Ts.FineTuningJobEventsPage=Bd;class iw extends $e{createVariation(t,r){return this._client.post("/images/variations",lo({body:t,...r}))}edit(t,r){return this._client.post("/images/edits",lo({body:t,...r}))}generate(t,r){return this._client.post("/images/generations",{body:t,...r})}}class Ld extends $e{retrieve(t,r){return this._client.get(`/models/${t}`,r)}list(t){return this._client.getAPIList("/models",jd,t)}del(t,r){return this._client.delete(`/models/${t}`,r)}}class jd extends dk{}Ld.ModelsPage=jd;class ow extends $e{create(t,r){return this._client.post("/moderations",{body:t,...r})}}class sw extends $e{create(t,r,n){return this._client.post(`/uploads/${t}/parts`,lo({body:r,...n}))}}class Ud extends $e{constructor(){super(...arguments),this.parts=new sw(this._client)}create(t,r){return this._client.post("/uploads",{body:t,...r})}cancel(t,r){return this._client.post(`/uploads/${t}/cancel`,r)}complete(t,r,n){return this._client.post(`/uploads/${t}/complete`,{body:r,...n})}}Ud.Parts=sw;var lw;class Be extends ek{constructor({baseURL:t=rl("OPENAI_BASE_URL"),apiKey:r=rl("OPENAI_API_KEY"),organization:n=rl("OPENAI_ORG_ID")??null,project:o=rl("OPENAI_PROJECT_ID")??null,...i}={}){if(r===void 0)throw new Me("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const s={apiKey:r,organization:n,project:o,...i,baseURL:t||"https://api.openai.com/v1"};if(!s.dangerouslyAllowBrowser&&hk())throw new Me(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:s.baseURL,timeout:s.timeout??6e5,httpAgent:s.httpAgent,maxRetries:s.maxRetries,fetch:s.fetch}),this.completions=new rw(this),this.chat=new yd(this),this.embeddings=new nw(this),this.files=new Td(this),this.images=new iw(this),this.audio=new Is(this),this.moderations=new ow(this),this.models=new Ld(this),this.fineTuning=new Ts(this),this.beta=new Si(this),this.batches=new vd(this),this.uploads=new Ud(this),this._options=s,this.apiKey=r,this.organization=n,this.project=o}defaultQuery(){return this._options.defaultQuery}defaultHeaders(t){return{...super.defaultHeaders(t),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(t){return{Authorization:`Bearer ${this.apiKey}`}}stringifyQuery(t){return jE(t,{arrayFormat:"brackets"})}}lw=Be;Be.OpenAI=lw;Be.DEFAULT_TIMEOUT=6e5;Be.OpenAIError=Me;Be.APIError=Ct;Be.APIConnectionError=Na;Be.APIConnectionTimeoutError=gd;Be.APIUserAbortError=kr;Be.NotFoundError=y1;Be.ConflictError=v1;Be.RateLimitError=_1;Be.BadRequestError=p1;Be.AuthenticationError=m1;Be.InternalServerError=b1;Be.PermissionDeniedError=g1;Be.UnprocessableEntityError=w1;Be.toFile=I1;Be.fileFromPath=f1;Be.Completions=rw;Be.Chat=yd;Be.Embeddings=nw;Be.Files=Td;Be.FileObjectsPage=Rd;Be.Images=iw;Be.Audio=Is;Be.Moderations=ow;Be.Models=Ld;Be.ModelsPage=jd;Be.FineTuning=Ts;Be.Beta=Si;Be.Batches=vd;Be.BatchesPage=wd;Be.Uploads=Ud;const Tk=({temperature:e,humidity:t,soilMoisture:r})=>{const[n,o]=Ut.useState(""),[i,s]=Ut.useState(!1),[l,a]=Ut.useState(!1),[u,c]=Ut.useState(!1),[f,p]=Ut.useState(null),g=new Be({apiKey:void 0,dangerouslyAllowBrowser:!0}),y=Ut.useCallback(async()=>{console.log("Starting to generate recommendation..."),s(!0);try{const b=`
        As a plant care expert, analyze these conditions for Pak Choi (Chinese Cabbage):
        
        Current Readings:
        - Temperature: ${e}°C
        - Humidity: ${t}%
        - Soil Moisture: ${r}%
        
        Optimal Conditions for Pak Choi:
        - Temperature: 15-22°C
        - Humidity: 60-70%
        - Soil Moisture: 60-80%
        
        Please provide your response in this format:
        
        # Assessment of Current Conditions
        [Your assessment here]
        
        # Required Actions
        * [Action 1]
        * [Action 2]
        * [Action 3]
        
        # Warnings
        * [Warning 1]
        * [Warning 2]
        
        # Maintenance Tips
        * [Tip 1]
        * [Tip 2]
        * [Tip 3]
        
        Keep each section concise and practical.
      `,w=(await g.chat.completions.create({messages:[{role:"user",content:b}],model:"gpt-3.5-turbo"})).choices[0].message.content.replace(/# (.*)/g,"<h3>$1</h3>").replace(/\* (.*)/g,"<li>$1</li>").replace(/\n\n/g,"</ul><br/><ul>").replace(/(<li>.*?<\/li>)/g,"<ul>$1</ul>");o(w),c(!0)}catch(b){console.error("Error generating recommendation:",b),p("Unable to get recommendation at this time. Please try again later.")}finally{s(!1)}},[e,t,r]),_=Ut.useCallback(b=>{a(b.target.checked),b.target.checked?(s(!0),y()):s(!1)},[y]),C=()=>{c(!1),o(""),a(!1),document.body.classList.remove("modal-open")};return Ut.useEffect(()=>{u?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open")},[u]),Ee.jsxs("div",{className:"recommendation-box",children:[Ee.jsx("h2",{children:"Plant Care Recommendation"}),Ee.jsxs("div",{className:"current-conditions",children:[Ee.jsx("p",{children:"The current plant conditions are:"}),Ee.jsxs("p",{children:["Temperature: ",e,"°C"]}),Ee.jsxs("p",{children:["Humidity: ",t,"%"]}),Ee.jsxs("p",{children:["Soil Moisture: ",r,"%"]})]}),Ee.jsxs("div",{className:"toggle-container",children:[Ee.jsxs("label",{className:"toggle-switch",children:[Ee.jsx("input",{type:"checkbox",checked:l,onChange:_,disabled:i}),Ee.jsx("span",{className:"slider round"})]}),Ee.jsx("span",{children:"Get Plant Care Advice"})]}),u&&Ee.jsx("div",{className:"overlay",children:Ee.jsxs("div",{className:"recommendation-content",children:[Ee.jsx("button",{className:"close-button",onClick:C,children:"✖"}),i?Ee.jsx("div",{className:"loading flashing",children:"Generating recommendation..."}):Ee.jsxs("div",{children:[Ee.jsx("div",{dangerouslySetInnerHTML:{__html:n}}),Ee.jsx("div",{className:"disclaimer",children:Ee.jsx("p",{children:"This is a recommendation from Generative AI and does not serve as professional advice. Always consult with a qualified agronomist or expert for critical decisions."})})]})]})}),f&&Ee.jsx("div",{className:"error-message",children:f})]})},Rk=()=>{const[e,t]=Ut.useState(1),[r,n]=Ut.useState({1:{temperature:0,humidity:0,soilmoisture:0},2:{temperature:0,humidity:0,soilmoisture:0},3:{temperature:0,humidity:0,soilmoisture:0},4:{temperature:0,humidity:0,soilmoisture:0},5:{temperature:0,humidity:0,soilmoisture:0},6:{temperature:0,humidity:0,soilmoisture:0}}),[o,i]=Ut.useState(null);Ut.useEffect(()=>{const l=CE.connect("wss://broker.mqttgo.io:8084/mqtt",{clientId:`mqttjs_${Math.random().toString(16).substr(2,8)}`,clean:!0,connectTimeout:4e3,reconnectPeriod:1e3});return l.on("connect",()=>{console.log("Connected to MQTT broker");for(let a=1;a<=6;a++)l.subscribe(`Temperature_0${a}`),l.subscribe(`Humidity_0${a}`),l.subscribe(`Soilmoisture_0${a}`)}),l.on("message",(a,u)=>{const c=parseFloat(u.toString()),[f,p]=a.split("_"),g=parseInt(p);n(y=>({...y,[g]:{...y[g],[f.toLowerCase()]:c}}))}),i(l),()=>{l&&l.end()}},[]);const s=()=>Ee.jsx("div",{className:"sidebar",children:Ee.jsx("nav",{children:Ee.jsx("ul",{children:[...Array(6)].map((l,a)=>Ee.jsx("li",{children:Ee.jsxs("button",{className:`nav-item ${e===a+1?"active":""}`,onClick:()=>t(a+1),children:["Plant_",String(a+1).padStart(2,"0")]})},a+1))})})});return Ee.jsxs("div",{className:"app-container",children:[s(),Ee.jsxs("div",{className:"dashboard-container",children:[Ee.jsxs("div",{className:"gauges-container",children:[Ee.jsxs("div",{className:"gauge-card",children:[Ee.jsx("h2",{children:"Temperature"}),Ee.jsx(ku,{value:r[e].temperature,minValue:0,maxValue:50,title:"Temperature",needleColor:"#FF6B6B",color:"#FF6B6B"}),Ee.jsxs("div",{className:"gauge-value",children:[r[e].temperature.toFixed(1),"°C"]})]}),Ee.jsxs("div",{className:"gauge-card",children:[Ee.jsx("h2",{children:"Humidity"}),Ee.jsx(ku,{value:r[e].humidity,minValue:0,maxValue:100,title:"Humidity",needleColor:"#4ECDC4",color:"#4ECDC4"}),Ee.jsxs("div",{className:"gauge-value",children:[r[e].humidity.toFixed(1),"%"]})]}),Ee.jsxs("div",{className:"gauge-card",children:[Ee.jsx("h2",{children:"Soil Moisture"}),Ee.jsx(ku,{value:r[e].soilmoisture,minValue:0,maxValue:100,title:"Soil Moisture",needleColor:"#f9b603",color:"#f9b603"}),Ee.jsxs("div",{className:"gauge-value",children:[r[e].soilmoisture.toFixed(1),"%"]})]})]}),Ee.jsx(Tk,{className:"plant-recommendation",temperature:r[e].temperature,humidity:r[e].humidity,soilmoisture:r[e].soilmoisture})]})]})},Ok=()=>(console.log("App component rendering"),Ee.jsxs("div",{className:"app",children:[Ee.jsxs("header",{className:"app-header",children:[Ee.jsx("h1",{children:"Plant Monitoring System"}),Ee.jsx("img",{src:IE,alt:"Plant Logo",className:"logo"})]}),Ee.jsx("main",{className:"app-main",children:Ee.jsx(Rk,{})})]}));Bu.createRoot(document.getElementById("root")).render(Ee.jsx(Cw.StrictMode,{children:Ee.jsx(Ok,{})}));
